webpackJsonp([8],{396:function(e,t,r){r(560);var n=r(8)(r(534),r(605),"data-v-696c3d32",null);e.exports=n.exports},494:function(e,t,r){!function(){"use strict";var e,t=function(n,o){function i(e){return Math.floor(e)}function a(){var e=b.params.autoplay,t=b.slides.eq(b.activeIndex);t.attr("data-swiper-autoplay")&&(e=t.attr("data-swiper-autoplay")||b.params.autoplay),b.autoplayTimeoutId=setTimeout(function(){b.params.loop?(b.fixLoop(),b._slideNext(),b.emit("onAutoplay",b)):b.isEnd?o.autoplayStopOnLast?b.stopAutoplay():(b._slideTo(0),b.emit("onAutoplay",b)):(b._slideNext(),b.emit("onAutoplay",b))},e)}function s(t,r){var n=e(t.target);if(!n.is(r))if("string"==typeof r)n=n.parents(r);else if(r.nodeType){var o;return n.parents().each(function(e,t){t===r&&(o=r)}),o?r:void 0}if(0!==n.length)return n[0]}function l(e,t){t=t||{};var r=window.MutationObserver||window.WebkitMutationObserver,n=new r(function(e){e.forEach(function(e){b.onResize(!0),b.emit("onObserverUpdate",b,e)})});n.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),b.observers.push(n)}function u(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!b.params.allowSwipeToNext&&(b.isHorizontal()&&39===t||!b.isHorizontal()&&40===t))return!1;if(!b.params.allowSwipeToPrev&&(b.isHorizontal()&&37===t||!b.isHorizontal()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var r=!1;if(b.container.parents("."+b.params.slideClass).length>0&&0===b.container.parents("."+b.params.slideActiveClass).length)return;var n={left:window.pageXOffset,top:window.pageYOffset},o=window.innerWidth,i=window.innerHeight,a=b.container.offset();b.rtl&&(a.left=a.left-b.container[0].scrollLeft);for(var s=[[a.left,a.top],[a.left+b.width,a.top],[a.left,a.top+b.height],[a.left+b.width,a.top+b.height]],l=0;l<s.length;l++){var u=s[l];u[0]>=n.left&&u[0]<=n.left+o&&u[1]>=n.top&&u[1]<=n.top+i&&(r=!0)}if(!r)return}b.isHorizontal()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!b.rtl||37===t&&b.rtl)&&b.slideNext(),(37===t&&!b.rtl||39===t&&b.rtl)&&b.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&b.slideNext(),38===t&&b.slidePrev()),b.emit("onKeyPress",b,t)}}function d(e){var t=0,r=0,n=0,o=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),n=10*t,o=10*r,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||o)&&e.deltaMode&&(1===e.deltaMode?(n*=40,o*=40):(n*=800,o*=800)),n&&!t&&(t=n<1?-1:1),o&&!r&&(r=o<1?-1:1),{spinX:t,spinY:r,pixelX:n,pixelY:o}}function c(e){e.originalEvent&&(e=e.originalEvent);var t=0,r=b.rtl?-1:1,n=d(e);if(b.params.mousewheelForceToAxis)if(b.isHorizontal()){if(!(Math.abs(n.pixelX)>Math.abs(n.pixelY)))return;t=n.pixelX*r}else{if(!(Math.abs(n.pixelY)>Math.abs(n.pixelX)))return;t=n.pixelY}else t=Math.abs(n.pixelX)>Math.abs(n.pixelY)?-n.pixelX*r:-n.pixelY;if(0!==t){if(b.params.mousewheelInvert&&(t=-t),b.params.freeMode){var o=b.getWrapperTranslate()+t*b.params.mousewheelSensitivity,i=b.isBeginning,a=b.isEnd;if(o>=b.minTranslate()&&(o=b.minTranslate()),o<=b.maxTranslate()&&(o=b.maxTranslate()),b.setWrapperTransition(0),b.setWrapperTranslate(o),b.updateProgress(),b.updateActiveIndex(),(!i&&b.isBeginning||!a&&b.isEnd)&&b.updateClasses(),b.params.freeModeSticky?(clearTimeout(b.mousewheel.timeout),b.mousewheel.timeout=setTimeout(function(){b.slideReset()},300)):b.params.lazyLoading&&b.lazy&&b.lazy.load(),b.emit("onScroll",b,e),b.params.autoplay&&b.params.autoplayDisableOnInteraction&&b.stopAutoplay(),0===o||o===b.maxTranslate())return}else{if((new window.Date).getTime()-b.mousewheel.lastScrollTime>60)if(t<0)if(b.isEnd&&!b.params.loop||b.animating){if(b.params.mousewheelReleaseOnEdges)return!0}else b.slideNext(),b.emit("onScroll",b,e);else if(b.isBeginning&&!b.params.loop||b.animating){if(b.params.mousewheelReleaseOnEdges)return!0}else b.slidePrev(),b.emit("onScroll",b,e);b.mousewheel.lastScrollTime=(new window.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function p(t,r){t=e(t);var n,o,i,a=b.rtl?-1:1;n=t.attr("data-swiper-parallax")||"0",o=t.attr("data-swiper-parallax-x"),i=t.attr("data-swiper-parallax-y"),o||i?(o=o||"0",i=i||"0"):b.isHorizontal()?(o=n,i="0"):(i=n,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*r*a+"%":o*r*a+"px",i=i.indexOf("%")>=0?parseInt(i,10)*r+"%":i*r+"px",t.transform("translate3d("+o+", "+i+",0px)")}function h(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof t))return new t(n,o);var f={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},g=o&&o.virtualTranslate;o=o||{};var m={};for(var v in o)if("object"!=typeof o[v]||null===o[v]||(o[v].nodeType||o[v]===window||o[v]===document||void 0!==r&&o[v]instanceof r||"undefined"!=typeof jQuery&&o[v]instanceof jQuery))m[v]=o[v];else{m[v]={};for(var y in o[v])m[v][y]=o[v][y]}for(var A in f)if(void 0===o[A])o[A]=f[A];else if("object"==typeof o[A])for(var _ in f[A])void 0===o[A][_]&&(o[A][_]=f[A][_]);var b=this;if(b.params=o,b.originalParams=m,b.classNames=[],void 0!==e&&void 0!==r&&(e=r),(void 0!==e||(e=void 0===r?window.Dom7||window.Zepto||window.jQuery:r))&&(b.$=e,b.currentBreakpoint=void 0,b.getActiveBreakpoint=function(){if(!b.params.breakpoints)return!1;var e,t=!1,r=[];for(e in b.params.breakpoints)b.params.breakpoints.hasOwnProperty(e)&&r.push(e);r.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var n=0;n<r.length;n++)(e=r[n])>=window.innerWidth&&!t&&(t=e);return t||"max"},b.setBreakpoint=function(){var e=b.getActiveBreakpoint();if(e&&b.currentBreakpoint!==e){var t=e in b.params.breakpoints?b.params.breakpoints[e]:b.originalParams,r=b.params.loop&&t.slidesPerView!==b.params.slidesPerView;for(var n in t)b.params[n]=t[n];b.currentBreakpoint=e,r&&b.destroyLoop&&b.reLoop(!0)}},b.params.breakpoints&&b.setBreakpoint(),b.container=e(n),0!==b.container.length)){if(b.container.length>1){var w=[];return b.container.each(function(){w.push(new t(this,o))}),w}b.container[0].swiper=b,b.container.data("swiper",b),b.classNames.push(b.params.containerModifierClass+b.params.direction),b.params.freeMode&&b.classNames.push(b.params.containerModifierClass+"free-mode"),b.support.flexbox||(b.classNames.push(b.params.containerModifierClass+"no-flexbox"),b.params.slidesPerColumn=1),b.params.autoHeight&&b.classNames.push(b.params.containerModifierClass+"autoheight"),(b.params.parallax||b.params.watchSlidesVisibility)&&(b.params.watchSlidesProgress=!0),b.params.touchReleaseOnEdges&&(b.params.resistanceRatio=0),["cube","coverflow","flip"].indexOf(b.params.effect)>=0&&(b.support.transforms3d?(b.params.watchSlidesProgress=!0,b.classNames.push(b.params.containerModifierClass+"3d")):b.params.effect="slide"),"slide"!==b.params.effect&&b.classNames.push(b.params.containerModifierClass+b.params.effect),"cube"===b.params.effect&&(b.params.resistanceRatio=0,b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.centeredSlides=!1,b.params.spaceBetween=0,b.params.virtualTranslate=!0),"fade"!==b.params.effect&&"flip"!==b.params.effect||(b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.watchSlidesProgress=!0,b.params.spaceBetween=0,void 0===g&&(b.params.virtualTranslate=!0)),b.params.grabCursor&&b.support.touch&&(b.params.grabCursor=!1),b.wrapper=b.container.children("."+b.params.wrapperClass),b.params.pagination&&(b.paginationContainer=e(b.params.pagination),b.params.uniqueNavElements&&"string"==typeof b.params.pagination&&b.paginationContainer.length>1&&1===b.container.find(b.params.pagination).length&&(b.paginationContainer=b.container.find(b.params.pagination)),"bullets"===b.params.paginationType&&b.params.paginationClickable?b.paginationContainer.addClass(b.params.paginationModifierClass+"clickable"):b.params.paginationClickable=!1,b.paginationContainer.addClass(b.params.paginationModifierClass+b.params.paginationType)),(b.params.nextButton||b.params.prevButton)&&(b.params.nextButton&&(b.nextButton=e(b.params.nextButton),b.params.uniqueNavElements&&"string"==typeof b.params.nextButton&&b.nextButton.length>1&&1===b.container.find(b.params.nextButton).length&&(b.nextButton=b.container.find(b.params.nextButton))),b.params.prevButton&&(b.prevButton=e(b.params.prevButton),b.params.uniqueNavElements&&"string"==typeof b.params.prevButton&&b.prevButton.length>1&&1===b.container.find(b.params.prevButton).length&&(b.prevButton=b.container.find(b.params.prevButton)))),b.isHorizontal=function(){return"horizontal"===b.params.direction},b.rtl=b.isHorizontal()&&("rtl"===b.container[0].dir.toLowerCase()||"rtl"===b.container.css("direction")),b.rtl&&b.classNames.push(b.params.containerModifierClass+"rtl"),b.rtl&&(b.wrongRTL="-webkit-box"===b.wrapper.css("display")),b.params.slidesPerColumn>1&&b.classNames.push(b.params.containerModifierClass+"multirow"),b.device.android&&b.classNames.push(b.params.containerModifierClass+"android"),b.container.addClass(b.classNames.join(" ")),b.translate=0,b.progress=0,b.velocity=0,b.lockSwipeToNext=function(){b.params.allowSwipeToNext=!1,!1===b.params.allowSwipeToPrev&&b.params.grabCursor&&b.unsetGrabCursor()},b.lockSwipeToPrev=function(){b.params.allowSwipeToPrev=!1,!1===b.params.allowSwipeToNext&&b.params.grabCursor&&b.unsetGrabCursor()},b.lockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!1,b.params.grabCursor&&b.unsetGrabCursor()},b.unlockSwipeToNext=function(){b.params.allowSwipeToNext=!0,!0===b.params.allowSwipeToPrev&&b.params.grabCursor&&b.setGrabCursor()},b.unlockSwipeToPrev=function(){b.params.allowSwipeToPrev=!0,!0===b.params.allowSwipeToNext&&b.params.grabCursor&&b.setGrabCursor()},b.unlockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!0,b.params.grabCursor&&b.setGrabCursor()},b.setGrabCursor=function(e){b.container[0].style.cursor="move",b.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",b.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",b.container[0].style.cursor=e?"grabbing":"grab"},b.unsetGrabCursor=function(){b.container[0].style.cursor=""},b.params.grabCursor&&b.setGrabCursor(),b.imagesToLoad=[],b.imagesLoaded=0,b.loadImage=function(e,t,r,n,o,i){function a(){i&&i()}var s;e.complete&&o?a():t?(s=new window.Image,s.onload=a,s.onerror=a,n&&(s.sizes=n),r&&(s.srcset=r),t&&(s.src=t)):a()},b.preloadImages=function(){function e(){void 0!==b&&null!==b&&b&&(void 0!==b.imagesLoaded&&b.imagesLoaded++,b.imagesLoaded===b.imagesToLoad.length&&(b.params.updateOnImagesReady&&b.update(),b.emit("onImagesReady",b)))}b.imagesToLoad=b.container.find("img");for(var t=0;t<b.imagesToLoad.length;t++)b.loadImage(b.imagesToLoad[t],b.imagesToLoad[t].currentSrc||b.imagesToLoad[t].getAttribute("src"),b.imagesToLoad[t].srcset||b.imagesToLoad[t].getAttribute("srcset"),b.imagesToLoad[t].sizes||b.imagesToLoad[t].getAttribute("sizes"),!0,e)},b.autoplayTimeoutId=void 0,b.autoplaying=!1,b.autoplayPaused=!1,b.startAutoplay=function(){return void 0===b.autoplayTimeoutId&&(!!b.params.autoplay&&(!b.autoplaying&&(b.autoplaying=!0,b.emit("onAutoplayStart",b),void a())))},b.stopAutoplay=function(e){b.autoplayTimeoutId&&(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplaying=!1,b.autoplayTimeoutId=void 0,b.emit("onAutoplayStop",b))},b.pauseAutoplay=function(e){b.autoplayPaused||(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplayPaused=!0,0===e?(b.autoplayPaused=!1,a()):b.wrapper.transitionEnd(function(){b&&(b.autoplayPaused=!1,b.autoplaying?a():b.stopAutoplay())}))},b.minTranslate=function(){return-b.snapGrid[0]},b.maxTranslate=function(){return-b.snapGrid[b.snapGrid.length-1]},b.updateAutoHeight=function(){var e,t=[],r=0;if("auto"!==b.params.slidesPerView&&b.params.slidesPerView>1)for(e=0;e<Math.ceil(b.params.slidesPerView);e++){var n=b.activeIndex+e;if(n>b.slides.length)break;t.push(b.slides.eq(n)[0])}else t.push(b.slides.eq(b.activeIndex)[0]);for(e=0;e<t.length;e++)if(void 0!==t[e]){var o=t[e].offsetHeight;r=o>r?o:r}r&&b.wrapper.css("height",r+"px")},b.updateContainerSize=function(){var e,t;e=void 0!==b.params.width?b.params.width:b.container[0].clientWidth,t=void 0!==b.params.height?b.params.height:b.container[0].clientHeight,0===e&&b.isHorizontal()||0===t&&!b.isHorizontal()||(e=e-parseInt(b.container.css("padding-left"),10)-parseInt(b.container.css("padding-right"),10),t=t-parseInt(b.container.css("padding-top"),10)-parseInt(b.container.css("padding-bottom"),10),b.width=e,b.height=t,b.size=b.isHorizontal()?b.width:b.height)},b.updateSlidesSize=function(){b.slides=b.wrapper.children("."+b.params.slideClass),b.snapGrid=[],b.slidesGrid=[],b.slidesSizesGrid=[];var e,t=b.params.spaceBetween,r=-b.params.slidesOffsetBefore,n=0,o=0;if(void 0!==b.size){"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*b.size),b.virtualSize=-t,b.rtl?b.slides.css({marginLeft:"",marginTop:""}):b.slides.css({marginRight:"",marginBottom:""});var a;b.params.slidesPerColumn>1&&(a=Math.floor(b.slides.length/b.params.slidesPerColumn)===b.slides.length/b.params.slidesPerColumn?b.slides.length:Math.ceil(b.slides.length/b.params.slidesPerColumn)*b.params.slidesPerColumn,"auto"!==b.params.slidesPerView&&"row"===b.params.slidesPerColumnFill&&(a=Math.max(a,b.params.slidesPerView*b.params.slidesPerColumn)));var s,l=b.params.slidesPerColumn,u=a/l,d=u-(b.params.slidesPerColumn*u-b.slides.length);for(e=0;e<b.slides.length;e++){s=0;var c=b.slides.eq(e);if(b.params.slidesPerColumn>1){var p,h,f;"column"===b.params.slidesPerColumnFill?(h=Math.floor(e/l),f=e-h*l,(h>d||h===d&&f===l-1)&&++f>=l&&(f=0,h++),p=h+f*a/l,c.css({"-webkit-box-ordinal-group":p,"-moz-box-ordinal-group":p,"-ms-flex-order":p,"-webkit-order":p,order:p})):(f=Math.floor(e/u),h=e-f*u),c.css("margin-"+(b.isHorizontal()?"top":"left"),0!==f&&b.params.spaceBetween&&b.params.spaceBetween+"px").attr("data-swiper-column",h).attr("data-swiper-row",f)}"none"!==c.css("display")&&("auto"===b.params.slidesPerView?(s=b.isHorizontal()?c.outerWidth(!0):c.outerHeight(!0),b.params.roundLengths&&(s=i(s))):(s=(b.size-(b.params.slidesPerView-1)*t)/b.params.slidesPerView,b.params.roundLengths&&(s=i(s)),b.isHorizontal()?b.slides[e].style.width=s+"px":b.slides[e].style.height=s+"px"),b.slides[e].swiperSlideSize=s,b.slidesSizesGrid.push(s),b.params.centeredSlides?(r=r+s/2+n/2+t,0===n&&0!==e&&(r=r-b.size/2-t),0===e&&(r=r-b.size/2-t),Math.abs(r)<.001&&(r=0),o%b.params.slidesPerGroup==0&&b.snapGrid.push(r),b.slidesGrid.push(r)):(o%b.params.slidesPerGroup==0&&b.snapGrid.push(r),b.slidesGrid.push(r),r=r+s+t),b.virtualSize+=s+t,n=s,o++)}b.virtualSize=Math.max(b.virtualSize,b.size)+b.params.slidesOffsetAfter;var g;if(b.rtl&&b.wrongRTL&&("slide"===b.params.effect||"coverflow"===b.params.effect)&&b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}),b.support.flexbox&&!b.params.setWrapperSize||(b.isHorizontal()?b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}):b.wrapper.css({height:b.virtualSize+b.params.spaceBetween+"px"})),b.params.slidesPerColumn>1&&(b.virtualSize=(s+b.params.spaceBetween)*a,b.virtualSize=Math.ceil(b.virtualSize/b.params.slidesPerColumn)-b.params.spaceBetween,b.isHorizontal()?b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}):b.wrapper.css({height:b.virtualSize+b.params.spaceBetween+"px"}),b.params.centeredSlides)){for(g=[],e=0;e<b.snapGrid.length;e++)b.snapGrid[e]<b.virtualSize+b.snapGrid[0]&&g.push(b.snapGrid[e]);b.snapGrid=g}if(!b.params.centeredSlides){for(g=[],e=0;e<b.snapGrid.length;e++)b.snapGrid[e]<=b.virtualSize-b.size&&g.push(b.snapGrid[e]);b.snapGrid=g,Math.floor(b.virtualSize-b.size)-Math.floor(b.snapGrid[b.snapGrid.length-1])>1&&b.snapGrid.push(b.virtualSize-b.size)}0===b.snapGrid.length&&(b.snapGrid=[0]),0!==b.params.spaceBetween&&(b.isHorizontal()?b.rtl?b.slides.css({marginLeft:t+"px"}):b.slides.css({marginRight:t+"px"}):b.slides.css({marginBottom:t+"px"})),b.params.watchSlidesProgress&&b.updateSlidesOffset()}},b.updateSlidesOffset=function(){for(var e=0;e<b.slides.length;e++)b.slides[e].swiperSlideOffset=b.isHorizontal()?b.slides[e].offsetLeft:b.slides[e].offsetTop},b.currentSlidesPerView=function(){var e,t,r=1;if(b.params.centeredSlides){var n,o=b.slides[b.activeIndex].swiperSlideSize;for(e=b.activeIndex+1;e<b.slides.length;e++)b.slides[e]&&!n&&(o+=b.slides[e].swiperSlideSize,r++,o>b.size&&(n=!0));for(t=b.activeIndex-1;t>=0;t--)b.slides[t]&&!n&&(o+=b.slides[t].swiperSlideSize,r++,o>b.size&&(n=!0))}else for(e=b.activeIndex+1;e<b.slides.length;e++)b.slidesGrid[e]-b.slidesGrid[b.activeIndex]<b.size&&r++;return r},b.updateSlidesProgress=function(e){if(void 0===e&&(e=b.translate||0),0!==b.slides.length){void 0===b.slides[0].swiperSlideOffset&&b.updateSlidesOffset();var t=-e;b.rtl&&(t=e),b.slides.removeClass(b.params.slideVisibleClass);for(var r=0;r<b.slides.length;r++){var n=b.slides[r],o=(t+(b.params.centeredSlides?b.minTranslate():0)-n.swiperSlideOffset)/(n.swiperSlideSize+b.params.spaceBetween);if(b.params.watchSlidesVisibility){var i=-(t-n.swiperSlideOffset),a=i+b.slidesSizesGrid[r];(i>=0&&i<b.size||a>0&&a<=b.size||i<=0&&a>=b.size)&&b.slides.eq(r).addClass(b.params.slideVisibleClass)}n.progress=b.rtl?-o:o}}},b.updateProgress=function(e){void 0===e&&(e=b.translate||0);var t=b.maxTranslate()-b.minTranslate(),r=b.isBeginning,n=b.isEnd;0===t?(b.progress=0,b.isBeginning=b.isEnd=!0):(b.progress=(e-b.minTranslate())/t,b.isBeginning=b.progress<=0,b.isEnd=b.progress>=1),b.isBeginning&&!r&&b.emit("onReachBeginning",b),b.isEnd&&!n&&b.emit("onReachEnd",b),b.params.watchSlidesProgress&&b.updateSlidesProgress(e),b.emit("onProgress",b,b.progress)},b.updateActiveIndex=function(){var e,t,r,n=b.rtl?b.translate:-b.translate;for(t=0;t<b.slidesGrid.length;t++)void 0!==b.slidesGrid[t+1]?n>=b.slidesGrid[t]&&n<b.slidesGrid[t+1]-(b.slidesGrid[t+1]-b.slidesGrid[t])/2?e=t:n>=b.slidesGrid[t]&&n<b.slidesGrid[t+1]&&(e=t+1):n>=b.slidesGrid[t]&&(e=t);b.params.normalizeSlideIndex&&(e<0||void 0===e)&&(e=0),r=Math.floor(e/b.params.slidesPerGroup),r>=b.snapGrid.length&&(r=b.snapGrid.length-1),e!==b.activeIndex&&(b.snapIndex=r,b.previousIndex=b.activeIndex,b.activeIndex=e,b.updateClasses(),b.updateRealIndex())},b.updateRealIndex=function(){b.realIndex=parseInt(b.slides.eq(b.activeIndex).attr("data-swiper-slide-index")||b.activeIndex,10)},b.updateClasses=function(){b.slides.removeClass(b.params.slideActiveClass+" "+b.params.slideNextClass+" "+b.params.slidePrevClass+" "+b.params.slideDuplicateActiveClass+" "+b.params.slideDuplicateNextClass+" "+b.params.slideDuplicatePrevClass);var t=b.slides.eq(b.activeIndex);t.addClass(b.params.slideActiveClass),o.loop&&(t.hasClass(b.params.slideDuplicateClass)?b.wrapper.children("."+b.params.slideClass+":not(."+b.params.slideDuplicateClass+')[data-swiper-slide-index="'+b.realIndex+'"]').addClass(b.params.slideDuplicateActiveClass):b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+b.realIndex+'"]').addClass(b.params.slideDuplicateActiveClass));var r=t.next("."+b.params.slideClass).addClass(b.params.slideNextClass);b.params.loop&&0===r.length&&(r=b.slides.eq(0),r.addClass(b.params.slideNextClass));var n=t.prev("."+b.params.slideClass).addClass(b.params.slidePrevClass);if(b.params.loop&&0===n.length&&(n=b.slides.eq(-1),n.addClass(b.params.slidePrevClass)),o.loop&&(r.hasClass(b.params.slideDuplicateClass)?b.wrapper.children("."+b.params.slideClass+":not(."+b.params.slideDuplicateClass+')[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(b.params.slideDuplicateNextClass):b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(b.params.slideDuplicateNextClass),n.hasClass(b.params.slideDuplicateClass)?b.wrapper.children("."+b.params.slideClass+":not(."+b.params.slideDuplicateClass+')[data-swiper-slide-index="'+n.attr("data-swiper-slide-index")+'"]').addClass(b.params.slideDuplicatePrevClass):b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+n.attr("data-swiper-slide-index")+'"]').addClass(b.params.slideDuplicatePrevClass)),b.paginationContainer&&b.paginationContainer.length>0){var i,a=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length;if(b.params.loop?(i=Math.ceil((b.activeIndex-b.loopedSlides)/b.params.slidesPerGroup),i>b.slides.length-1-2*b.loopedSlides&&(i-=b.slides.length-2*b.loopedSlides),i>a-1&&(i-=a),i<0&&"bullets"!==b.params.paginationType&&(i=a+i)):i=void 0!==b.snapIndex?b.snapIndex:b.activeIndex||0,"bullets"===b.params.paginationType&&b.bullets&&b.bullets.length>0&&(b.bullets.removeClass(b.params.bulletActiveClass),b.paginationContainer.length>1?b.bullets.each(function(){e(this).index()===i&&e(this).addClass(b.params.bulletActiveClass)}):b.bullets.eq(i).addClass(b.params.bulletActiveClass)),"fraction"===b.params.paginationType&&(b.paginationContainer.find("."+b.params.paginationCurrentClass).text(i+1),b.paginationContainer.find("."+b.params.paginationTotalClass).text(a)),"progress"===b.params.paginationType){var s=(i+1)/a,l=s,u=1;b.isHorizontal()||(u=s,l=1),b.paginationContainer.find("."+b.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+u+")").transition(b.params.speed)}"custom"===b.params.paginationType&&b.params.paginationCustomRender&&(b.paginationContainer.html(b.params.paginationCustomRender(b,i+1,a)),b.emit("onPaginationRendered",b,b.paginationContainer[0]))}b.params.loop||(b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.isBeginning?(b.prevButton.addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(b.prevButton)):(b.prevButton.removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(b.prevButton))),b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.isEnd?(b.nextButton.addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(b.nextButton)):(b.nextButton.removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(b.nextButton))))},b.updatePagination=function(){if(b.params.pagination&&b.paginationContainer&&b.paginationContainer.length>0){var e="";if("bullets"===b.params.paginationType){for(var t=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length,r=0;r<t;r++)b.params.paginationBulletRender?e+=b.params.paginationBulletRender(b,r,b.params.bulletClass):e+="<"+b.params.paginationElement+' class="'+b.params.bulletClass+'"></'+b.params.paginationElement+">";b.paginationContainer.html(e),b.bullets=b.paginationContainer.find("."+b.params.bulletClass),b.params.paginationClickable&&b.params.a11y&&b.a11y&&b.a11y.initPagination()}"fraction"===b.params.paginationType&&(e=b.params.paginationFractionRender?b.params.paginationFractionRender(b,b.params.paginationCurrentClass,b.params.paginationTotalClass):'<span class="'+b.params.paginationCurrentClass+'"></span> / <span class="'+b.params.paginationTotalClass+'"></span>',b.paginationContainer.html(e)),"progress"===b.params.paginationType&&(e=b.params.paginationProgressRender?b.params.paginationProgressRender(b,b.params.paginationProgressbarClass):'<span class="'+b.params.paginationProgressbarClass+'"></span>',b.paginationContainer.html(e)),"custom"!==b.params.paginationType&&b.emit("onPaginationRendered",b,b.paginationContainer[0])}},b.update=function(e){function t(){b.rtl,b.translate;r=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate()),b.setWrapperTranslate(r),b.updateActiveIndex(),b.updateClasses()}if(b){b.updateContainerSize(),b.updateSlidesSize(),b.updateProgress(),b.updatePagination(),b.updateClasses(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set();var r;if(e){b.controller&&b.controller.spline&&(b.controller.spline=void 0),b.params.freeMode?(t(),b.params.autoHeight&&b.updateAutoHeight()):(("auto"===b.params.slidesPerView||b.params.slidesPerView>1)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0))||t()}else b.params.autoHeight&&b.updateAutoHeight()}},b.onResize=function(e){b.params.onBeforeResize&&b.params.onBeforeResize(b),b.params.breakpoints&&b.setBreakpoint();var t=b.params.allowSwipeToPrev,r=b.params.allowSwipeToNext;b.params.allowSwipeToPrev=b.params.allowSwipeToNext=!0,b.updateContainerSize(),b.updateSlidesSize(),("auto"===b.params.slidesPerView||b.params.freeMode||e)&&b.updatePagination(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),b.controller&&b.controller.spline&&(b.controller.spline=void 0);var n=!1;if(b.params.freeMode){var o=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate());b.setWrapperTranslate(o),b.updateActiveIndex(),b.updateClasses(),b.params.autoHeight&&b.updateAutoHeight()}else b.updateClasses(),n=("auto"===b.params.slidesPerView||b.params.slidesPerView>1)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0);b.params.lazyLoading&&!n&&b.lazy&&b.lazy.load(),b.params.allowSwipeToPrev=t,b.params.allowSwipeToNext=r,b.params.onAfterResize&&b.params.onAfterResize(b)},b.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?b.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(b.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),b.touchEvents={start:b.support.touch||!b.params.simulateTouch?"touchstart":b.touchEventsDesktop.start,move:b.support.touch||!b.params.simulateTouch?"touchmove":b.touchEventsDesktop.move,end:b.support.touch||!b.params.simulateTouch?"touchend":b.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===b.params.touchEventsTarget?b.container:b.wrapper).addClass("swiper-wp8-"+b.params.direction),b.initEvents=function(e){var t=e?"off":"on",r=e?"removeEventListener":"addEventListener",n="container"===b.params.touchEventsTarget?b.container[0]:b.wrapper[0],i=b.support.touch?n:document,a=!!b.params.nested;if(b.browser.ie)n[r](b.touchEvents.start,b.onTouchStart,!1),i[r](b.touchEvents.move,b.onTouchMove,a),i[r](b.touchEvents.end,b.onTouchEnd,!1);else{if(b.support.touch){var s=!("touchstart"!==b.touchEvents.start||!b.support.passiveListener||!b.params.passiveListeners)&&{passive:!0,capture:!1};n[r](b.touchEvents.start,b.onTouchStart,s),n[r](b.touchEvents.move,b.onTouchMove,a),n[r](b.touchEvents.end,b.onTouchEnd,s)}(o.simulateTouch&&!b.device.ios&&!b.device.android||o.simulateTouch&&!b.support.touch&&b.device.ios)&&(n[r]("mousedown",b.onTouchStart,!1),document[r]("mousemove",b.onTouchMove,a),document[r]("mouseup",b.onTouchEnd,!1))}window[r]("resize",b.onResize),b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.nextButton[t]("click",b.onClickNext),b.params.a11y&&b.a11y&&b.nextButton[t]("keydown",b.a11y.onEnterKey)),b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.prevButton[t]("click",b.onClickPrev),b.params.a11y&&b.a11y&&b.prevButton[t]("keydown",b.a11y.onEnterKey)),b.params.pagination&&b.params.paginationClickable&&(b.paginationContainer[t]("click","."+b.params.bulletClass,b.onClickIndex),b.params.a11y&&b.a11y&&b.paginationContainer[t]("keydown","."+b.params.bulletClass,b.a11y.onEnterKey)),(b.params.preventClicks||b.params.preventClicksPropagation)&&n[r]("click",b.preventClicks,!0)},b.attachEvents=function(){b.initEvents()},b.detachEvents=function(){b.initEvents(!0)},b.allowClick=!0,b.preventClicks=function(e){b.allowClick||(b.params.preventClicks&&e.preventDefault(),b.params.preventClicksPropagation&&b.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},b.onClickNext=function(e){e.preventDefault(),b.isEnd&&!b.params.loop||b.slideNext()},b.onClickPrev=function(e){e.preventDefault(),b.isBeginning&&!b.params.loop||b.slidePrev()},b.onClickIndex=function(t){t.preventDefault();var r=e(this).index()*b.params.slidesPerGroup;b.params.loop&&(r+=b.loopedSlides),b.slideTo(r)},b.updateClickedSlide=function(t){var r=s(t,"."+b.params.slideClass),n=!1;if(r)for(var o=0;o<b.slides.length;o++)b.slides[o]===r&&(n=!0);if(!r||!n)return b.clickedSlide=void 0,void(b.clickedIndex=void 0);if(b.clickedSlide=r,b.clickedIndex=e(r).index(),b.params.slideToClickedSlide&&void 0!==b.clickedIndex&&b.clickedIndex!==b.activeIndex){var i,a=b.clickedIndex,l="auto"===b.params.slidesPerView?b.currentSlidesPerView():b.params.slidesPerView;if(b.params.loop){if(b.animating)return;i=parseInt(e(b.clickedSlide).attr("data-swiper-slide-index"),10),b.params.centeredSlides?a<b.loopedSlides-l/2||a>b.slides.length-b.loopedSlides+l/2?(b.fixLoop(),a=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+i+'"]:not(.'+b.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){b.slideTo(a)},0)):b.slideTo(a):a>b.slides.length-l?(b.fixLoop(),a=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+i+'"]:not(.'+b.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){b.slideTo(a)},0)):b.slideTo(a)}else b.slideTo(a)}};var E,C,S,x,P,T,k,R,B,M,D="input, select, textarea, button, video",I=Date.now(),O=[];b.animating=!1,b.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var L,z;b.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),(L="touchstart"===t.type)||!("which"in t)||3!==t.which){if(b.params.noSwiping&&s(t,"."+b.params.noSwipingClass))return void(b.allowClick=!0);if(!b.params.swipeHandler||s(t,b.params.swipeHandler)){var r=b.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,n=b.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(b.device.ios&&b.params.iOSEdgeSwipeDetection&&r<=b.params.iOSEdgeSwipeThreshold)){if(E=!0,C=!1,S=!0,P=void 0,z=void 0,b.touches.startX=r,b.touches.startY=n,x=Date.now(),b.allowClick=!0,b.updateContainerSize(),b.swipeDirection=void 0,b.params.threshold>0&&(R=!1),"touchstart"!==t.type){var o=!0;e(t.target).is(D)&&(o=!1),document.activeElement&&e(document.activeElement).is(D)&&document.activeElement.blur(),o&&t.preventDefault()}b.emit("onTouchStart",b,t)}}}},b.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!L||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return b.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(b.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(b.params.onlyExternal)return b.allowClick=!1,void(E&&(b.touches.startX=b.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,b.touches.startY=b.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,x=Date.now()));if(L&&b.params.touchReleaseOnEdges&&!b.params.loop)if(b.isHorizontal()){if(b.touches.currentX<b.touches.startX&&b.translate<=b.maxTranslate()||b.touches.currentX>b.touches.startX&&b.translate>=b.minTranslate())return}else if(b.touches.currentY<b.touches.startY&&b.translate<=b.maxTranslate()||b.touches.currentY>b.touches.startY&&b.translate>=b.minTranslate())return;if(L&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(D))return C=!0,void(b.allowClick=!1);if(S&&b.emit("onTouchMove",b,t),!(t.targetTouches&&t.targetTouches.length>1)){if(b.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,b.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===P){var r;b.isHorizontal()&&b.touches.currentY===b.touches.startY||!b.isHorizontal()&&b.touches.currentX===b.touches.startX?P=!1:(r=180*Math.atan2(Math.abs(b.touches.currentY-b.touches.startY),Math.abs(b.touches.currentX-b.touches.startX))/Math.PI,P=b.isHorizontal()?r>b.params.touchAngle:90-r>b.params.touchAngle)}if(P&&b.emit("onTouchMoveOpposite",b,t),void 0===z&&(b.touches.currentX===b.touches.startX&&b.touches.currentY===b.touches.startY||(z=!0)),E){if(P)return void(E=!1);if(z){b.allowClick=!1,b.emit("onSliderMove",b,t),t.preventDefault(),b.params.touchMoveStopPropagation&&!b.params.nested&&t.stopPropagation(),C||(o.loop&&b.fixLoop(),k=b.getWrapperTranslate(),b.setWrapperTransition(0),b.animating&&b.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),b.params.autoplay&&b.autoplaying&&(b.params.autoplayDisableOnInteraction?b.stopAutoplay():b.pauseAutoplay()),M=!1,!b.params.grabCursor||!0!==b.params.allowSwipeToNext&&!0!==b.params.allowSwipeToPrev||b.setGrabCursor(!0)),C=!0;var n=b.touches.diff=b.isHorizontal()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY;n*=b.params.touchRatio,b.rtl&&(n=-n),b.swipeDirection=n>0?"prev":"next",T=n+k;var i=!0;if(n>0&&T>b.minTranslate()?(i=!1,b.params.resistance&&(T=b.minTranslate()-1+Math.pow(-b.minTranslate()+k+n,b.params.resistanceRatio))):n<0&&T<b.maxTranslate()&&(i=!1,b.params.resistance&&(T=b.maxTranslate()+1-Math.pow(b.maxTranslate()-k-n,b.params.resistanceRatio))),i&&(t.preventedByNestedSwiper=!0),!b.params.allowSwipeToNext&&"next"===b.swipeDirection&&T<k&&(T=k),!b.params.allowSwipeToPrev&&"prev"===b.swipeDirection&&T>k&&(T=k),b.params.threshold>0){if(!(Math.abs(n)>b.params.threshold||R))return void(T=k);if(!R)return R=!0,b.touches.startX=b.touches.currentX,b.touches.startY=b.touches.currentY,T=k,void(b.touches.diff=b.isHorizontal()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY)}b.params.followFinger&&((b.params.freeMode||b.params.watchSlidesProgress)&&b.updateActiveIndex(),b.params.freeMode&&(0===O.length&&O.push({position:b.touches[b.isHorizontal()?"startX":"startY"],time:x}),O.push({position:b.touches[b.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),b.updateProgress(T),b.setWrapperTranslate(T))}}}}},b.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),S&&b.emit("onTouchEnd",b,t),S=!1,E){b.params.grabCursor&&C&&E&&(!0===b.params.allowSwipeToNext||!0===b.params.allowSwipeToPrev)&&b.setGrabCursor(!1);var r=Date.now(),n=r-x;if(b.allowClick&&(b.updateClickedSlide(t),b.emit("onTap",b,t),n<300&&r-I>300&&(B&&clearTimeout(B),B=setTimeout(function(){b&&(b.params.paginationHide&&b.paginationContainer.length>0&&!e(t.target).hasClass(b.params.bulletClass)&&b.paginationContainer.toggleClass(b.params.paginationHiddenClass),b.emit("onClick",b,t))},300)),n<300&&r-I<300&&(B&&clearTimeout(B),b.emit("onDoubleTap",b,t))),I=Date.now(),setTimeout(function(){b&&(b.allowClick=!0)},0),!E||!C||!b.swipeDirection||0===b.touches.diff||T===k)return void(E=C=!1);E=C=!1;var o;if(o=b.params.followFinger?b.rtl?b.translate:-b.translate:-T,b.params.freeMode){if(o<-b.minTranslate())return void b.slideTo(b.activeIndex);if(o>-b.maxTranslate())return void(b.slides.length<b.snapGrid.length?b.slideTo(b.snapGrid.length-1):b.slideTo(b.slides.length-1));if(b.params.freeModeMomentum){if(O.length>1){var i=O.pop(),a=O.pop(),s=i.position-a.position,l=i.time-a.time;b.velocity=s/l,b.velocity=b.velocity/2,Math.abs(b.velocity)<b.params.freeModeMinimumVelocity&&(b.velocity=0),(l>150||(new window.Date).getTime()-i.time>300)&&(b.velocity=0)}else b.velocity=0;b.velocity=b.velocity*b.params.freeModeMomentumVelocityRatio,O.length=0;var u=1e3*b.params.freeModeMomentumRatio,d=b.velocity*u,c=b.translate+d;b.rtl&&(c=-c);var p,h=!1,f=20*Math.abs(b.velocity)*b.params.freeModeMomentumBounceRatio;if(c<b.maxTranslate())b.params.freeModeMomentumBounce?(c+b.maxTranslate()<-f&&(c=b.maxTranslate()-f),p=b.maxTranslate(),h=!0,M=!0):c=b.maxTranslate();else if(c>b.minTranslate())b.params.freeModeMomentumBounce?(c-b.minTranslate()>f&&(c=b.minTranslate()+f),p=b.minTranslate(),h=!0,M=!0):c=b.minTranslate();else if(b.params.freeModeSticky){var g,m=0;for(m=0;m<b.snapGrid.length;m+=1)if(b.snapGrid[m]>-c){g=m;break}c=Math.abs(b.snapGrid[g]-c)<Math.abs(b.snapGrid[g-1]-c)||"next"===b.swipeDirection?b.snapGrid[g]:b.snapGrid[g-1],b.rtl||(c=-c)}if(0!==b.velocity)u=b.rtl?Math.abs((-c-b.translate)/b.velocity):Math.abs((c-b.translate)/b.velocity);else if(b.params.freeModeSticky)return void b.slideReset();b.params.freeModeMomentumBounce&&h?(b.updateProgress(p),b.setWrapperTransition(u),b.setWrapperTranslate(c),b.onTransitionStart(),b.animating=!0,b.wrapper.transitionEnd(function(){b&&M&&(b.emit("onMomentumBounce",b),b.setWrapperTransition(b.params.speed),b.setWrapperTranslate(p),b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))})):b.velocity?(b.updateProgress(c),b.setWrapperTransition(u),b.setWrapperTranslate(c),b.onTransitionStart(),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))):b.updateProgress(c),b.updateActiveIndex()}return void((!b.params.freeModeMomentum||n>=b.params.longSwipesMs)&&(b.updateProgress(),b.updateActiveIndex()))}var v,y=0,A=b.slidesSizesGrid[0];for(v=0;v<b.slidesGrid.length;v+=b.params.slidesPerGroup)void 0!==b.slidesGrid[v+b.params.slidesPerGroup]?o>=b.slidesGrid[v]&&o<b.slidesGrid[v+b.params.slidesPerGroup]&&(y=v,A=b.slidesGrid[v+b.params.slidesPerGroup]-b.slidesGrid[v]):o>=b.slidesGrid[v]&&(y=v,A=b.slidesGrid[b.slidesGrid.length-1]-b.slidesGrid[b.slidesGrid.length-2]);var _=(o-b.slidesGrid[y])/A;if(n>b.params.longSwipesMs){if(!b.params.longSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&(_>=b.params.longSwipesRatio?b.slideTo(y+b.params.slidesPerGroup):b.slideTo(y)),"prev"===b.swipeDirection&&(_>1-b.params.longSwipesRatio?b.slideTo(y+b.params.slidesPerGroup):b.slideTo(y))}else{if(!b.params.shortSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&b.slideTo(y+b.params.slidesPerGroup),"prev"===b.swipeDirection&&b.slideTo(y)}}},b._slideTo=function(e,t){return b.slideTo(e,t,!0,!0)},b.slideTo=function(e,t,r,n){void 0===r&&(r=!0),void 0===e&&(e=0),e<0&&(e=0),b.snapIndex=Math.floor(e/b.params.slidesPerGroup),b.snapIndex>=b.snapGrid.length&&(b.snapIndex=b.snapGrid.length-1);var o=-b.snapGrid[b.snapIndex];if(b.params.autoplay&&b.autoplaying&&(n||!b.params.autoplayDisableOnInteraction?b.pauseAutoplay(t):b.stopAutoplay()),b.updateProgress(o),b.params.normalizeSlideIndex)for(var i=0;i<b.slidesGrid.length;i++)-Math.floor(100*o)>=Math.floor(100*b.slidesGrid[i])&&(e=i);return!(!b.params.allowSwipeToNext&&o<b.translate&&o<b.minTranslate())&&(!(!b.params.allowSwipeToPrev&&o>b.translate&&o>b.maxTranslate()&&(b.activeIndex||0)!==e)&&(void 0===t&&(t=b.params.speed),b.previousIndex=b.activeIndex||0,b.activeIndex=e,b.updateRealIndex(),b.rtl&&-o===b.translate||!b.rtl&&o===b.translate?(b.params.autoHeight&&b.updateAutoHeight(),b.updateClasses(),"slide"!==b.params.effect&&b.setWrapperTranslate(o),!1):(b.updateClasses(),b.onTransitionStart(r),0===t||b.browser.lteIE9?(b.setWrapperTranslate(o),b.setWrapperTransition(0),b.onTransitionEnd(r)):(b.setWrapperTranslate(o),b.setWrapperTransition(t),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd(r)}))),!0)))},b.onTransitionStart=function(e){void 0===e&&(e=!0),b.params.autoHeight&&b.updateAutoHeight(),b.lazy&&b.lazy.onTransitionStart(),e&&(b.emit("onTransitionStart",b),b.activeIndex!==b.previousIndex&&(b.emit("onSlideChangeStart",b),b.activeIndex>b.previousIndex?b.emit("onSlideNextStart",b):b.emit("onSlidePrevStart",b)))},b.onTransitionEnd=function(e){b.animating=!1,b.setWrapperTransition(0),void 0===e&&(e=!0),b.lazy&&b.lazy.onTransitionEnd(),e&&(b.emit("onTransitionEnd",b),b.activeIndex!==b.previousIndex&&(b.emit("onSlideChangeEnd",b),b.activeIndex>b.previousIndex?b.emit("onSlideNextEnd",b):b.emit("onSlidePrevEnd",b))),b.params.history&&b.history&&b.history.setHistory(b.params.history,b.activeIndex),b.params.hashnav&&b.hashnav&&b.hashnav.setHash()},b.slideNext=function(e,t,r){if(b.params.loop){if(b.animating)return!1;b.fixLoop();b.container[0].clientLeft;return b.slideTo(b.activeIndex+b.params.slidesPerGroup,t,e,r)}return b.slideTo(b.activeIndex+b.params.slidesPerGroup,t,e,r)},b._slideNext=function(e){return b.slideNext(!0,e,!0)},b.slidePrev=function(e,t,r){if(b.params.loop){if(b.animating)return!1;b.fixLoop();b.container[0].clientLeft;return b.slideTo(b.activeIndex-1,t,e,r)}return b.slideTo(b.activeIndex-1,t,e,r)},b._slidePrev=function(e){return b.slidePrev(!0,e,!0)},b.slideReset=function(e,t,r){return b.slideTo(b.activeIndex,t,e)},b.disableTouchControl=function(){return b.params.onlyExternal=!0,!0},b.enableTouchControl=function(){return b.params.onlyExternal=!1,!0},b.setWrapperTransition=function(e,t){b.wrapper.transition(e),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTransition(e),b.params.parallax&&b.parallax&&b.parallax.setTransition(e),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTransition(e),b.params.control&&b.controller&&b.controller.setTransition(e,t),b.emit("onSetTransition",b,e)},b.setWrapperTranslate=function(e,t,r){var n=0,o=0;b.isHorizontal()?n=b.rtl?-e:e:o=e,b.params.roundLengths&&(n=i(n),o=i(o)),b.params.virtualTranslate||(b.support.transforms3d?b.wrapper.transform("translate3d("+n+"px, "+o+"px, 0px)"):b.wrapper.transform("translate("+n+"px, "+o+"px)")),b.translate=b.isHorizontal()?n:o;var a,s=b.maxTranslate()-b.minTranslate();a=0===s?0:(e-b.minTranslate())/s,a!==b.progress&&b.updateProgress(e),t&&b.updateActiveIndex(),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTranslate(b.translate),b.params.parallax&&b.parallax&&b.parallax.setTranslate(b.translate),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTranslate(b.translate),b.params.control&&b.controller&&b.controller.setTranslate(b.translate,r),b.emit("onSetTranslate",b,b.translate)},b.getTranslate=function(e,t){var r,n,o,i;return void 0===t&&(t="x"),b.params.virtualTranslate?b.rtl?-b.translate:b.translate:(o=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(n=o.transform||o.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),i=new window.WebKitCSSMatrix("none"===n?"":n)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),"x"===t&&(n=window.WebKitCSSMatrix?i.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(n=window.WebKitCSSMatrix?i.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),b.rtl&&n&&(n=-n),n||0)},b.getWrapperTranslate=function(e){return void 0===e&&(e=b.isHorizontal()?"x":"y"),b.getTranslate(b.wrapper[0],e)},b.observers=[],b.initObservers=function(){if(b.params.observeParents)for(var e=b.container.parents(),t=0;t<e.length;t++)l(e[t]);l(b.container[0],{childList:!1}),l(b.wrapper[0],{attributes:!1})},b.disconnectObservers=function(){for(var e=0;e<b.observers.length;e++)b.observers[e].disconnect();b.observers=[]},b.createLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove();var t=b.wrapper.children("."+b.params.slideClass);"auto"!==b.params.slidesPerView||b.params.loopedSlides||(b.params.loopedSlides=t.length),b.loopedSlides=parseInt(b.params.loopedSlides||b.params.slidesPerView,10),b.loopedSlides=b.loopedSlides+b.params.loopAdditionalSlides,b.loopedSlides>t.length&&(b.loopedSlides=t.length);var r,n=[],o=[];for(t.each(function(r,i){var a=e(this);r<b.loopedSlides&&o.push(i),r<t.length&&r>=t.length-b.loopedSlides&&n.push(i),a.attr("data-swiper-slide-index",r)}),r=0;r<o.length;r++)b.wrapper.append(e(o[r].cloneNode(!0)).addClass(b.params.slideDuplicateClass));for(r=n.length-1;r>=0;r--)b.wrapper.prepend(e(n[r].cloneNode(!0)).addClass(b.params.slideDuplicateClass))},b.destroyLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove(),b.slides.removeAttr("data-swiper-slide-index")},b.reLoop=function(e){var t=b.activeIndex-b.loopedSlides;b.destroyLoop(),b.createLoop(),b.updateSlidesSize(),e&&b.slideTo(t+b.loopedSlides,0,!1)},b.fixLoop=function(){var e;b.activeIndex<b.loopedSlides?(e=b.slides.length-3*b.loopedSlides+b.activeIndex,e+=b.loopedSlides,b.slideTo(e,0,!1,!0)):("auto"===b.params.slidesPerView&&b.activeIndex>=2*b.loopedSlides||b.activeIndex>b.slides.length-2*b.params.slidesPerView)&&(e=-b.slides.length+b.activeIndex+b.loopedSlides,e+=b.loopedSlides,b.slideTo(e,0,!1,!0))},b.appendSlide=function(e){if(b.params.loop&&b.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&b.wrapper.append(e[t]);else b.wrapper.append(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0)},b.prependSlide=function(e){b.params.loop&&b.destroyLoop();var t=b.activeIndex+1;if("object"==typeof e&&e.length){for(var r=0;r<e.length;r++)e[r]&&b.wrapper.prepend(e[r]);t=b.activeIndex+e.length}else b.wrapper.prepend(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.slideTo(t,0,!1)},b.removeSlide=function(e){b.params.loop&&(b.destroyLoop(),b.slides=b.wrapper.children("."+b.params.slideClass));var t,r=b.activeIndex;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)t=e[n],b.slides[t]&&b.slides.eq(t).remove(),t<r&&r--;r=Math.max(r,0)}else t=e,b.slides[t]&&b.slides.eq(t).remove(),t<r&&r--,r=Math.max(r,0);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.params.loop?b.slideTo(r+b.loopedSlides,0,!1):b.slideTo(r,0,!1)},b.removeAllSlides=function(){for(var e=[],t=0;t<b.slides.length;t++)e.push(t);b.removeSlide(e)},b.effects={fade:{setTranslate:function(){for(var e=0;e<b.slides.length;e++){var t=b.slides.eq(e),r=t[0].swiperSlideOffset,n=-r;b.params.virtualTranslate||(n-=b.translate);var o=0;b.isHorizontal()||(o=n,n=0);var i=b.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:i}).transform("translate3d("+n+"px, "+o+"px, 0px)")}},setTransition:function(e){if(b.slides.transition(e),b.params.virtualTranslate&&0!==e){var t=!1;b.slides.transitionEnd(function(){if(!t&&b){t=!0,b.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=0;r<e.length;r++)b.wrapper.trigger(e[r])}})}}},flip:{setTranslate:function(){for(var t=0;t<b.slides.length;t++){var r=b.slides.eq(t),n=r[0].progress;b.params.flip.limitRotation&&(n=Math.max(Math.min(r[0].progress,1),-1));var o=r[0].swiperSlideOffset,i=-180*n,a=i,s=0,l=-o,u=0;if(b.isHorizontal()?b.rtl&&(a=-a):(u=l,l=0,s=-a,a=0),r[0].style.zIndex=-Math.abs(Math.round(n))+b.slides.length,b.params.flip.slideShadows){var d=b.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),c=b.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===d.length&&(d=e('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),r.append(d)),0===c.length&&(c=e('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),r.append(c)),d.length&&(d[0].style.opacity=Math.max(-n,0)),c.length&&(c[0].style.opacity=Math.max(n,0))}r.transform("translate3d("+l+"px, "+u+"px, 0px) rotateX("+s+"deg) rotateY("+a+"deg)")}},setTransition:function(t){if(b.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),b.params.virtualTranslate&&0!==t){var r=!1;b.slides.eq(b.activeIndex).transitionEnd(function(){if(!r&&b&&e(this).hasClass(b.params.slideActiveClass)){r=!0,b.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<t.length;n++)b.wrapper.trigger(t[n])}})}}},cube:{setTranslate:function(){var t,r=0;b.params.cube.shadow&&(b.isHorizontal()?(t=b.wrapper.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),b.wrapper.append(t)),t.css({height:b.width+"px"})):(t=b.container.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),b.container.append(t))));for(var n=0;n<b.slides.length;n++){var o=b.slides.eq(n),i=90*n,a=Math.floor(i/360);b.rtl&&(i=-i,a=Math.floor(-i/360));var s=Math.max(Math.min(o[0].progress,1),-1),l=0,u=0,d=0;n%4==0?(l=4*-a*b.size,d=0):(n-1)%4==0?(l=0,d=4*-a*b.size):(n-2)%4==0?(l=b.size+4*a*b.size,d=b.size):(n-3)%4==0&&(l=-b.size,d=3*b.size+4*b.size*a),b.rtl&&(l=-l),b.isHorizontal()||(u=l,l=0);var c="rotateX("+(b.isHorizontal()?0:-i)+"deg) rotateY("+(b.isHorizontal()?i:0)+"deg) translate3d("+l+"px, "+u+"px, "+d+"px)";if(s<=1&&s>-1&&(r=90*n+90*s,b.rtl&&(r=90*-n-90*s)),o.transform(c),b.params.cube.slideShadows){var p=b.isHorizontal()?o.find(".swiper-slide-shadow-left"):o.find(".swiper-slide-shadow-top"),h=b.isHorizontal()?o.find(".swiper-slide-shadow-right"):o.find(".swiper-slide-shadow-bottom");0===p.length&&(p=e('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),o.append(p)),0===h.length&&(h=e('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),o.append(h)),p.length&&(p[0].style.opacity=Math.max(-s,0)),h.length&&(h[0].style.opacity=Math.max(s,0))}}if(b.wrapper.css({"-webkit-transform-origin":"50% 50% -"+b.size/2+"px","-moz-transform-origin":"50% 50% -"+b.size/2+"px","-ms-transform-origin":"50% 50% -"+b.size/2+"px","transform-origin":"50% 50% -"+b.size/2+"px"}),b.params.cube.shadow)if(b.isHorizontal())t.transform("translate3d(0px, "+(b.width/2+b.params.cube.shadowOffset)+"px, "+-b.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+b.params.cube.shadowScale+")");else{var f=Math.abs(r)-90*Math.floor(Math.abs(r)/90),g=1.5-(Math.sin(2*f*Math.PI/360)/2+Math.cos(2*f*Math.PI/360)/2),m=b.params.cube.shadowScale,v=b.params.cube.shadowScale/g,y=b.params.cube.shadowOffset;t.transform("scale3d("+m+", 1, "+v+") translate3d(0px, "+(b.height/2+y)+"px, "+-b.height/2/v+"px) rotateX(-90deg)")}var A=b.isSafari||b.isUiWebView?-b.size/2:0;b.wrapper.transform("translate3d(0px,0,"+A+"px) rotateX("+(b.isHorizontal()?0:r)+"deg) rotateY("+(b.isHorizontal()?-r:0)+"deg)")},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),b.params.cube.shadow&&!b.isHorizontal()&&b.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var t=b.translate,r=b.isHorizontal()?-t+b.width/2:-t+b.height/2,n=b.isHorizontal()?b.params.coverflow.rotate:-b.params.coverflow.rotate,o=b.params.coverflow.depth,i=0,a=b.slides.length;i<a;i++){var s=b.slides.eq(i),l=b.slidesSizesGrid[i],u=s[0].swiperSlideOffset,d=(r-u-l/2)/l*b.params.coverflow.modifier,c=b.isHorizontal()?n*d:0,p=b.isHorizontal()?0:n*d,h=-o*Math.abs(d),f=b.isHorizontal()?0:b.params.coverflow.stretch*d,g=b.isHorizontal()?b.params.coverflow.stretch*d:0;Math.abs(g)<.001&&(g=0),Math.abs(f)<.001&&(f=0),Math.abs(h)<.001&&(h=0),Math.abs(c)<.001&&(c=0),Math.abs(p)<.001&&(p=0);var m="translate3d("+g+"px,"+f+"px,"+h+"px)  rotateX("+p+"deg) rotateY("+c+"deg)";if(s.transform(m),s[0].style.zIndex=1-Math.abs(Math.round(d)),b.params.coverflow.slideShadows){var v=b.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),y=b.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),s.append(v)),0===y.length&&(y=e('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),s.append(y)),v.length&&(v[0].style.opacity=d>0?d:0),y.length&&(y[0].style.opacity=-d>0?-d:0)}}if(b.browser.ie){b.wrapper[0].style.perspectiveOrigin=r+"px 50%"}},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},b.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,r){if(void 0!==t&&(void 0===r&&(r=!0),0!==b.slides.length)){var n=b.slides.eq(t),o=n.find("."+b.params.lazyLoadingClass+":not(."+b.params.lazyStatusLoadedClass+"):not(."+b.params.lazyStatusLoadingClass+")");!n.hasClass(b.params.lazyLoadingClass)||n.hasClass(b.params.lazyStatusLoadedClass)||n.hasClass(b.params.lazyStatusLoadingClass)||(o=o.add(n[0])),0!==o.length&&o.each(function(){var t=e(this);t.addClass(b.params.lazyStatusLoadingClass);var o=t.attr("data-background"),i=t.attr("data-src"),a=t.attr("data-srcset"),s=t.attr("data-sizes");b.loadImage(t[0],i||o,a,s,!1,function(){if(void 0!==b&&null!==b&&b){if(o?(t.css("background-image",'url("'+o+'")'),t.removeAttr("data-background")):(a&&(t.attr("srcset",a),t.removeAttr("data-srcset")),s&&(t.attr("sizes",s),t.removeAttr("data-sizes")),i&&(t.attr("src",i),t.removeAttr("data-src"))),t.addClass(b.params.lazyStatusLoadedClass).removeClass(b.params.lazyStatusLoadingClass),n.find("."+b.params.lazyPreloaderClass+", ."+b.params.preloaderClass).remove(),b.params.loop&&r){var e=n.attr("data-swiper-slide-index");if(n.hasClass(b.params.slideDuplicateClass)){var l=b.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+b.params.slideDuplicateClass+")");b.lazy.loadImageInSlide(l.index(),!1)}else{var u=b.wrapper.children("."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');b.lazy.loadImageInSlide(u.index(),!1)}}b.emit("onLazyImageReady",b,n[0],t[0])}}),b.emit("onLazyImageLoad",b,n[0],t[0])})}},load:function(){var t,r=b.params.slidesPerView;if("auto"===r&&(r=0),b.lazy.initialImageLoaded||(b.lazy.initialImageLoaded=!0),b.params.watchSlidesVisibility)b.wrapper.children("."+b.params.slideVisibleClass).each(function(){b.lazy.loadImageInSlide(e(this).index())});else if(r>1)for(t=b.activeIndex;t<b.activeIndex+r;t++)b.slides[t]&&b.lazy.loadImageInSlide(t);else b.lazy.loadImageInSlide(b.activeIndex);if(b.params.lazyLoadingInPrevNext)if(r>1||b.params.lazyLoadingInPrevNextAmount&&b.params.lazyLoadingInPrevNextAmount>1){var n=b.params.lazyLoadingInPrevNextAmount,o=r,i=Math.min(b.activeIndex+o+Math.max(n,o),b.slides.length),a=Math.max(b.activeIndex-Math.max(o,n),0);for(t=b.activeIndex+r;t<i;t++)b.slides[t]&&b.lazy.loadImageInSlide(t);for(t=a;t<b.activeIndex;t++)b.slides[t]&&b.lazy.loadImageInSlide(t)}else{var s=b.wrapper.children("."+b.params.slideNextClass);s.length>0&&b.lazy.loadImageInSlide(s.index());var l=b.wrapper.children("."+b.params.slidePrevClass);l.length>0&&b.lazy.loadImageInSlide(l.index())}},onTransitionStart:function(){b.params.lazyLoading&&(b.params.lazyLoadingOnTransitionStart||!b.params.lazyLoadingOnTransitionStart&&!b.lazy.initialImageLoaded)&&b.lazy.load()},onTransitionEnd:function(){b.params.lazyLoading&&!b.params.lazyLoadingOnTransitionStart&&b.lazy.load()}},b.scrollbar={isTouched:!1,setDragPosition:function(e){var t=b.scrollbar,r=b.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,n=r-t.track.offset()[b.isHorizontal()?"left":"top"]-t.dragSize/2,o=-b.minTranslate()*t.moveDivider,i=-b.maxTranslate()*t.moveDivider;n<o?n=o:n>i&&(n=i),n=-n/t.moveDivider,b.updateProgress(n),b.setWrapperTranslate(n,!0)},dragStart:function(e){var t=b.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),b.params.scrollbarHide&&t.track.css("opacity",1),b.wrapper.transition(100),t.drag.transition(100),b.emit("onScrollbarDragStart",b)},dragMove:function(e){var t=b.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),b.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),b.emit("onScrollbarDragMove",b))},dragEnd:function(e){var t=b.scrollbar;t.isTouched&&(t.isTouched=!1,b.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),b.emit("onScrollbarDragEnd",b),b.params.scrollbarSnapOnRelease&&b.slideReset())},draggableEvents:function(){return!1!==b.params.simulateTouch||b.support.touch?b.touchEvents:b.touchEventsDesktop}(),enableDraggable:function(){var t=b.scrollbar,r=b.support.touch?t.track:document;e(t.track).on(t.draggableEvents.start,t.dragStart),e(r).on(t.draggableEvents.move,t.dragMove),e(r).on(t.draggableEvents.end,t.dragEnd)},disableDraggable:function(){var t=b.scrollbar,r=b.support.touch?t.track:document;e(t.track).off(t.draggableEvents.start,t.dragStart),e(r).off(t.draggableEvents.move,t.dragMove),e(r).off(t.draggableEvents.end,t.dragEnd)},set:function(){if(b.params.scrollbar){var t=b.scrollbar;t.track=e(b.params.scrollbar),b.params.uniqueNavElements&&"string"==typeof b.params.scrollbar&&t.track.length>1&&1===b.container.find(b.params.scrollbar).length&&(t.track=b.container.find(b.params.scrollbar)),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=b.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=b.size/b.virtualSize,t.moveDivider=t.divider*(t.trackSize/b.size),t.dragSize=t.trackSize*t.divider,b.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.divider>=1?t.track[0].style.display="none":t.track[0].style.display="",b.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(b.params.scrollbar){var e,t=b.scrollbar,r=(b.translate,t.dragSize);e=(t.trackSize-t.dragSize)*b.progress,b.rtl&&b.isHorizontal()?(e=-e,e>0?(r=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(r=t.trackSize+e)):e<0?(r=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(r=t.trackSize-e),b.isHorizontal()?(b.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=r+"px"):(b.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=r+"px"),b.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){b.params.scrollbar&&b.scrollbar.drag.transition(e)}},b.controller={LinearSpline:function(e,t){var r=function(){var e,t,r;return function(n,o){for(t=-1,e=n.length;e-t>1;)n[r=e+t>>1]<=o?t=r:e=r;return e}}();this.x=e,this.y=t,this.lastIndex=e.length-1;var n,o;this.x.length;this.interpolate=function(e){return e?(o=r(this.x,e),n=o-1,(e-this.x[n])*(this.y[o]-this.y[n])/(this.x[o]-this.x[n])+this.y[n]):0}},getInterpolateFunction:function(e){b.controller.spline||(b.controller.spline=b.params.loop?new b.controller.LinearSpline(b.slidesGrid,e.slidesGrid):new b.controller.LinearSpline(b.snapGrid,e.snapGrid))},setTranslate:function(e,r){function n(t){e=t.rtl&&"horizontal"===t.params.direction?-b.translate:b.translate,"slide"===b.params.controlBy&&(b.controller.getInterpolateFunction(t),i=-b.controller.spline.interpolate(-e)),i&&"container"!==b.params.controlBy||(o=(t.maxTranslate()-t.minTranslate())/(b.maxTranslate()-b.minTranslate()),i=(e-b.minTranslate())*o+t.minTranslate()),b.params.controlInverse&&(i=t.maxTranslate()-i),t.updateProgress(i),t.setWrapperTranslate(i,!1,b),t.updateActiveIndex()}var o,i,a=b.params.control;if(Array.isArray(a))for(var s=0;s<a.length;s++)a[s]!==r&&a[s]instanceof t&&n(a[s]);else a instanceof t&&r!==a&&n(a)},setTransition:function(e,r){function n(t){t.setWrapperTransition(e,b),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){i&&(t.params.loop&&"slide"===b.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var o,i=b.params.control;if(Array.isArray(i))for(o=0;o<i.length;o++)i[o]!==r&&i[o]instanceof t&&n(i[o]);else i instanceof t&&r!==i&&n(i)}},b.hashnav={onHashCange:function(e,t){var r=document.location.hash.replace("#","");r!==b.slides.eq(b.activeIndex).attr("data-hash")&&b.slideTo(b.wrapper.children("."+b.params.slideClass+'[data-hash="'+r+'"]').index())},attachEvents:function(t){var r=t?"off":"on";e(window)[r]("hashchange",b.hashnav.onHashCange)},setHash:function(){if(b.hashnav.initialized&&b.params.hashnav)if(b.params.replaceState&&window.history&&window.history.replaceState)window.history.replaceState(null,null,"#"+b.slides.eq(b.activeIndex).attr("data-hash")||"");else{var e=b.slides.eq(b.activeIndex),t=e.attr("data-hash")||e.attr("data-history");document.location.hash=t||""}},init:function(){if(b.params.hashnav&&!b.params.history){b.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,r=b.slides.length;t<r;t++){var n=b.slides.eq(t),o=n.attr("data-hash")||n.attr("data-history");if(o===e&&!n.hasClass(b.params.slideDuplicateClass)){var i=n.index();b.slideTo(i,0,b.params.runCallbacksOnInit,!0)}}b.params.hashnavWatchState&&b.hashnav.attachEvents()}},destroy:function(){b.params.hashnavWatchState&&b.hashnav.attachEvents(!0)}},b.history={init:function(){if(b.params.history){if(!window.history||!window.history.pushState)return b.params.history=!1,void(b.params.hashnav=!0);b.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,b.params.runCallbacksOnInit),b.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))}},setHistoryPopState:function(){b.history.paths=b.history.getPathValues(),b.history.scrollToSlide(b.params.speed,b.history.paths.value,!1)},getPathValues:function(){var e=window.location.pathname.slice(1).split("/"),t=e.length;return{key:e[t-2],value:e[t-1]}},setHistory:function(e,t){if(b.history.initialized&&b.params.history){var r=b.slides.eq(t),n=this.slugify(r.attr("data-history"));window.location.pathname.includes(e)||(n=e+"/"+n),b.params.replaceState?window.history.replaceState(null,null,n):window.history.pushState(null,null,n)}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,r){if(t)for(var n=0,o=b.slides.length;n<o;n++){var i=b.slides.eq(n),a=this.slugify(i.attr("data-history"));if(a===t&&!i.hasClass(b.params.slideDuplicateClass)){var s=i.index();b.slideTo(s,e,r)}}else b.slideTo(0,e,r)}},b.disableKeyboardControl=function(){b.params.keyboardControl=!1,e(document).off("keydown",u)},b.enableKeyboardControl=function(){b.params.keyboardControl=!0,e(document).on("keydown",u)},b.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},b.params.mousewheelControl&&(b.mousewheel.event=navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e="onwheel"in document;if(!e){var t=document.createElement("div");t.setAttribute("onwheel","return;"),e="function"==typeof t.onwheel}return!e&&document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")&&(e=document.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel"),b.disableMousewheelControl=function(){if(!b.mousewheel.event)return!1;var t=b.container;return"container"!==b.params.mousewheelEventsTarged&&(t=e(b.params.mousewheelEventsTarged)),t.off(b.mousewheel.event,c),b.params.mousewheelControl=!1,!0},b.enableMousewheelControl=function(){if(!b.mousewheel.event)return!1;var t=b.container;return"container"!==b.params.mousewheelEventsTarged&&(t=e(b.params.mousewheelEventsTarged)),t.on(b.mousewheel.event,c),b.params.mousewheelControl=!0,!0},b.parallax={setTranslate:function(){b.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,b.progress)}),b.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,Math.min(Math.max(t[0].progress,-1),1))})})},setTransition:function(t){void 0===t&&(t=b.params.speed),b.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var r=e(this),n=parseInt(r.attr("data-swiper-parallax-duration"),10)||t;0===t&&(n=0),r.transition(n)})}},b.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:b.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,r=e.targetTouches[0].pageY,n=e.targetTouches[1].pageX,o=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(n-t,2)+Math.pow(o-r,2))},onGestureStart:function(t){var r=b.zoom;if(!b.support.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;r.gesture.scaleStart=r.getDistanceBetweenTouches(t)}if(!(r.gesture.slide&&r.gesture.slide.length||(r.gesture.slide=e(this),0===r.gesture.slide.length&&(r.gesture.slide=b.slides.eq(b.activeIndex)),r.gesture.image=r.gesture.slide.find("img, svg, canvas"),r.gesture.imageWrap=r.gesture.image.parent("."+b.params.zoomContainerClass),r.gesture.zoomMax=r.gesture.imageWrap.attr("data-swiper-zoom")||b.params.zoomMax,0!==r.gesture.imageWrap.length)))return void(r.gesture.image=void 0);r.gesture.image.transition(0),r.isScaling=!0},onGestureChange:function(e){var t=b.zoom;if(!b.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;t.gesture.scaleMove=t.getDistanceBetweenTouches(e)}t.gesture.image&&0!==t.gesture.image.length&&(b.support.gestures?t.scale=e.scale*t.currentScale:t.scale=t.gesture.scaleMove/t.gesture.scaleStart*t.currentScale,t.scale>t.gesture.zoomMax&&(t.scale=t.gesture.zoomMax-1+Math.pow(t.scale-t.gesture.zoomMax+1,.5)),t.scale<b.params.zoomMin&&(t.scale=b.params.zoomMin+1-Math.pow(b.params.zoomMin-t.scale+1,.5)),t.gesture.image.transform("translate3d(0,0,0) scale("+t.scale+")"))},onGestureEnd:function(e){var t=b.zoom;!b.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||t.gesture.image&&0!==t.gesture.image.length&&(t.scale=Math.max(Math.min(t.scale,t.gesture.zoomMax),b.params.zoomMin),t.gesture.image.transition(b.params.speed).transform("translate3d(0,0,0) scale("+t.scale+")"),t.currentScale=t.scale,t.isScaling=!1,1===t.scale&&(t.gesture.slide=void 0))},onTouchStart:function(e,t){var r=e.zoom;r.gesture.image&&0!==r.gesture.image.length&&(r.image.isTouched||("android"===e.device.os&&t.preventDefault(),r.image.isTouched=!0,r.image.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,r.image.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(e){var t=b.zoom;if(t.gesture.image&&0!==t.gesture.image.length&&(b.allowClick=!1,t.image.isTouched&&t.gesture.slide)){t.image.isMoved||(t.image.width=t.gesture.image[0].offsetWidth,t.image.height=t.gesture.image[0].offsetHeight,t.image.startX=b.getTranslate(t.gesture.imageWrap[0],"x")||0,t.image.startY=b.getTranslate(t.gesture.imageWrap[0],"y")||0,t.gesture.slideWidth=t.gesture.slide[0].offsetWidth,t.gesture.slideHeight=t.gesture.slide[0].offsetHeight,t.gesture.imageWrap.transition(0),b.rtl&&(t.image.startX=-t.image.startX),b.rtl&&(t.image.startY=-t.image.startY));var r=t.image.width*t.scale,n=t.image.height*t.scale;if(!(r<t.gesture.slideWidth&&n<t.gesture.slideHeight)){if(t.image.minX=Math.min(t.gesture.slideWidth/2-r/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-n/2,0),t.image.maxY=-t.image.minY,t.image.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,t.image.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!t.image.isMoved&&!t.isScaling){if(b.isHorizontal()&&Math.floor(t.image.minX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x<t.image.touchesStart.x||Math.floor(t.image.maxX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x>t.image.touchesStart.x)return void(t.image.isTouched=!1);if(!b.isHorizontal()&&Math.floor(t.image.minY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y<t.image.touchesStart.y||Math.floor(t.image.maxY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y>t.image.touchesStart.y)return void(t.image.isTouched=!1)}e.preventDefault(),e.stopPropagation(),t.image.isMoved=!0,t.image.currentX=t.image.touchesCurrent.x-t.image.touchesStart.x+t.image.startX,t.image.currentY=t.image.touchesCurrent.y-t.image.touchesStart.y+t.image.startY,t.image.currentX<t.image.minX&&(t.image.currentX=t.image.minX+1-Math.pow(t.image.minX-t.image.currentX+1,.8)),t.image.currentX>t.image.maxX&&(t.image.currentX=t.image.maxX-1+Math.pow(t.image.currentX-t.image.maxX+1,.8)),t.image.currentY<t.image.minY&&(t.image.currentY=t.image.minY+1-Math.pow(t.image.minY-t.image.currentY+1,.8)),t.image.currentY>t.image.maxY&&(t.image.currentY=t.image.maxY-1+Math.pow(t.image.currentY-t.image.maxY+1,.8)),t.velocity.prevPositionX||(t.velocity.prevPositionX=t.image.touchesCurrent.x),t.velocity.prevPositionY||(t.velocity.prevPositionY=t.image.touchesCurrent.y),t.velocity.prevTime||(t.velocity.prevTime=Date.now()),t.velocity.x=(t.image.touchesCurrent.x-t.velocity.prevPositionX)/(Date.now()-t.velocity.prevTime)/2,t.velocity.y=(t.image.touchesCurrent.y-t.velocity.prevPositionY)/(Date.now()-t.velocity.prevTime)/2,Math.abs(t.image.touchesCurrent.x-t.velocity.prevPositionX)<2&&(t.velocity.x=0),Math.abs(t.image.touchesCurrent.y-t.velocity.prevPositionY)<2&&(t.velocity.y=0),t.velocity.prevPositionX=t.image.touchesCurrent.x,t.velocity.prevPositionY=t.image.touchesCurrent.y,t.velocity.prevTime=Date.now(),t.gesture.imageWrap.transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}}},onTouchEnd:function(e,t){var r=e.zoom;if(r.gesture.image&&0!==r.gesture.image.length){if(!r.image.isTouched||!r.image.isMoved)return r.image.isTouched=!1,void(r.image.isMoved=!1);r.image.isTouched=!1,r.image.isMoved=!1;var n=300,o=300,i=r.velocity.x*n,a=r.image.currentX+i,s=r.velocity.y*o,l=r.image.currentY+s;0!==r.velocity.x&&(n=Math.abs((a-r.image.currentX)/r.velocity.x)),0!==r.velocity.y&&(o=Math.abs((l-r.image.currentY)/r.velocity.y));var u=Math.max(n,o);r.image.currentX=a,r.image.currentY=l;var d=r.image.width*r.scale,c=r.image.height*r.scale;r.image.minX=Math.min(r.gesture.slideWidth/2-d/2,0),r.image.maxX=-r.image.minX,r.image.minY=Math.min(r.gesture.slideHeight/2-c/2,0),r.image.maxY=-r.image.minY,r.image.currentX=Math.max(Math.min(r.image.currentX,r.image.maxX),r.image.minX),r.image.currentY=Math.max(Math.min(r.image.currentY,r.image.maxY),r.image.minY),r.gesture.imageWrap.transition(u).transform("translate3d("+r.image.currentX+"px, "+r.image.currentY+"px,0)")}},onTransitionEnd:function(e){var t=e.zoom;t.gesture.slide&&e.previousIndex!==e.activeIndex&&(t.gesture.image.transform("translate3d(0,0,0) scale(1)"),t.gesture.imageWrap.transform("translate3d(0,0,0)"),t.gesture.slide=t.gesture.image=t.gesture.imageWrap=void 0,t.scale=t.currentScale=1)},toggleZoom:function(t,r){var n=t.zoom;if(n.gesture.slide||(n.gesture.slide=t.clickedSlide?e(t.clickedSlide):t.slides.eq(t.activeIndex),n.gesture.image=n.gesture.slide.find("img, svg, canvas"),n.gesture.imageWrap=n.gesture.image.parent("."+t.params.zoomContainerClass)),n.gesture.image&&0!==n.gesture.image.length){var o,i,a,s,l,u,d,c,p,h,f,g,m,v,y,A,_,b;void 0===n.image.touchesStart.x&&r?(o="touchend"===r.type?r.changedTouches[0].pageX:r.pageX,i="touchend"===r.type?r.changedTouches[0].pageY:r.pageY):(o=n.image.touchesStart.x,i=n.image.touchesStart.y),n.scale&&1!==n.scale?(n.scale=n.currentScale=1,n.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),n.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),n.gesture.slide=void 0):(n.scale=n.currentScale=n.gesture.imageWrap.attr("data-swiper-zoom")||t.params.zoomMax,r?(_=n.gesture.slide[0].offsetWidth,b=n.gesture.slide[0].offsetHeight,a=n.gesture.slide.offset().left,s=n.gesture.slide.offset().top,l=a+_/2-o,u=s+b/2-i,p=n.gesture.image[0].offsetWidth,h=n.gesture.image[0].offsetHeight,f=p*n.scale,g=h*n.scale,m=Math.min(_/2-f/2,0),v=Math.min(b/2-g/2,0),y=-m,A=-v,d=l*n.scale,c=u*n.scale,d<m&&(d=m),d>y&&(d=y),c<v&&(c=v),c>A&&(c=A)):(d=0,c=0),n.gesture.imageWrap.transition(300).transform("translate3d("+d+"px, "+c+"px,0)"),n.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+n.scale+")"))}},attachEvents:function(t){var r=t?"off":"on";if(b.params.zoom){var n=(b.slides,!("touchstart"!==b.touchEvents.start||!b.support.passiveListener||!b.params.passiveListeners)&&{passive:!0,capture:!1});b.support.gestures?(b.slides[r]("gesturestart",b.zoom.onGestureStart,n),b.slides[r]("gesturechange",b.zoom.onGestureChange,n),b.slides[r]("gestureend",b.zoom.onGestureEnd,n)):"touchstart"===b.touchEvents.start&&(b.slides[r](b.touchEvents.start,b.zoom.onGestureStart,n),b.slides[r](b.touchEvents.move,b.zoom.onGestureChange,n),b.slides[r](b.touchEvents.end,b.zoom.onGestureEnd,n)),b[r]("touchStart",b.zoom.onTouchStart),b.slides.each(function(t,n){e(n).find("."+b.params.zoomContainerClass).length>0&&e(n)[r](b.touchEvents.move,b.zoom.onTouchMove)}),b[r]("touchEnd",b.zoom.onTouchEnd),b[r]("transitionEnd",b.zoom.onTransitionEnd),b.params.zoomToggle&&b.on("doubleTap",b.zoom.toggleZoom)}},init:function(){b.zoom.attachEvents()},destroy:function(){b.zoom.attachEvents(!0)}},b._plugins=[];for(var N in b.plugins){var U=b.plugins[N](b,b.params[N]);U&&b._plugins.push(U)}return b.callPlugins=function(e){for(var t=0;t<b._plugins.length;t++)e in b._plugins[t]&&b._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.emitterEventListeners={},b.emit=function(e){b.params[e]&&b.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(b.emitterEventListeners[e])for(t=0;t<b.emitterEventListeners[e].length;t++)b.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);b.callPlugins&&b.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.on=function(e,t){return e=h(e),b.emitterEventListeners[e]||(b.emitterEventListeners[e]=[]),b.emitterEventListeners[e].push(t),b},b.off=function(e,t){var r;if(e=h(e),void 0===t)return b.emitterEventListeners[e]=[],b;if(b.emitterEventListeners[e]&&0!==b.emitterEventListeners[e].length){for(r=0;r<b.emitterEventListeners[e].length;r++)b.emitterEventListeners[e][r]===t&&b.emitterEventListeners[e].splice(r,1);return b}},b.once=function(e,t){e=h(e);var r=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),b.off(e,r)};return b.on(e,r),b},b.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(t){13===t.keyCode&&(e(t.target).is(b.params.nextButton)?(b.onClickNext(t),b.isEnd?b.a11y.notify(b.params.lastSlideMessage):b.a11y.notify(b.params.nextSlideMessage)):e(t.target).is(b.params.prevButton)&&(b.onClickPrev(t),b.isBeginning?b.a11y.notify(b.params.firstSlideMessage):b.a11y.notify(b.params.prevSlideMessage)),e(t.target).is("."+b.params.bulletClass)&&e(t.target)[0].click())},liveRegion:e('<span class="'+b.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=b.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.a11y.makeFocusable(b.nextButton),b.a11y.addRole(b.nextButton,"button"),b.a11y.addLabel(b.nextButton,b.params.nextSlideMessage)),b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.a11y.makeFocusable(b.prevButton),b.a11y.addRole(b.prevButton,"button"),b.a11y.addLabel(b.prevButton,b.params.prevSlideMessage)),e(b.container).append(b.a11y.liveRegion)},initPagination:function(){b.params.pagination&&b.params.paginationClickable&&b.bullets&&b.bullets.length&&b.bullets.each(function(){var t=e(this);b.a11y.makeFocusable(t),b.a11y.addRole(t,"button"),b.a11y.addLabel(t,b.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){b.a11y.liveRegion&&b.a11y.liveRegion.length>0&&b.a11y.liveRegion.remove()}},b.init=function(){b.params.loop&&b.createLoop(),b.updateContainerSize(),b.updateSlidesSize(),b.updatePagination(),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.set(),b.params.scrollbarDraggable&&b.scrollbar.enableDraggable()),"slide"!==b.params.effect&&b.effects[b.params.effect]&&(b.params.loop||b.updateProgress(),b.effects[b.params.effect].setTranslate()),b.params.loop?b.slideTo(b.params.initialSlide+b.loopedSlides,0,b.params.runCallbacksOnInit):(b.slideTo(b.params.initialSlide,0,b.params.runCallbacksOnInit),0===b.params.initialSlide&&(b.parallax&&b.params.parallax&&b.parallax.setTranslate(),b.lazy&&b.params.lazyLoading&&(b.lazy.load(),b.lazy.initialImageLoaded=!0))),b.attachEvents(),b.params.observer&&b.support.observer&&b.initObservers(),b.params.preloadImages&&!b.params.lazyLoading&&b.preloadImages(),b.params.zoom&&b.zoom&&b.zoom.init(),b.params.autoplay&&b.startAutoplay(),b.params.keyboardControl&&b.enableKeyboardControl&&b.enableKeyboardControl(),b.params.mousewheelControl&&b.enableMousewheelControl&&b.enableMousewheelControl(),b.params.hashnavReplaceState&&(b.params.replaceState=b.params.hashnavReplaceState),b.params.history&&b.history&&b.history.init(),b.params.hashnav&&b.hashnav&&b.hashnav.init(),b.params.a11y&&b.a11y&&b.a11y.init(),b.emit("onInit",b)},b.cleanupStyles=function(){b.container.removeClass(b.classNames.join(" ")).removeAttr("style"),b.wrapper.removeAttr("style"),b.slides&&b.slides.length&&b.slides.removeClass([b.params.slideVisibleClass,b.params.slideActiveClass,b.params.slideNextClass,b.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),b.paginationContainer&&b.paginationContainer.length&&b.paginationContainer.removeClass(b.params.paginationHiddenClass),b.bullets&&b.bullets.length&&b.bullets.removeClass(b.params.bulletActiveClass),b.params.prevButton&&e(b.params.prevButton).removeClass(b.params.buttonDisabledClass),b.params.nextButton&&e(b.params.nextButton).removeClass(b.params.buttonDisabledClass),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.track&&b.scrollbar.track.length&&b.scrollbar.track.removeAttr("style"),b.scrollbar.drag&&b.scrollbar.drag.length&&b.scrollbar.drag.removeAttr("style"))},b.destroy=function(e,t){b.detachEvents(),b.stopAutoplay(),b.params.scrollbar&&b.scrollbar&&b.params.scrollbarDraggable&&b.scrollbar.disableDraggable(),b.params.loop&&b.destroyLoop(),t&&b.cleanupStyles(),b.disconnectObservers(),b.params.zoom&&b.zoom&&b.zoom.destroy(),b.params.keyboardControl&&b.disableKeyboardControl&&b.disableKeyboardControl(),b.params.mousewheelControl&&b.disableMousewheelControl&&b.disableMousewheelControl(),b.params.a11y&&b.a11y&&b.a11y.destroy(),b.params.history&&!b.params.replaceState&&window.removeEventListener("popstate",b.history.setHistoryPopState),b.params.hashnav&&b.hashnav&&b.hashnav.destroy(),b.emit("onDestroy"),!1!==e&&(b=null)},b.init(),b}};t.prototype={isSafari:function(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1,lteIE9:function(){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length}()},device:function(){var e=window.navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),r=e.match(/(iPad).*OS\s([\d_]+)/),n=e.match(/(iPod)(.*OS\s([\d_]+))?/),o=!r&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);return{ios:r||o||n,android:t}}(),support:{touch:window.Modernizr&&!0===Modernizr.touch||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),r=0;r<t.length;r++)if(t[r]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}(),passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:function(){return"ongesturestart"in window}()},plugins:{}};for(var r=(function(){var e=function(e){var t=this,r=0;for(r=0;r<e.length;r++)t[r]=e[r];return t.length=e.length,this},t=function(t,r){var n=[],o=0;if(t&&!r&&t instanceof e)return t;if(t)if("string"==typeof t){var i,a,s=t.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),a=document.createElement(l),a.innerHTML=t,o=0;o<a.childNodes.length;o++)n.push(a.childNodes[o])}else for(i=r||"#"!==t[0]||t.match(/[ .<>:~]/)?(r||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],o=0;o<i.length;o++)i[o]&&n.push(i[o])}else if(t.nodeType||t===window||t===document)n.push(t);else if(t.length>0&&t[0].nodeType)for(o=0;o<t.length;o++)n.push(t[o]);return new e(n)};return e.prototype={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),r=0;r<t.length;r++)for(var n=0;n<this.length;n++)this[n].classList.add(t[r]);return this},removeClass:function(e){for(var t=e.split(" "),r=0;r<t.length;r++)for(var n=0;n<this.length;n++)this[n].classList.remove(t[r]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),r=0;r<t.length;r++)for(var n=0;n<this.length;n++)this[n].classList.toggle(t[r]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var r=0;r<this.length;r++)if(2===arguments.length)this[r].setAttribute(e,t);else for(var n in e)this[r][n]=e[n],this[r].setAttribute(n,e[n]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},data:function(e,t){if(void 0!==t){for(var r=0;r<this.length;r++){var n=this[r];n.dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[e]=t}return this}if(this[0]){var o=this[0].getAttribute("data-"+e);return o||(this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0)}},transform:function(e){for(var t=0;t<this.length;t++){var r=this[t].style;r.webkitTransform=r.MsTransform=r.msTransform=r.MozTransform=r.OTransform=r.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var r=this[t].style;r.webkitTransitionDuration=r.MsTransitionDuration=r.msTransitionDuration=r.MozTransitionDuration=r.OTransitionDuration=r.transitionDuration=e}return this},on:function(e,r,n,o){function i(e){var o=e.target;if(t(o).is(r))n.call(o,e);else for(var i=t(o).parents(),a=0;a<i.length;a++)t(i[a]).is(r)&&n.call(i[a],e)}var a,s,l=e.split(" ");for(a=0;a<this.length;a++)if("function"==typeof r||!1===r)for("function"==typeof r&&(n=arguments[1],o=arguments[2]||!1),s=0;s<l.length;s++)this[a].addEventListener(l[s],n,o);else for(s=0;s<l.length;s++)this[a].dom7LiveListeners||(this[a].dom7LiveListeners=[]),this[a].dom7LiveListeners.push({listener:n,liveListener:i}),this[a].addEventListener(l[s],i,o);return this},off:function(e,t,r,n){for(var o=e.split(" "),i=0;i<o.length;i++)for(var a=0;a<this.length;a++)if("function"==typeof t||!1===t)"function"==typeof t&&(r=arguments[1],n=arguments[2]||!1),this[a].removeEventListener(o[i],r,n);else if(this[a].dom7LiveListeners)for(var s=0;s<this[a].dom7LiveListeners.length;s++)this[a].dom7LiveListeners[s].listener===r&&this[a].removeEventListener(o[i],this[a].dom7LiveListeners[s].liveListener,n);return this},once:function(e,t,r,n){function o(a){r(a),i.off(e,t,o,n)}var i=this;"function"==typeof t&&(t=!1,r=arguments[1],n=arguments[2]),i.on(e,t,o,n)},trigger:function(e,t){for(var r=0;r<this.length;r++){var n;try{n=new window.CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(r){n=document.createEvent("Event"),n.initEvent(e,!0,!0),n.detail=t}this[r].dispatchEvent(n)}return this},transitionEnd:function(e){function t(i){if(i.target===this)for(e.call(this,i),r=0;r<n.length;r++)o.off(n[r],t)}var r,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],o=this;if(e)for(r=0;r<n.length;r++)o.on(n[r],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),r=document.body,n=e.clientTop||r.clientTop||0,o=e.clientLeft||r.clientLeft||0,i=window.pageYOffset||e.scrollTop,a=window.pageXOffset||e.scrollLeft;return{top:t.top+i-n,left:t.left+a-o}}return null},css:function(e,t){var r;if(1===arguments.length){if("string"!=typeof e){for(r=0;r<this.length;r++)for(var n in e)this[r].style[n]=e[n];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(r=0;r<this.length;r++)this[r].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(r){if(!this[0])return!1;var n,o;if("string"==typeof r){var i=this[0];if(i===document)return r===document;if(i===window)return r===window;if(i.matches)return i.matches(r);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(r);if(i.mozMatchesSelector)return i.mozMatchesSelector(r);if(i.msMatchesSelector)return i.msMatchesSelector(r);for(n=t(r),o=0;o<n.length;o++)if(n[o]===this[0])return!0;return!1}if(r===document)return this[0]===document;if(r===window)return this[0]===window;if(r.nodeType||r instanceof e){for(n=r.nodeType?[r]:r,o=0;o<n.length;o++)if(n[o]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if(void 0===t)return this;var r,n=this.length;return t>n-1?new e([]):t<0?(r=n+t,new e(r<0?[]:[this[r]])):new e([this[t]])},append:function(t){var r,n;for(r=0;r<this.length;r++)if("string"==typeof t){var o=document.createElement("div");for(o.innerHTML=t;o.firstChild;)this[r].appendChild(o.firstChild)}else if(t instanceof e)for(n=0;n<t.length;n++)this[r].appendChild(t[n]);else this[r].appendChild(t);return this},prepend:function(t){var r,n;for(r=0;r<this.length;r++)if("string"==typeof t){var o=document.createElement("div");for(o.innerHTML=t,n=o.childNodes.length-1;n>=0;n--)this[r].insertBefore(o.childNodes[n],this[r].childNodes[0])}else if(t instanceof e)for(n=0;n<t.length;n++)this[r].insertBefore(t[n],this[r].childNodes[0]);else this[r].insertBefore(t,this[r].childNodes[0]);return this},insertBefore:function(e){for(var r=t(e),n=0;n<this.length;n++)if(1===r.length)r[0].parentNode.insertBefore(this[n],r[0]);else if(r.length>1)for(var o=0;o<r.length;o++)r[o].parentNode.insertBefore(this[n].cloneNode(!0),r[o])},insertAfter:function(e){for(var r=t(e),n=0;n<this.length;n++)if(1===r.length)r[0].parentNode.insertBefore(this[n],r[0].nextSibling);else if(r.length>1)for(var o=0;o<r.length;o++)r[o].parentNode.insertBefore(this[n].cloneNode(!0),r[o].nextSibling)},next:function(r){return new e(this.length>0?r?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(r)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(r){var n=[],o=this[0];if(!o)return new e([]);for(;o.nextElementSibling;){var i=o.nextElementSibling;r?t(i).is(r)&&n.push(i):n.push(i),o=i}return new e(n)},prev:function(r){return new e(this.length>0?r?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(r)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(r){var n=[],o=this[0];if(!o)return new e([]);for(;o.previousElementSibling;){var i=o.previousElementSibling;r?t(i).is(r)&&n.push(i):n.push(i),o=i}return new e(n)},parent:function(e){for(var r=[],n=0;n<this.length;n++)e?t(this[n].parentNode).is(e)&&r.push(this[n].parentNode):r.push(this[n].parentNode);return t(t.unique(r))},parents:function(e){for(var r=[],n=0;n<this.length;n++)for(var o=this[n].parentNode;o;)e?t(o).is(e)&&r.push(o):r.push(o),o=o.parentNode;return t(t.unique(r))},find:function(t){for(var r=[],n=0;n<this.length;n++)for(var o=this[n].querySelectorAll(t),i=0;i<o.length;i++)r.push(o[i]);return new e(r)},children:function(r){for(var n=[],o=0;o<this.length;o++)for(var i=this[o].childNodes,a=0;a<i.length;a++)r?1===i[a].nodeType&&t(i[a]).is(r)&&n.push(i[a]):1===i[a].nodeType&&n.push(i[a]);return new e(t.unique(n))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,r,n=this;for(e=0;e<arguments.length;e++){var o=t(arguments[e]);for(r=0;r<o.length;r++)n[n.length]=o[r],n.length++}return n}},t.fn=e.prototype,t.unique=function(e){for(var t=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t},t}()),n=["jQuery","Zepto","Dom7"],o=0;o<n.length;o++)window[n[o]]&&function(e){e.fn.swiper=function(r){var n;return e(this).each(function(){var e=new t(this,r);n||(n=e)}),n}}(window[n[o]]);var i;i=void 0===r?window.Dom7||window.Zepto||window.jQuery:r,i&&("transitionEnd"in i.fn||(i.fn.transitionEnd=function(e){function t(i){if(i.target===this)for(e.call(this,i),r=0;r<n.length;r++)o.off(n[r],t)}var r,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],o=this;if(e)for(r=0;r<n.length;r++)o.on(n[r],t);return this}),"transform"in i.fn||(i.fn.transform=function(e){for(var t=0;t<this.length;t++){var r=this[t].style;r.webkitTransform=r.MsTransform=r.msTransform=r.MozTransform=r.OTransform=r.transform=e}return this}),"transition"in i.fn||(i.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var r=this[t].style;r.webkitTransitionDuration=r.MsTransitionDuration=r.msTransitionDuration=r.MozTransitionDuration=r.OTransitionDuration=r.transitionDuration=e}return this}),"outerWidth"in i.fn||(i.fn.outerWidth=function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=t}(),e.exports=window.Swiper},495:function(e,t,r){"use strict";var n=r(21);r.n(n).a.register({twitter:{width:1664,height:1792,paths:[{d:"M1620 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"}]}})},500:function(e,t,r){r(515);var n=r(8)(r(505),r(523),"data-v-62d74067",null);e.exports=n.exports},502:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"swiper-slide",data:function(){return{slideClass:"swiper-slide"}},ready:function(){this.update()},mounted:function(){this.update(),this.$parent.options.slideClass&&(this.slideClass=this.$parent.options.slideClass)},updated:function(){this.update()},attached:function(){this.update()},methods:{update:function(){this.$parent&&this.$parent.swiper&&this.$parent.swiper.update&&(this.$parent.swiper.update(!0),this.$parent.options.loop&&this.$parent.swiper.reLoop())}}}},503:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window;n&&(window.Swiper=r(494)),t.default={name:"swiper",props:{options:{type:Object,default:function(){return{autoplay:3500}}},notNextTick:{type:Boolean,default:function(){return!1}}},data:function(){return{defaultSwiperClasses:{wrapperClass:"swiper-wrapper"}}},ready:function(){!this.swiper&&n&&(this.swiper=new Swiper(this.$el,this.options))},mounted:function(){var e=this,t=function(){if(!e.swiper&&n){delete e.options.notNextTick;var t=!1;for(var r in e.defaultSwiperClasses)e.defaultSwiperClasses.hasOwnProperty(r)&&e.options[r]&&(t=!0,e.defaultSwiperClasses[r]=e.options[r]);var o=function(){e.swiper=new Swiper(e.$el,e.options)};t?e.$nextTick(o):o()}}(this.options.notNextTick||this.notNextTick)?t():this.$nextTick(t)},updated:function(){this.swiper&&this.swiper.update()},beforeDestroy:function(){this.swiper&&(this.swiper.destroy(),delete this.swiper)}}},505:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14),o=r.n(n),i=r(22),a=r(2),s=r(127),l=r.n(s);t.default={name:"message-composer",props:["section"],data:function(){return{infoLabel:"",message:{text:""},windowWidth:0,sending:!1}},methods:{sendMessage:function(){var e=this,t=this.section?"https://"+this.course.slug+".connectedacademy.io/#/course/"+this.currentClass.slug+"/"+this.section:this.url,r={text:this.message.text+" "+this.course.hashtag+" "+t,currentClass:this.currentClass.slug,currentSection:this.section?this.section:this.currentSection.slug,currentSegment:this.section?this.messageSegment:void 0};this.sending=!0,i.a.message.sendMessage(r,function(t,r){e.$store.commit("SEND_MESSAGE_SUCCESS",{response:t,postData:r}),e.message.text="",e.infoLabel="Posted note",setTimeout(function(){e.infoLabel=""},2e3),e.sending=!1},function(t,r){e.$store.commit("SEND_MESSAGE_FAILURE",{response:t}),alert("Failed to send message"),e.infoLabel="Failed to post note",setTimeout(function(){e.infoLabel=""},2e3),e.sending=!1})}},computed:o()({},r.i(a.b)(["isRegistered","peekSegment","currentSegment","isRegistered","course","currentClass","currentSection"]),{messageSegment:function(){return this.peekSegment?this.peekSegment/.2:this.currentSegment},url:function(){return void 0===this.currentSection?"":"https://"+this.course.slug+".connectedacademy.io/#/course/"+this.currentClass.slug+"/"+this.currentSection.slug+"/"+this.messageSegment},hidden:function(){return void 0===this.currentSection||!this.isRegistered||this.$store.state.composer.hidden||this.$store.state.auth.visible||this.$store.state.navigation.leftDrawer.visible||this.$store.state.navigation.rightDrawer.visible||"main"!==this.$store.state.route.name},currentTime:function(){return"Tweeting at - "+l()(this.currentTime)},submitText:function(){return this.sending?"Sending":"Post"}})}},509:function(e,t,r){t=e.exports=r(394)(),t.push([e.i,".pure-button[data-v-62d74067]{transition:all .3s ease;border-radius:4px;background:none;background-color:transparent;border:1px solid #29b474;color:#29b474}.pure-button[data-v-62d74067]:hover{background:none;background-color:#29b474;color:#fff}.pure-button.full-width[data-v-62d74067]{display:block;margin-bottom:10px}.pure-button.pure-button-primary[data-v-62d74067]{background-color:#29b474;color:#fff}.pure-button.pure-button-primary[data-v-62d74067]:hover{background-color:#25a268}.pure-button.pure-button-white[data-v-62d74067]{background-color:transparent;border-color:#fff;color:#fff}.pure-button.pure-button-white[data-v-62d74067]:hover{background-color:rgba(0,0,0,.1)}.pure-button.pure-button-success[data-v-62d74067]{background-color:#29b474;color:#fff}.pure-button.pure-button-success[data-v-62d74067]:hover{background-color:#25a268}.pure-button.pure-button-twitter[data-v-62d74067]{border-radius:25px;background-color:#4099ff;border:none;color:#fff;line-height:50px;padding:0 30px}.pure-button.pure-button-twitter[data-v-62d74067]:hover{background-color:#2088ff}.pure-button.pure-button-subtle[data-v-62d74067]{background-color:transparent;border-color:#ccc;color:#666}.pure-button.pure-button-subtle[data-v-62d74067]:hover{background-color:#e1e1e1;color:#444}.pure-button.pure-button-text[data-v-62d74067]{border-color:transparent}.pure-button.pure-button-homework[data-v-62d74067]{background-color:transparent;border-color:#fd3c51;color:#fd3c51}.pure-button.pure-button-homework[data-v-62d74067]:hover{background-color:#fd3c51;color:#fff}body[data-v-62d74067],html[data-v-62d74067]{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.pull-left[data-v-62d74067]{float:left}.pull-right[data-v-62d74067]{float:right}.clearfix[data-v-62d74067]{clear:both;float:none}.fa-icon[data-v-62d74067]{width:auto;height:1em}.no-margin[data-v-62d74067]{margin:0!important}.no-padding[data-v-62d74067]{padding:0!important}.background-white[data-v-62d74067]{background-color:#fff!important}.text-white[data-v-62d74067]{color:#fff}.fade-enter-active[data-v-62d74067],.fade-leave-active[data-v-62d74067]{transition:opacity .2s}.fade-enter[data-v-62d74067],.fade-leave-to[data-v-62d74067]{opacity:0}.fade-enter-to[data-v-62d74067],.fade-leave[data-v-62d74067]{opacity:1}.main-container[data-v-62d74067]{border-radius:4px;position:relative}@media (max-width:800px){.main-container[data-v-62d74067]{border-radius:0}}.main-container.main-container-padded[data-v-62d74067]{padding:20px}.content-block[data-v-62d74067]{border-radius:4px;padding:20px;margin:20px 0 0}@media (max-width:800px){.content-block[data-v-62d74067]{border-radius:0}}.content-block.white-block[data-v-62d74067]{background-color:#fff}.icon-margin[data-v-62d74067]{margin:0 5px}.message-composer-wrapper[data-v-62d74067]{top:0;bottom:0;left:0;right:0;position:absolute;left:50%;position:relative;top:auto;bottom:auto;left:auto;right:auto;height:50px}@media (max-width:800px){.message-composer-wrapper[data-v-62d74067]{width:100%;left:0;right:0;margin:0}}.message-composer-wrapper .message-composer[data-v-62d74067]{transition:all .3s ease;bottom:0;left:0;right:0;top:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;position:absolute;z-index:2}.message-composer-wrapper .message-composer .message-composer--body[data-v-62d74067]{top:0;bottom:0;left:0;right:0;position:absolute}.message-composer-wrapper .message-composer .message-composer--body .login-warning[data-v-62d74067]{top:0;bottom:0;left:0;right:0;background-color:#fff;z-index:2;padding:0 20px;position:absolute;text-align:center}.message-composer-wrapper .message-composer .message-composer--body .login-warning h4[data-v-62d74067]{margin:0;padding:0;color:#444;line-height:50px!important}.message-composer-wrapper .message-composer .message-composer--body .textarea-wrapper[data-v-62d74067]{overflow:hidden;position:absolute;top:0;bottom:0;right:0;left:0}.message-composer-wrapper .message-composer .message-composer--body .textarea-wrapper textarea[data-v-62d74067]{border:none;font-size:1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:15px;resize:none;outline:0;position:absolute;top:0;bottom:0;right:100px;left:0;width:100%;transition:all .3s ease}@media (max-width:800px){.message-composer-wrapper .message-composer .message-composer--body .textarea-wrapper textarea[data-v-62d74067]{right:10px;width:calc(100% - 20px)}}.message-composer-wrapper .message-composer .message-composer--footer[data-v-62d74067]{height:30px;padding:10px;position:absolute;bottom:0;right:0;left:auto;transition:all .3s ease}.message-composer-wrapper .message-composer .message-composer--footer button.pure-button.pure-button-primary[data-v-62d74067]{padding:3px 20px}.message-composer-wrapper .message-composer .message-composer--footer .info-label[data-v-62d74067]{margin:0;padding:0;border-radius:5px;display:inline-block;background-color:#e9e9e9;color:#444;font-size:1em;line-height:30px;margin:0 15px;padding:0 15px}.message-composer-wrapper.static[data-v-62d74067]{border-radius:4px;border:1px solid #e9e9e9;margin-bottom:20px;overflow:hidden;position:relative!important;bottom:auto;top:auto;left:auto;right:auto}.message-composer-wrapper.static .message-composer[data-v-62d74067]{border-top:none;top:0}.message-composer-wrapper.static .message-composer--footer[data-v-62d74067]{border-top:1px solid #e9e9e9}","",{version:3,sources:["/root/connectedacademy/src/components/MessageComposer.vue"],names:[],mappings:"AACA,8BACE,wBAA0B,AAC1B,kBAAmB,AACnB,gBAAiB,AACjB,6BAA8B,AAC9B,yBAA0B,AAC1B,aAAe,CAChB,AACD,oCACE,gBAAiB,AACjB,yBAA0B,AAC1B,UAAY,CACb,AACD,yCACE,cAAe,AACf,kBAAoB,CACrB,AACD,kDACE,yBAA0B,AAC1B,UAAY,CACb,AACD,wDACE,wBAA0B,CAC3B,AACD,gDACE,6BAA8B,AAC9B,kBAAmB,AACnB,UAAY,CACb,AACD,sDACE,+BAAkC,CACnC,AACD,kDACE,yBAA0B,AAC1B,UAAY,CACb,AACD,wDACE,wBAA0B,CAC3B,AACD,kDACE,mBAAoB,AACpB,yBAA0B,AAC1B,YAAa,AACb,WAAY,AACZ,iBAAkB,AAClB,cAAgB,CACjB,AACD,wDACE,wBAA0B,CAC3B,AACD,iDACE,6BAA8B,AAC9B,kBAAmB,AACnB,UAAY,CACb,AACD,uDACE,yBAA0B,AAC1B,UAAY,CACb,AACD,+CACE,wBAA0B,CAC3B,AACD,mDACE,6BAA8B,AAC9B,qBAAsB,AACtB,aAAe,CAChB,AACD,yDACE,yBAA0B,AAC1B,UAAY,CACb,AACD,4CAEE,8CAAoD,AACpD,mCAAoC,AACpC,iCAAmC,CACpC,AACD,4BACE,UAAY,CACb,AACD,6BACE,WAAa,CACd,AACD,2BACE,WAAY,AACZ,UAAY,CACb,AACD,0BACE,WAAY,AACZ,UAAY,CACb,AACD,4BACE,kBAAqB,CACtB,AACD,6BACE,mBAAsB,CACvB,AACD,mCACE,+BAAkC,CACnC,AACD,6BACE,UAAY,CACb,AACD,wEAEE,sBAAyB,CAC1B,AACD,6DAEE,SAAW,CACZ,AACD,6DAEE,SAAW,CACZ,AACD,iCACE,kBAAmB,AACnB,iBAAmB,CACpB,AACD,yBACA,iCACI,eAAiB,CACpB,CACA,AACD,uDACE,YAAc,CACf,AACD,gCACE,kBAAmB,AACnB,aAAc,AACd,eAAmB,CACpB,AACD,yBACA,gCACI,eAAiB,CACpB,CACA,AACD,4CACE,qBAAuB,CACxB,AACD,8BACE,YAAc,CACf,AACD,2CACE,MAAO,AACP,SAAU,AACV,OAAQ,AACR,QAAS,AACT,kBAAmB,AACnB,SAAU,AACV,kBAAmB,AACnB,SAAU,AACV,YAAa,AACb,UAAW,AACX,WAAY,AACZ,WAAa,CACd,AACD,yBACA,2CACI,WAAY,AACZ,OAAQ,AACR,QAAS,AACT,QAAU,CACb,CACA,AACD,6DACE,wBAA0B,AAE1B,SAAU,AACV,OAAQ,AACR,QAAS,AACT,MAAO,AACP,sBAAuB,AACvB,2BAA4B,AAC5B,8BAA+B,AAC/B,kBAAmB,AACnB,SAAW,CACZ,AACD,qFACE,MAAO,AACP,SAAU,AACV,OAAQ,AACR,QAAS,AACT,iBAAmB,CACpB,AACD,oGACE,MAAO,AACP,SAAU,AACV,OAAQ,AACR,QAAS,AACT,sBAAuB,AACvB,UAAW,AACX,eAAgB,AAChB,kBAAmB,AACnB,iBAAmB,CACpB,AACD,uGACE,SAAU,AACV,UAAW,AACX,WAAY,AACZ,0BAA6B,CAC9B,AACD,uGACE,gBAAiB,AACjB,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,QAAS,AACT,MAAQ,CACT,AACD,gHACE,YAAa,AACb,cAAe,AACf,sBAAuB,AACvB,2BAA4B,AAC5B,8BAA+B,AAC/B,aAAc,AACd,YAAa,AACb,UAAW,AACX,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,YAAa,AACb,OAAQ,AACR,WAAY,AACZ,uBAA0B,CAC3B,AACD,yBACA,gHACI,WAAY,AACZ,uBAAyB,CAC5B,CACA,AACD,uFACE,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,UAAW,AACX,uBAA0B,CAC3B,AACD,8HACE,gBAAkB,CACnB,AACD,mGACE,SAAU,AACV,UAAW,AACX,kBAAmB,AACnB,qBAAsB,AACtB,yBAA0B,AAC1B,WAAY,AACZ,cAAe,AACf,iBAAkB,AAClB,cAAiB,AACjB,cAAgB,CACjB,AACD,kDACE,kBAAmB,AACnB,yBAA0B,AAC1B,mBAAoB,AACpB,gBAAiB,AACjB,4BAA8B,AAC9B,YAAa,AACb,SAAU,AACV,UAAW,AACX,UAAY,CACb,AACD,oEACE,gBAAiB,AACjB,KAAO,CACR,AACD,4EACE,4BAA8B,CAC/B",file:"MessageComposer.vue",sourcesContent:["\n.pure-button[data-v-62d74067] {\n  transition: all 0.3s ease;\n  border-radius: 4px;\n  background: none;\n  background-color: transparent;\n  border: #29b474 1px solid;\n  color: #29b474;\n}\n.pure-button[data-v-62d74067]:hover {\n  background: none;\n  background-color: #29b474;\n  color: #fff;\n}\n.pure-button.full-width[data-v-62d74067] {\n  display: block;\n  margin-bottom: 10px;\n}\n.pure-button.pure-button-primary[data-v-62d74067] {\n  background-color: #29b474;\n  color: #fff;\n}\n.pure-button.pure-button-primary[data-v-62d74067]:hover {\n  background-color: #25a268;\n}\n.pure-button.pure-button-white[data-v-62d74067] {\n  background-color: transparent;\n  border-color: #fff;\n  color: #fff;\n}\n.pure-button.pure-button-white[data-v-62d74067]:hover {\n  background-color: rgba(0,0,0,0.1);\n}\n.pure-button.pure-button-success[data-v-62d74067] {\n  background-color: #29b474;\n  color: #fff;\n}\n.pure-button.pure-button-success[data-v-62d74067]:hover {\n  background-color: #25a268;\n}\n.pure-button.pure-button-twitter[data-v-62d74067] {\n  border-radius: 25px;\n  background-color: #4099ff;\n  border: none;\n  color: #fff;\n  line-height: 50px;\n  padding: 0 30px;\n}\n.pure-button.pure-button-twitter[data-v-62d74067]:hover {\n  background-color: #2088ff;\n}\n.pure-button.pure-button-subtle[data-v-62d74067] {\n  background-color: transparent;\n  border-color: #ccc;\n  color: #666;\n}\n.pure-button.pure-button-subtle[data-v-62d74067]:hover {\n  background-color: #e1e1e1;\n  color: #444;\n}\n.pure-button.pure-button-text[data-v-62d74067] {\n  border-color: transparent;\n}\n.pure-button.pure-button-homework[data-v-62d74067] {\n  background-color: transparent;\n  border-color: #fd3c51;\n  color: #fd3c51;\n}\n.pure-button.pure-button-homework[data-v-62d74067]:hover {\n  background-color: #fd3c51;\n  color: #fff;\n}\nhtml[data-v-62d74067],\nbody[data-v-62d74067] {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.pull-left[data-v-62d74067] {\n  float: left;\n}\n.pull-right[data-v-62d74067] {\n  float: right;\n}\n.clearfix[data-v-62d74067] {\n  clear: both;\n  float: none;\n}\n.fa-icon[data-v-62d74067] {\n  width: auto;\n  height: 1em;\n}\n.no-margin[data-v-62d74067] {\n  margin: 0 !important;\n}\n.no-padding[data-v-62d74067] {\n  padding: 0 !important;\n}\n.background-white[data-v-62d74067] {\n  background-color: #fff !important;\n}\n.text-white[data-v-62d74067] {\n  color: #fff;\n}\n.fade-enter-active[data-v-62d74067],\n.fade-leave-active[data-v-62d74067] {\n  transition: opacity 0.2s;\n}\n.fade-enter[data-v-62d74067],\n.fade-leave-to[data-v-62d74067] {\n  opacity: 0;\n}\n.fade-enter-to[data-v-62d74067],\n.fade-leave[data-v-62d74067] {\n  opacity: 1;\n}\n.main-container[data-v-62d74067] {\n  border-radius: 4px;\n  position: relative;\n}\n@media (max-width: 800px) {\n.main-container[data-v-62d74067] {\n    border-radius: 0;\n}\n}\n.main-container.main-container-padded[data-v-62d74067] {\n  padding: 20px;\n}\n.content-block[data-v-62d74067] {\n  border-radius: 4px;\n  padding: 20px;\n  margin: 20px 0 0 0;\n}\n@media (max-width: 800px) {\n.content-block[data-v-62d74067] {\n    border-radius: 0;\n}\n}\n.content-block.white-block[data-v-62d74067] {\n  background-color: #fff;\n}\n.icon-margin[data-v-62d74067] {\n  margin: 0 5px;\n}\n.message-composer-wrapper[data-v-62d74067] {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  position: absolute;\n  left: 50%;\n  position: relative;\n  top: auto;\n  bottom: auto;\n  left: auto;\n  right: auto;\n  height: 50px;\n}\n@media (max-width: 800px) {\n.message-composer-wrapper[data-v-62d74067] {\n    width: 100%;\n    left: 0;\n    right: 0;\n    margin: 0;\n}\n}\n.message-composer-wrapper .message-composer[data-v-62d74067] {\n  transition: all 0.3s ease;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  position: absolute;\n  z-index: 2;\n}\n.message-composer-wrapper .message-composer .message-composer--body[data-v-62d74067] {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  position: absolute;\n}\n.message-composer-wrapper .message-composer .message-composer--body .login-warning[data-v-62d74067] {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #fff;\n  z-index: 2;\n  padding: 0 20px;\n  position: absolute;\n  text-align: center;\n}\n.message-composer-wrapper .message-composer .message-composer--body .login-warning h4[data-v-62d74067] {\n  margin: 0;\n  padding: 0;\n  color: #444;\n  line-height: 50px !important;\n}\n.message-composer-wrapper .message-composer .message-composer--body .textarea-wrapper[data-v-62d74067] {\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n}\n.message-composer-wrapper .message-composer .message-composer--body .textarea-wrapper textarea[data-v-62d74067] {\n  border: none;\n  font-size: 1em;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  padding: 15px;\n  resize: none;\n  outline: 0;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 100px;\n  left: 0;\n  width: 100%;\n  transition: all 0.3s ease;\n}\n@media (max-width: 800px) {\n.message-composer-wrapper .message-composer .message-composer--body .textarea-wrapper textarea[data-v-62d74067] {\n    right: 10px;\n    width: calc(100% - 20px);\n}\n}\n.message-composer-wrapper .message-composer .message-composer--footer[data-v-62d74067] {\n  height: 30px;\n  padding: 10px;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  left: auto;\n  transition: all 0.3s ease;\n}\n.message-composer-wrapper .message-composer .message-composer--footer button.pure-button.pure-button-primary[data-v-62d74067] {\n  padding: 3px 20px;\n}\n.message-composer-wrapper .message-composer .message-composer--footer .info-label[data-v-62d74067] {\n  margin: 0;\n  padding: 0;\n  border-radius: 5px;\n  display: inline-block;\n  background-color: #e9e9e9;\n  color: #444;\n  font-size: 1em;\n  line-height: 30px;\n  margin: 0px 15px;\n  padding: 0 15px;\n}\n.message-composer-wrapper.static[data-v-62d74067] {\n  border-radius: 4px;\n  border: #e9e9e9 1px solid;\n  margin-bottom: 20px;\n  overflow: hidden;\n  position: relative !important;\n  bottom: auto;\n  top: auto;\n  left: auto;\n  right: auto;\n}\n.message-composer-wrapper.static .message-composer[data-v-62d74067] {\n  border-top: none;\n  top: 0;\n}\n.message-composer-wrapper.static .message-composer--footer[data-v-62d74067] {\n  border-top: #e9e9e9 1px solid;\n}"],sourceRoot:""}])},510:function(e,t,r){var n=r(494),o=r(519),i=r(518);o=o.default||o,i=i.default||i,"undefined"!=typeof window&&(window.Swiper=n);var a={swiperSlide:i,swiper:o,swiperPlugins:n.prototype.plugins,install:function(e){e.component(o.name,o),e.component(i.name,i)}};e.exports=a},515:function(e,t,r){var n=r(509);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r(395)("2bbeaf83",n,!0)},518:function(e,t,r){var n=r(8)(r(502),r(525),null,null);e.exports=n.exports},519:function(e,t,r){var n=r(8)(r(503),r(524),null,null);e.exports=n.exports},523:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"message-composer-wrapper",class:{static:e.section}},[r("div",{staticClass:"message-composer",class:{unactive:e.hidden}},[r("div",{staticClass:"message-composer--body"},[e.isRegistered?r("div",{staticClass:"textarea-wrapper"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message.text,expression:"message.text"}],attrs:{name:"name",rows:"3",placeholder:e.$t("composer.message_placeholder")},domProps:{value:e.message.text},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;t.preventDefault(),t.stopPropagation(),e.sendMessage(t)},input:function(t){t.target.composing||(e.message.text=t.target.value)}}})]):r("div",{staticClass:"login-warning"},[r("h4",[e._v("Please login to send messages")])])]),e.isRegistered?r("div",{staticClass:"message-composer--footer"},[r("button",{staticClass:"pure-button pure-button-primary pull-right",on:{click:e.sendMessage}},[e._v(e._s(e.submitText))]),e.infoLabel?r("div",{staticClass:"info-label animated fadeIn"},[e._v(e._s(e.infoLabel))]):e._e(),r("div",{staticClass:"clearfix"})]):e._e()])])},staticRenderFns:[]}},524:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"swiper-container"},[e._t("parallax-bg"),e._v(" "),r("div",{class:e.defaultSwiperClasses.wrapperClass},[e._t("default")],2),e._v(" "),e._t("pagination"),e._v(" "),e._t("button-prev"),e._v(" "),e._t("button-next"),e._v(" "),e._t("scrollbar")],2)},staticRenderFns:[]}},525:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.slideClass},[e._t("default")],2)},staticRenderFns:[]}},526:function(e,t,r){function n(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new n(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new n(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(581),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},532:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14),o=r.n(n),i=r(583),a=r.n(i),s=r(609),l=r.n(s),u=r(510),d=(r.n(u),r(5)),c=r(139),p=r.n(c),h=r(138),f=r.n(h),g=r(2);t.default={name:"media-container",props:["playerType","classSection","videoIsActive"],components:{swiper:u.swiper,swiperSlide:u.swiperSlide,VueYouTubeEmbed:l.a},mounted:function(){this.initializeSoundcloudPlayer(),this.updateSwiperOptions(),window.addEventListener("resize",this.updateSwiperOptions)},destroyed:function(){this.soundcloudPlayer=void 0,window.removeEventListener("resize",this.updateSwiperOptions)},data:function(){return{lightboxVisible:!1,lightboxImage:void 0,soundcloudPlayer:void 0,pHeight:188,pWidth:188/.5625,swiperVisible:!1,swiperOption:{slidesPerView:1,centeredSlides:!1,spaceBetween:20,loop:!1,paginationClickable:!1,preloadImages:!1,lazyLoading:!0}}},watch:{currentSegmentIndex:function(e){e>=0&&this.$refs.mySwiper&&this.$refs.mySwiper.swiper.slideTo(e)},currentTime:function(e,t){"youtube"===this.playerType&&this.player&&this.youtubeSeek(this,e)},videoPlaying:function(e,t){this.$log.info(e?"play":"pause"),e?("youtube"===this.playerType&&this.player&&this.player.playVideo(),"soundcloud"===this.playerType&&this.soundcloudPlayer&&this.soundcloudPlayer.play()):("youtube"===this.playerType&&this.player&&this.player.pauseVideo(),"soundcloud"===this.playerType&&this.soundcloudPlayer&&this.soundcloudPlayer.pause())},videoIsActive:function(e){e||this.$store.commit("PAUSE_VIDEO")}},methods:{updateSwiperOptions:function(){this.swiperVisible=window.innerWidth>568,this.swiperOption.slidesPerView=window.outerWidth<800?1:3,this.swiperOption.centeredSlides=window.outerWidth<800,this.swiperOption.spaceBetween=window.outerWidth<800?0:20},setLightboxMedia:function(e){this.$store.commit("SET_LIGHTBOX_MEDIA",e)},change:function(){},initializeSoundcloudPlayer:function(){var e=this;this.$log.info("initializeSoundcloudPlayer"),!this.soundcloudPlayer&&this.src&&(a.a.initialize({client_id:d.a}),a.a.stream(this.src).then(function(t){e.soundcloudPlayer=t,e.soundcloudPlayer.on("time",function(){if(e.$log.info("time"),!e.currentTime||!e.videoIsActive)return void e.$store.commit("PAUSE_VIDEO");var t=e.soundcloudPlayer.currentTime()/1e3;(e.currentTime<t-2||e.currentTime>t+2)&&(e.$log.info("OUTOFSYNC"),e.soundcloudPlayer.seek(1e3*e.currentTime))}),e.soundcloudPlayer.on("play-resume",function(){e.$log.info("play-resume")}),e.soundcloudPlayer.on("buffering_start",function(){e.$log.info("buffering_start")}),e.soundcloudPlayer.on("buffering_end",function(){e.$log.info("buffering_end")}),e.soundcloudPlayer.on("seeked",function(){e.$log.info("seeked"),e.$store.commit("PLAY_VIDEO")})}))},youtubeReady:function(e){this.player=e,this.player.seekTo(this.currentTime)},youtubePlaying:function(e){this.$store.commit("PLAY_VIDEO")},youtubeEnded:function(){this.$store.commit("PAUSE_VIDEO")},youtubePaused:function(){this.$store.commit("PAUSE_VIDEO")},youtubeSeek:p()(function(e,t){if(e.player){var r=e.player.getCurrentTime();if(r){(e.currentTime<r-2||e.currentTime>r+2)&&(e.$log.info("Video out of sync - seeking"),e.player.seekTo(t))}}},500)},computed:o()({},r.i(g.b)(["course","currentClass","currentTime","videoPlaying","media","currentSegment"]),{src:function(){switch(this.playerType){case"youtube":return this.classSection?this.classSection.videoId:"";case"soundcloud":return this.classSection?"/tracks/"+this.classSection.soundcloudId:""}},currentSegmentIndex:function(){if(0===this.media.length)return-1;for(var e=0;e<this.media.length;e++){var t=this.media[e];if(f()(this.currentSegment,t.start,t.end))return e}}})}},534:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14),o=r.n(n),i=(r(3),r(2)),a=r(61),s=r.n(a),l=r(500),u=r.n(l),d=r(596),c=r.n(d);r(550),r(135),r(554),r(495),r(548),r(547),r(553),r(555);t.default={name:"action-panel",props:["content"],components:{MessageComposer:u.a,MediaContainer:c.a},created:function(){this.availablePlayerTypes=[],this.content.videoId&&this.availablePlayerTypes.push("youtube"),this.content.soundcloudId&&this.availablePlayerTypes.push("soundcloud")},data:function(){return{playerTypeIndex:0,availablePlayerTypes:[]}},computed:o()({},r.i(i.b)(["composerHidden","videoPlaying","currentSection","currentTime","videoIsActive"]),{start:function(){return s()().hour(0).minute(0).second(this.currentTime).format("mm:ss")},end:function(){return s()().hour(0).minute(0).second(this.content.duration).format("mm:ss")},twitterLink:function(){return"https://twitter.com"}}),methods:{toggleComposer:function(){this.$store.commit(this.composerHidden?"SHOW_COMPOSER":"HIDE_COMPOSER")},toggleVideoPlaying:function(){this.$store.commit(this.videoPlaying?"PAUSE_VIDEO":"PLAY_VIDEO")},togglePlayerType:function(){this.playerTypeIndex=this.playerTypeIndex===this.availablePlayerTypes.length-1?0:this.playerTypeIndex+1}}}},543:function(e,t,r){t=e.exports=r(394)(),t.push([e.i,".pure-button[data-v-696c3d32]{transition:all .3s ease;border-radius:4px;background:none;background-color:transparent;border:1px solid #29b474;color:#29b474}.pure-button[data-v-696c3d32]:hover{background:none;background-color:#29b474;color:#fff}.pure-button.full-width[data-v-696c3d32]{display:block;margin-bottom:10px}.pure-button.pure-button-primary[data-v-696c3d32]{background-color:#29b474;color:#fff}.pure-button.pure-button-primary[data-v-696c3d32]:hover{background-color:#25a268}.pure-button.pure-button-white[data-v-696c3d32]{background-color:transparent;border-color:#fff;color:#fff}.pure-button.pure-button-white[data-v-696c3d32]:hover{background-color:rgba(0,0,0,.1)}.pure-button.pure-button-success[data-v-696c3d32]{background-color:#29b474;color:#fff}.pure-button.pure-button-success[data-v-696c3d32]:hover{background-color:#25a268}.pure-button.pure-button-twitter[data-v-696c3d32]{border-radius:25px;background-color:#4099ff;border:none;color:#fff;line-height:50px;padding:0 30px}.pure-button.pure-button-twitter[data-v-696c3d32]:hover{background-color:#2088ff}.pure-button.pure-button-subtle[data-v-696c3d32]{background-color:transparent;border-color:#ccc;color:#666}.pure-button.pure-button-subtle[data-v-696c3d32]:hover{background-color:#e1e1e1;color:#444}.pure-button.pure-button-text[data-v-696c3d32]{border-color:transparent}.pure-button.pure-button-homework[data-v-696c3d32]{background-color:transparent;border-color:#fd3c51;color:#fd3c51}.pure-button.pure-button-homework[data-v-696c3d32]:hover{background-color:#fd3c51;color:#fff}body[data-v-696c3d32],html[data-v-696c3d32]{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.pull-left[data-v-696c3d32]{float:left}.pull-right[data-v-696c3d32]{float:right}.clearfix[data-v-696c3d32]{clear:both;float:none}.fa-icon[data-v-696c3d32]{width:auto;height:1em}.no-margin[data-v-696c3d32]{margin:0!important}.no-padding[data-v-696c3d32]{padding:0!important}.background-white[data-v-696c3d32]{background-color:#fff!important}.text-white[data-v-696c3d32]{color:#fff}.fade-enter-active[data-v-696c3d32],.fade-leave-active[data-v-696c3d32]{transition:opacity .2s}.fade-enter[data-v-696c3d32],.fade-leave-to[data-v-696c3d32]{opacity:0}.fade-enter-to[data-v-696c3d32],.fade-leave[data-v-696c3d32]{opacity:1}.main-container[data-v-696c3d32]{border-radius:4px;position:relative}@media (max-width:800px){.main-container[data-v-696c3d32]{border-radius:0}}.main-container.main-container-padded[data-v-696c3d32]{padding:20px}.content-block[data-v-696c3d32]{border-radius:4px;padding:20px;margin:20px 0 0}@media (max-width:800px){.content-block[data-v-696c3d32]{border-radius:0}}.content-block.white-block[data-v-696c3d32]{background-color:#fff}.icon-margin[data-v-696c3d32]{margin:0 5px}#action-panel[data-v-696c3d32]{transition:all .3s ease;background:#fff;border-top:1px solid #e9e9e9;height:270px;z-index:50;bottom:-220px;position:fixed;left:50%;margin-left:-390px;width:780px}#action-panel.pinned[data-v-696c3d32]{bottom:0}#action-panel.hide[data-v-696c3d32]{bottom:-271px}@media (max-width:800px){#action-panel[data-v-696c3d32]{margin-left:0;left:0;width:100%}}#action-panel ul#experience-controls[data-v-696c3d32]{margin:0;padding:0;list-style:none;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;height:50px;padding:0 10px;position:relative;z-index:1}#action-panel ul#experience-controls li.experience-control[data-v-696c3d32]{margin:0;padding:0;list-style:none;transition:all .3s ease;float:left}@media (max-width:568px){#action-panel ul#experience-controls li.experience-control#twitter-control[data-v-696c3d32]{display:none}}#action-panel ul#experience-controls li.experience-control.pull-right[data-v-696c3d32]{float:right;border:none}#action-panel ul#experience-controls li.experience-control .fa-icon[data-v-696c3d32]{transition:all .3s ease;color:#444;display:block;height:18px;width:18px;margin:16px 10px}#action-panel ul#experience-controls li.experience-control[data-v-696c3d32]:hover{cursor:pointer}#action-panel ul#experience-controls li.experience-control:hover.unclickable[data-v-696c3d32]{cursor:default}#action-panel ul#experience-controls li#progress-bar[data-v-696c3d32]{top:0;bottom:0;left:0;right:0;margin:0;position:absolute;left:136px;right:128px}@media (max-width:568px){#action-panel ul#experience-controls li#progress-bar[data-v-696c3d32]{right:50px}#action-panel ul#experience-controls li#progress-bar #progress-bar--end[data-v-696c3d32]{display:none}}#action-panel ul#experience-controls li#progress-bar #progress-bar--end[data-v-696c3d32],#action-panel ul#experience-controls li#progress-bar #progress-bar--start[data-v-696c3d32]{font-size:.8em;font-weight:700;line-height:50px;padding:0 10px;position:absolute}#action-panel ul#experience-controls li#progress-bar #progress-bar--end#progress-bar--start[data-v-696c3d32],#action-panel ul#experience-controls li#progress-bar #progress-bar--start#progress-bar--start[data-v-696c3d32]{color:#29b474;left:-50px}#action-panel ul#experience-controls li#progress-bar #progress-bar--end#progress-bar--end[data-v-696c3d32],#action-panel ul#experience-controls li#progress-bar #progress-bar--start#progress-bar--end[data-v-696c3d32]{color:#666;right:-50px}#action-panel ul#experience-controls li#progress-bar #progress-bar--track[data-v-696c3d32]{background-color:#29b474;height:2px;margin:24px 10px}@media (max-width:360px){#action-panel ul#experience-controls li#progress-bar #progress-bar--track[data-v-696c3d32]{display:none}}#action-panel ul#experience-controls li#progress-bar #progress-bar--thumb[data-v-696c3d32]{border-radius:50%;background-color:#29b474;height:10px;width:10px;position:absolute;top:20px;left:0}@media (max-width:360px){#action-panel ul#experience-controls li#progress-bar #progress-bar--thumb[data-v-696c3d32]{display:none}}#action-panel ul#experience-controls li#progress-bar[data-v-696c3d32]:hover{cursor:default}","",{version:3,sources:["/root/connectedacademy/src/components/conversation/ActionPanel.vue"],names:[],mappings:"AACA,8BACE,wBAA0B,AAC1B,kBAAmB,AACnB,gBAAiB,AACjB,6BAA8B,AAC9B,yBAA0B,AAC1B,aAAe,CAChB,AACD,oCACE,gBAAiB,AACjB,yBAA0B,AAC1B,UAAY,CACb,AACD,yCACE,cAAe,AACf,kBAAoB,CACrB,AACD,kDACE,yBAA0B,AAC1B,UAAY,CACb,AACD,wDACE,wBAA0B,CAC3B,AACD,gDACE,6BAA8B,AAC9B,kBAAmB,AACnB,UAAY,CACb,AACD,sDACE,+BAAkC,CACnC,AACD,kDACE,yBAA0B,AAC1B,UAAY,CACb,AACD,wDACE,wBAA0B,CAC3B,AACD,kDACE,mBAAoB,AACpB,yBAA0B,AAC1B,YAAa,AACb,WAAY,AACZ,iBAAkB,AAClB,cAAgB,CACjB,AACD,wDACE,wBAA0B,CAC3B,AACD,iDACE,6BAA8B,AAC9B,kBAAmB,AACnB,UAAY,CACb,AACD,uDACE,yBAA0B,AAC1B,UAAY,CACb,AACD,+CACE,wBAA0B,CAC3B,AACD,mDACE,6BAA8B,AAC9B,qBAAsB,AACtB,aAAe,CAChB,AACD,yDACE,yBAA0B,AAC1B,UAAY,CACb,AACD,4CAEE,8CAAoD,AACpD,mCAAoC,AACpC,iCAAmC,CACpC,AACD,4BACE,UAAY,CACb,AACD,6BACE,WAAa,CACd,AACD,2BACE,WAAY,AACZ,UAAY,CACb,AACD,0BACE,WAAY,AACZ,UAAY,CACb,AACD,4BACE,kBAAqB,CACtB,AACD,6BACE,mBAAsB,CACvB,AACD,mCACE,+BAAkC,CACnC,AACD,6BACE,UAAY,CACb,AACD,wEAEE,sBAAyB,CAC1B,AACD,6DAEE,SAAW,CACZ,AACD,6DAEE,SAAW,CACZ,AACD,iCACE,kBAAmB,AACnB,iBAAmB,CACpB,AACD,yBACA,iCACI,eAAiB,CACpB,CACA,AACD,uDACE,YAAc,CACf,AACD,gCACE,kBAAmB,AACnB,aAAc,AACd,eAAmB,CACpB,AACD,yBACA,gCACI,eAAiB,CACpB,CACA,AACD,4CACE,qBAAuB,CACxB,AACD,8BACE,YAAc,CACf,AACD,+BACE,wBAA0B,AAC1B,gBAAiB,AACjB,6BAA8B,AAC9B,aAAc,AACd,WAAY,AACZ,cAAe,AACf,eAAgB,AAChB,SAAU,AACV,mBAAoB,AACpB,WAAa,CACd,AACD,sCACE,QAAU,CACX,AACD,oCACE,aAAe,CAChB,AACD,yBACA,+BACI,cAAe,AACf,OAAQ,AACR,UAAY,CACf,CACA,AACD,sDACE,SAAU,AACV,UAAW,AACX,gBAAiB,AACjB,sBAAuB,AACvB,2BAA4B,AAC5B,8BAA+B,AAC/B,YAAa,AACb,eAAuB,AACvB,kBAAmB,AACnB,SAAW,CACZ,AACD,4EACE,SAAU,AACV,UAAW,AACX,gBAAiB,AACjB,wBAA0B,AAC1B,UAAY,CACb,AACD,yBACA,4FACI,YAAc,CACjB,CACA,AACD,uFACE,YAAa,AACb,WAAa,CACd,AACD,qFACE,wBAA0B,AAC1B,WAAY,AACZ,cAAe,AACf,YAAa,AACb,WAAY,AACZ,gBAAkB,CACnB,AACD,kFACE,cAAgB,CACjB,AACD,8FACE,cAAgB,CACjB,AACD,sEACE,MAAO,AACP,SAAU,AACV,OAAQ,AACR,QAAS,AACT,SAAU,AACV,kBAAmB,AACnB,WAAY,AACZ,WAAa,CACd,AACD,yBACA,sEACI,UAAY,CACf,AACD,yFACI,YAAc,CACjB,CACA,AACD,oLAEE,eAAiB,AACjB,gBAAkB,AAClB,iBAAkB,AAClB,eAAgB,AAChB,iBAAmB,CACpB,AACD,4NAEE,cAAe,AACf,UAAY,CACb,AACD,wNAEE,WAAY,AACZ,WAAa,CACd,AACD,2FACE,yBAA0B,AAC1B,WAAY,AACZ,gBAAkB,CACnB,AACD,yBACA,2FACI,YAAc,CACjB,CACA,AACD,2FACE,kBAAmB,AACnB,yBAA0B,AAC1B,YAAa,AACb,WAAY,AACZ,kBAAmB,AACnB,SAAU,AACV,MAAU,CACX,AACD,yBACA,2FACI,YAAc,CACjB,CACA,AACD,4EACE,cAAgB,CACjB",file:"ActionPanel.vue",sourcesContent:["\n.pure-button[data-v-696c3d32] {\n  transition: all 0.3s ease;\n  border-radius: 4px;\n  background: none;\n  background-color: transparent;\n  border: #29b474 1px solid;\n  color: #29b474;\n}\n.pure-button[data-v-696c3d32]:hover {\n  background: none;\n  background-color: #29b474;\n  color: #fff;\n}\n.pure-button.full-width[data-v-696c3d32] {\n  display: block;\n  margin-bottom: 10px;\n}\n.pure-button.pure-button-primary[data-v-696c3d32] {\n  background-color: #29b474;\n  color: #fff;\n}\n.pure-button.pure-button-primary[data-v-696c3d32]:hover {\n  background-color: #25a268;\n}\n.pure-button.pure-button-white[data-v-696c3d32] {\n  background-color: transparent;\n  border-color: #fff;\n  color: #fff;\n}\n.pure-button.pure-button-white[data-v-696c3d32]:hover {\n  background-color: rgba(0,0,0,0.1);\n}\n.pure-button.pure-button-success[data-v-696c3d32] {\n  background-color: #29b474;\n  color: #fff;\n}\n.pure-button.pure-button-success[data-v-696c3d32]:hover {\n  background-color: #25a268;\n}\n.pure-button.pure-button-twitter[data-v-696c3d32] {\n  border-radius: 25px;\n  background-color: #4099ff;\n  border: none;\n  color: #fff;\n  line-height: 50px;\n  padding: 0 30px;\n}\n.pure-button.pure-button-twitter[data-v-696c3d32]:hover {\n  background-color: #2088ff;\n}\n.pure-button.pure-button-subtle[data-v-696c3d32] {\n  background-color: transparent;\n  border-color: #ccc;\n  color: #666;\n}\n.pure-button.pure-button-subtle[data-v-696c3d32]:hover {\n  background-color: #e1e1e1;\n  color: #444;\n}\n.pure-button.pure-button-text[data-v-696c3d32] {\n  border-color: transparent;\n}\n.pure-button.pure-button-homework[data-v-696c3d32] {\n  background-color: transparent;\n  border-color: #fd3c51;\n  color: #fd3c51;\n}\n.pure-button.pure-button-homework[data-v-696c3d32]:hover {\n  background-color: #fd3c51;\n  color: #fff;\n}\nhtml[data-v-696c3d32],\nbody[data-v-696c3d32] {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.pull-left[data-v-696c3d32] {\n  float: left;\n}\n.pull-right[data-v-696c3d32] {\n  float: right;\n}\n.clearfix[data-v-696c3d32] {\n  clear: both;\n  float: none;\n}\n.fa-icon[data-v-696c3d32] {\n  width: auto;\n  height: 1em;\n}\n.no-margin[data-v-696c3d32] {\n  margin: 0 !important;\n}\n.no-padding[data-v-696c3d32] {\n  padding: 0 !important;\n}\n.background-white[data-v-696c3d32] {\n  background-color: #fff !important;\n}\n.text-white[data-v-696c3d32] {\n  color: #fff;\n}\n.fade-enter-active[data-v-696c3d32],\n.fade-leave-active[data-v-696c3d32] {\n  transition: opacity 0.2s;\n}\n.fade-enter[data-v-696c3d32],\n.fade-leave-to[data-v-696c3d32] {\n  opacity: 0;\n}\n.fade-enter-to[data-v-696c3d32],\n.fade-leave[data-v-696c3d32] {\n  opacity: 1;\n}\n.main-container[data-v-696c3d32] {\n  border-radius: 4px;\n  position: relative;\n}\n@media (max-width: 800px) {\n.main-container[data-v-696c3d32] {\n    border-radius: 0;\n}\n}\n.main-container.main-container-padded[data-v-696c3d32] {\n  padding: 20px;\n}\n.content-block[data-v-696c3d32] {\n  border-radius: 4px;\n  padding: 20px;\n  margin: 20px 0 0 0;\n}\n@media (max-width: 800px) {\n.content-block[data-v-696c3d32] {\n    border-radius: 0;\n}\n}\n.content-block.white-block[data-v-696c3d32] {\n  background-color: #fff;\n}\n.icon-margin[data-v-696c3d32] {\n  margin: 0 5px;\n}\n#action-panel[data-v-696c3d32] {\n  transition: all 0.3s ease;\n  background: #fff;\n  border-top: #e9e9e9 1px solid;\n  height: 270px;\n  z-index: 50;\n  bottom: -220px;\n  position: fixed;\n  left: 50%;\n  margin-left: -390px;\n  width: 780px;\n}\n#action-panel.pinned[data-v-696c3d32] {\n  bottom: 0;\n}\n#action-panel.hide[data-v-696c3d32] {\n  bottom: -271px;\n}\n@media (max-width: 800px) {\n#action-panel[data-v-696c3d32] {\n    margin-left: 0;\n    left: 0;\n    width: 100%;\n}\n}\n#action-panel ul#experience-controls[data-v-696c3d32] {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  height: 50px;\n  padding: 0 10px 0 10px;\n  position: relative;\n  z-index: 1;\n}\n#action-panel ul#experience-controls li.experience-control[data-v-696c3d32] {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  transition: all 0.3s ease;\n  float: left;\n}\n@media (max-width: 568px) {\n#action-panel ul#experience-controls li.experience-control#twitter-control[data-v-696c3d32] {\n    display: none;\n}\n}\n#action-panel ul#experience-controls li.experience-control.pull-right[data-v-696c3d32] {\n  float: right;\n  border: none;\n}\n#action-panel ul#experience-controls li.experience-control .fa-icon[data-v-696c3d32] {\n  transition: all 0.3s ease;\n  color: #444;\n  display: block;\n  height: 18px;\n  width: 18px;\n  margin: 16px 10px;\n}\n#action-panel ul#experience-controls li.experience-control[data-v-696c3d32]:hover {\n  cursor: pointer;\n}\n#action-panel ul#experience-controls li.experience-control:hover.unclickable[data-v-696c3d32] {\n  cursor: default;\n}\n#action-panel ul#experience-controls li#progress-bar[data-v-696c3d32] {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: 0;\n  position: absolute;\n  left: 136px;\n  right: 128px;\n}\n@media (max-width: 568px) {\n#action-panel ul#experience-controls li#progress-bar[data-v-696c3d32] {\n    right: 50px;\n}\n#action-panel ul#experience-controls li#progress-bar #progress-bar--end[data-v-696c3d32] {\n    display: none;\n}\n}\n#action-panel ul#experience-controls li#progress-bar #progress-bar--start[data-v-696c3d32],\n#action-panel ul#experience-controls li#progress-bar #progress-bar--end[data-v-696c3d32] {\n  font-size: 0.8em;\n  font-weight: bold;\n  line-height: 50px;\n  padding: 0 10px;\n  position: absolute;\n}\n#action-panel ul#experience-controls li#progress-bar #progress-bar--start#progress-bar--start[data-v-696c3d32],\n#action-panel ul#experience-controls li#progress-bar #progress-bar--end#progress-bar--start[data-v-696c3d32] {\n  color: #29b474;\n  left: -50px;\n}\n#action-panel ul#experience-controls li#progress-bar #progress-bar--start#progress-bar--end[data-v-696c3d32],\n#action-panel ul#experience-controls li#progress-bar #progress-bar--end#progress-bar--end[data-v-696c3d32] {\n  color: #666;\n  right: -50px;\n}\n#action-panel ul#experience-controls li#progress-bar #progress-bar--track[data-v-696c3d32] {\n  background-color: #29b474;\n  height: 2px;\n  margin: 24px 10px;\n}\n@media (max-width: 360px) {\n#action-panel ul#experience-controls li#progress-bar #progress-bar--track[data-v-696c3d32] {\n    display: none;\n}\n}\n#action-panel ul#experience-controls li#progress-bar #progress-bar--thumb[data-v-696c3d32] {\n  border-radius: 50%;\n  background-color: #29b474;\n  height: 10px;\n  width: 10px;\n  position: absolute;\n  top: 20px;\n  left: 0px;\n}\n@media (max-width: 360px) {\n#action-panel ul#experience-controls li#progress-bar #progress-bar--thumb[data-v-696c3d32] {\n    display: none;\n}\n}\n#action-panel ul#experience-controls li#progress-bar[data-v-696c3d32]:hover {\n  cursor: default;\n}"],sourceRoot:""}])},544:function(e,t,r){t=e.exports=r(394)(),t.push([e.i,'.pure-button[data-v-7ad02d0d]{transition:all .3s ease;border-radius:4px;background:none;background-color:transparent;border:1px solid #29b474;color:#29b474}.pure-button[data-v-7ad02d0d]:hover{background:none;background-color:#29b474;color:#fff}.pure-button.full-width[data-v-7ad02d0d]{display:block;margin-bottom:10px}.pure-button.pure-button-primary[data-v-7ad02d0d]{background-color:#29b474;color:#fff}.pure-button.pure-button-primary[data-v-7ad02d0d]:hover{background-color:#25a268}.pure-button.pure-button-white[data-v-7ad02d0d]{background-color:transparent;border-color:#fff;color:#fff}.pure-button.pure-button-white[data-v-7ad02d0d]:hover{background-color:rgba(0,0,0,.1)}.pure-button.pure-button-success[data-v-7ad02d0d]{background-color:#29b474;color:#fff}.pure-button.pure-button-success[data-v-7ad02d0d]:hover{background-color:#25a268}.pure-button.pure-button-twitter[data-v-7ad02d0d]{border-radius:25px;background-color:#4099ff;border:none;color:#fff;line-height:50px;padding:0 30px}.pure-button.pure-button-twitter[data-v-7ad02d0d]:hover{background-color:#2088ff}.pure-button.pure-button-subtle[data-v-7ad02d0d]{background-color:transparent;border-color:#ccc;color:#666}.pure-button.pure-button-subtle[data-v-7ad02d0d]:hover{background-color:#e1e1e1;color:#444}.pure-button.pure-button-text[data-v-7ad02d0d]{border-color:transparent}.pure-button.pure-button-homework[data-v-7ad02d0d]{background-color:transparent;border-color:#fd3c51;color:#fd3c51}.pure-button.pure-button-homework[data-v-7ad02d0d]:hover{background-color:#fd3c51;color:#fff}body[data-v-7ad02d0d],html[data-v-7ad02d0d]{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.pull-left[data-v-7ad02d0d]{float:left}.pull-right[data-v-7ad02d0d]{float:right}.clearfix[data-v-7ad02d0d]{clear:both;float:none}.fa-icon[data-v-7ad02d0d]{width:auto;height:1em}.no-margin[data-v-7ad02d0d]{margin:0!important}.no-padding[data-v-7ad02d0d]{padding:0!important}.background-white[data-v-7ad02d0d]{background-color:#fff!important}.text-white[data-v-7ad02d0d]{color:#fff}.fade-enter-active[data-v-7ad02d0d],.fade-leave-active[data-v-7ad02d0d]{transition:opacity .2s}.fade-enter[data-v-7ad02d0d],.fade-leave-to[data-v-7ad02d0d]{opacity:0}.fade-enter-to[data-v-7ad02d0d],.fade-leave[data-v-7ad02d0d]{opacity:1}.main-container[data-v-7ad02d0d]{border-radius:4px;position:relative}@media (max-width:800px){.main-container[data-v-7ad02d0d]{border-radius:0}}.main-container.main-container-padded[data-v-7ad02d0d]{padding:20px}.content-block[data-v-7ad02d0d]{border-radius:4px;padding:20px;margin:20px 0 0}@media (max-width:800px){.content-block[data-v-7ad02d0d]{border-radius:0}}.content-block.white-block[data-v-7ad02d0d]{background-color:#fff}.icon-margin[data-v-7ad02d0d]{margin:0 5px}#media-wrapper[data-v-7ad02d0d]{padding:0 8px;position:relative;height:220px;overflow-y:scroll}#media-wrapper.youtube-mode[data-v-7ad02d0d]{padding-left:350.22222222222223px}#media-wrapper.soundcloud-mode[data-v-7ad02d0d]{padding-left:68px}#media-wrapper #images-wrapper[data-v-7ad02d0d]{background:#fff;height:204px;overflow:hidden;padding:0;position:relative}#media-wrapper #images-wrapper .image-thumbnails[data-v-7ad02d0d]{overflow:scroll;height:204px;padding-left:280px}#media-wrapper #images-wrapper .image-thumbnails .image-tile[data-v-7ad02d0d]{background-size:cover;background-repeat:no-repeat;background-position:50%;background-color:#f9f9f9;float:left;margin:4px;height:100px;width:100px}#media-wrapper #images-wrapper .image-thumbnails .image-tile[data-v-7ad02d0d]:hover{cursor:pointer}#media-wrapper #images-wrapper #image-current[data-v-7ad02d0d]{border:1px solid #e9e9e9;height:204px;margin:0;position:absolute;left:15px;top:0;width:260px}#media-wrapper #images-wrapper #image-current .image-tile[data-v-7ad02d0d]{background-size:cover;background-repeat:no-repeat;background-position:50%;top:0;bottom:0;left:0;right:0;background-size:contain;position:absolute}#media-wrapper #images-wrapper #image-current .image-tile[data-v-7ad02d0d]:hover{cursor:pointer}#media-wrapper #images-wrapper #image-swiper[data-v-7ad02d0d]{display:block}@media (max-width:568px){#media-wrapper #images-wrapper #image-swiper[data-v-7ad02d0d]{display:none}}#media-wrapper #images-wrapper #mobile-image-view[data-v-7ad02d0d]{background-size:cover;background-repeat:no-repeat;background-position:50%;background-size:contain;top:0;bottom:0;left:0;right:0;position:absolute;display:none}@media (max-width:568px){#media-wrapper #images-wrapper #mobile-image-view[data-v-7ad02d0d]{display:block}}#media-wrapper #video-wrapper[data-v-7ad02d0d]{top:0;bottom:0;left:0;right:auto;padding:16px;position:absolute}#media-wrapper #video-wrapper #soundcloud-container[data-v-7ad02d0d]{height:188px;width:40px}#media-wrapper #video-wrapper #soundcloud-container img[data-v-7ad02d0d]{position:absolute;top:50%;left:50%;opacity:.5;-webkit-transform:translate(-50%,-60%) rotate(270deg);transform:translate(-50%,-60%) rotate(270deg)}#media-wrapper #video-wrapper #video-container[data-v-7ad02d0d]{top:16px;left:16px;opacity:1;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;overflow:hidden}#media-wrapper #video-wrapper #video-container embed[data-v-7ad02d0d],#media-wrapper #video-wrapper #video-container iframe[data-v-7ad02d0d],#media-wrapper #video-wrapper #video-container object[data-v-7ad02d0d],#media-wrapper #video-wrapper #video-container video[data-v-7ad02d0d]{position:absolute!important;top:0!important;bottom:0!important;left:0!important;right:0!important}.swiper-slide[data-v-7ad02d0d]{background-size:cover;background-repeat:no-repeat;background-position:50%;background-size:contain;min-height:205px}.swiper-slide img[data-v-7ad02d0d]{width:auto;height:auto;max-width:100%;max-height:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);position:absolute;left:50%;top:50%}.swiper-slide[data-v-7ad02d0d]:hover{cursor:pointer}.swiper-slide-active[data-v-7ad02d0d]{opacity:1;position:relative}.swiper-slide-active[data-v-7ad02d0d]:before{border-radius:50%;content:"";background-color:$primary-color;bottom:0;left:0;position:absolute;height:10px;width:10px}',"",{version:3,sources:["/root/connectedacademy/src/components/MediaContainer.vue"],names:[],mappings:"AACA,8BACE,wBAA0B,AAC1B,kBAAmB,AACnB,gBAAiB,AACjB,6BAA8B,AAC9B,yBAA0B,AAC1B,aAAe,CAChB,AACD,oCACE,gBAAiB,AACjB,yBAA0B,AAC1B,UAAY,CACb,AACD,yCACE,cAAe,AACf,kBAAoB,CACrB,AACD,kDACE,yBAA0B,AAC1B,UAAY,CACb,AACD,wDACE,wBAA0B,CAC3B,AACD,gDACE,6BAA8B,AAC9B,kBAAmB,AACnB,UAAY,CACb,AACD,sDACE,+BAAkC,CACnC,AACD,kDACE,yBAA0B,AAC1B,UAAY,CACb,AACD,wDACE,wBAA0B,CAC3B,AACD,kDACE,mBAAoB,AACpB,yBAA0B,AAC1B,YAAa,AACb,WAAY,AACZ,iBAAkB,AAClB,cAAgB,CACjB,AACD,wDACE,wBAA0B,CAC3B,AACD,iDACE,6BAA8B,AAC9B,kBAAmB,AACnB,UAAY,CACb,AACD,uDACE,yBAA0B,AAC1B,UAAY,CACb,AACD,+CACE,wBAA0B,CAC3B,AACD,mDACE,6BAA8B,AAC9B,qBAAsB,AACtB,aAAe,CAChB,AACD,yDACE,yBAA0B,AAC1B,UAAY,CACb,AACD,4CAEE,8CAAoD,AACpD,mCAAoC,AACpC,iCAAmC,CACpC,AACD,4BACE,UAAY,CACb,AACD,6BACE,WAAa,CACd,AACD,2BACE,WAAY,AACZ,UAAY,CACb,AACD,0BACE,WAAY,AACZ,UAAY,CACb,AACD,4BACE,kBAAqB,CACtB,AACD,6BACE,mBAAsB,CACvB,AACD,mCACE,+BAAkC,CACnC,AACD,6BACE,UAAY,CACb,AACD,wEAEE,sBAAyB,CAC1B,AACD,6DAEE,SAAW,CACZ,AACD,6DAEE,SAAW,CACZ,AACD,iCACE,kBAAmB,AACnB,iBAAmB,CACpB,AACD,yBACA,iCACI,eAAiB,CACpB,CACA,AACD,uDACE,YAAc,CACf,AACD,gCACE,kBAAmB,AACnB,aAAc,AACd,eAAmB,CACpB,AACD,yBACA,gCACI,eAAiB,CACpB,CACA,AACD,4CACE,qBAAuB,CACxB,AACD,8BACE,YAAc,CACf,AACD,gCACE,cAAe,AACf,kBAAmB,AACnB,aAAc,AACd,iBAAmB,CACpB,AACD,6CACE,iCAAmC,CACpC,AACD,gDACE,iBAAmB,CACpB,AACD,gDACE,gBAAiB,AACjB,aAAc,AACd,gBAAiB,AACjB,UAAW,AACX,iBAAmB,CACpB,AACD,kEACE,gBAAiB,AACjB,aAAc,AACd,kBAAoB,CACrB,AACD,8EACE,sBAAuB,AACvB,4BAA6B,AAC7B,wBAA4B,AAC5B,yBAA0B,AAC1B,WAAY,AACZ,WAAY,AACZ,aAAwB,AACxB,WAAuB,CACxB,AACD,oFACE,cAAgB,CACjB,AACD,+DACE,yBAA0B,AAC1B,aAAc,AACd,SAAU,AACV,kBAAmB,AACnB,UAAW,AACX,MAAO,AACP,WAAa,CACd,AACD,2EACE,sBAAuB,AACvB,4BAA6B,AAC7B,wBAA4B,AAC5B,MAAO,AACP,SAAU,AACV,OAAQ,AACR,QAAS,AACT,wBAAyB,AACzB,iBAAmB,CACpB,AACD,iFACE,cAAgB,CACjB,AACD,8DACE,aAAe,CAChB,AACD,yBACA,8DACI,YAAc,CACjB,CACA,AACD,mEACE,sBAAuB,AACvB,4BAA6B,AAC7B,wBAA4B,AAC5B,wBAAyB,AACzB,MAAO,AACP,SAAU,AACV,OAAQ,AACR,QAAS,AACT,kBAAmB,AACnB,YAAc,CACf,AACD,yBACA,mEACI,aAAe,CAClB,CACA,AACD,+CACE,MAAO,AACP,SAAU,AACV,OAAQ,AACR,WAAY,AACZ,aAAc,AACd,iBAAmB,CACpB,AACD,qEACE,aAAc,AACd,UAAY,CACb,AACD,yEACE,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,WAAa,AACb,sDAAwD,AACxD,6CAAgD,CACjD,AACD,gEACE,SAAU,AACV,UAAW,AACX,UAAW,AACX,sBAAuB,AACvB,2BAA4B,AAC5B,8BAA+B,AAC/B,eAAiB,CAClB,AACD,0RAIE,4BAA8B,AAC9B,gBAAkB,AAClB,mBAAqB,AACrB,iBAAmB,AACnB,iBAAoB,CACrB,AACD,+BACE,sBAAuB,AACvB,4BAA6B,AAC7B,wBAA4B,AAC5B,wBAAyB,AACzB,gBAAkB,CACnB,AACD,mCACE,WAAY,AACZ,YAAa,AACb,eAAgB,AAChB,gBAAiB,AAEjB,uCAAyC,AACzC,+BAAiC,AACjC,kBAAmB,AACnB,SAAU,AACV,OAAS,CACV,AACD,qCACE,cAAgB,CACjB,AACD,sCACE,UAAW,AACX,iBAAmB,CACpB,AACD,6CACE,kBAAmB,AACnB,WAAY,AACZ,gCAAiC,AACjC,SAAU,AACV,OAAQ,AACR,kBAAmB,AACnB,YAAa,AACb,UAAY,CACb",file:"MediaContainer.vue",sourcesContent:["\n.pure-button[data-v-7ad02d0d] {\n  transition: all 0.3s ease;\n  border-radius: 4px;\n  background: none;\n  background-color: transparent;\n  border: #29b474 1px solid;\n  color: #29b474;\n}\n.pure-button[data-v-7ad02d0d]:hover {\n  background: none;\n  background-color: #29b474;\n  color: #fff;\n}\n.pure-button.full-width[data-v-7ad02d0d] {\n  display: block;\n  margin-bottom: 10px;\n}\n.pure-button.pure-button-primary[data-v-7ad02d0d] {\n  background-color: #29b474;\n  color: #fff;\n}\n.pure-button.pure-button-primary[data-v-7ad02d0d]:hover {\n  background-color: #25a268;\n}\n.pure-button.pure-button-white[data-v-7ad02d0d] {\n  background-color: transparent;\n  border-color: #fff;\n  color: #fff;\n}\n.pure-button.pure-button-white[data-v-7ad02d0d]:hover {\n  background-color: rgba(0,0,0,0.1);\n}\n.pure-button.pure-button-success[data-v-7ad02d0d] {\n  background-color: #29b474;\n  color: #fff;\n}\n.pure-button.pure-button-success[data-v-7ad02d0d]:hover {\n  background-color: #25a268;\n}\n.pure-button.pure-button-twitter[data-v-7ad02d0d] {\n  border-radius: 25px;\n  background-color: #4099ff;\n  border: none;\n  color: #fff;\n  line-height: 50px;\n  padding: 0 30px;\n}\n.pure-button.pure-button-twitter[data-v-7ad02d0d]:hover {\n  background-color: #2088ff;\n}\n.pure-button.pure-button-subtle[data-v-7ad02d0d] {\n  background-color: transparent;\n  border-color: #ccc;\n  color: #666;\n}\n.pure-button.pure-button-subtle[data-v-7ad02d0d]:hover {\n  background-color: #e1e1e1;\n  color: #444;\n}\n.pure-button.pure-button-text[data-v-7ad02d0d] {\n  border-color: transparent;\n}\n.pure-button.pure-button-homework[data-v-7ad02d0d] {\n  background-color: transparent;\n  border-color: #fd3c51;\n  color: #fd3c51;\n}\n.pure-button.pure-button-homework[data-v-7ad02d0d]:hover {\n  background-color: #fd3c51;\n  color: #fff;\n}\nhtml[data-v-7ad02d0d],\nbody[data-v-7ad02d0d] {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.pull-left[data-v-7ad02d0d] {\n  float: left;\n}\n.pull-right[data-v-7ad02d0d] {\n  float: right;\n}\n.clearfix[data-v-7ad02d0d] {\n  clear: both;\n  float: none;\n}\n.fa-icon[data-v-7ad02d0d] {\n  width: auto;\n  height: 1em;\n}\n.no-margin[data-v-7ad02d0d] {\n  margin: 0 !important;\n}\n.no-padding[data-v-7ad02d0d] {\n  padding: 0 !important;\n}\n.background-white[data-v-7ad02d0d] {\n  background-color: #fff !important;\n}\n.text-white[data-v-7ad02d0d] {\n  color: #fff;\n}\n.fade-enter-active[data-v-7ad02d0d],\n.fade-leave-active[data-v-7ad02d0d] {\n  transition: opacity 0.2s;\n}\n.fade-enter[data-v-7ad02d0d],\n.fade-leave-to[data-v-7ad02d0d] {\n  opacity: 0;\n}\n.fade-enter-to[data-v-7ad02d0d],\n.fade-leave[data-v-7ad02d0d] {\n  opacity: 1;\n}\n.main-container[data-v-7ad02d0d] {\n  border-radius: 4px;\n  position: relative;\n}\n@media (max-width: 800px) {\n.main-container[data-v-7ad02d0d] {\n    border-radius: 0;\n}\n}\n.main-container.main-container-padded[data-v-7ad02d0d] {\n  padding: 20px;\n}\n.content-block[data-v-7ad02d0d] {\n  border-radius: 4px;\n  padding: 20px;\n  margin: 20px 0 0 0;\n}\n@media (max-width: 800px) {\n.content-block[data-v-7ad02d0d] {\n    border-radius: 0;\n}\n}\n.content-block.white-block[data-v-7ad02d0d] {\n  background-color: #fff;\n}\n.icon-margin[data-v-7ad02d0d] {\n  margin: 0 5px;\n}\n#media-wrapper[data-v-7ad02d0d] {\n  padding: 0 8px;\n  position: relative;\n  height: 220px;\n  overflow-y: scroll;\n}\n#media-wrapper.youtube-mode[data-v-7ad02d0d] {\n  padding-left: 350.22222222222223px;\n}\n#media-wrapper.soundcloud-mode[data-v-7ad02d0d] {\n  padding-left: 68px;\n}\n#media-wrapper #images-wrapper[data-v-7ad02d0d] {\n  background: #fff;\n  height: 204px;\n  overflow: hidden;\n  padding: 0;\n  position: relative;\n}\n#media-wrapper #images-wrapper .image-thumbnails[data-v-7ad02d0d] {\n  overflow: scroll;\n  height: 204px;\n  padding-left: 280px;\n}\n#media-wrapper #images-wrapper .image-thumbnails .image-tile[data-v-7ad02d0d] {\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: #f9f9f9;\n  float: left;\n  margin: 4px;\n  height: calc(200px / 2);\n  width: calc(200px / 2);\n}\n#media-wrapper #images-wrapper .image-thumbnails .image-tile[data-v-7ad02d0d]:hover {\n  cursor: pointer;\n}\n#media-wrapper #images-wrapper #image-current[data-v-7ad02d0d] {\n  border: #e9e9e9 1px solid;\n  height: 204px;\n  margin: 0;\n  position: absolute;\n  left: 15px;\n  top: 0;\n  width: 260px;\n}\n#media-wrapper #images-wrapper #image-current .image-tile[data-v-7ad02d0d] {\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-size: contain;\n  position: absolute;\n}\n#media-wrapper #images-wrapper #image-current .image-tile[data-v-7ad02d0d]:hover {\n  cursor: pointer;\n}\n#media-wrapper #images-wrapper #image-swiper[data-v-7ad02d0d] {\n  display: block;\n}\n@media (max-width: 568px) {\n#media-wrapper #images-wrapper #image-swiper[data-v-7ad02d0d] {\n    display: none;\n}\n}\n#media-wrapper #images-wrapper #mobile-image-view[data-v-7ad02d0d] {\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  position: absolute;\n  display: none;\n}\n@media (max-width: 568px) {\n#media-wrapper #images-wrapper #mobile-image-view[data-v-7ad02d0d] {\n    display: block;\n}\n}\n#media-wrapper #video-wrapper[data-v-7ad02d0d] {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: auto;\n  padding: 16px;\n  position: absolute;\n}\n#media-wrapper #video-wrapper #soundcloud-container[data-v-7ad02d0d] {\n  height: 188px;\n  width: 40px;\n}\n#media-wrapper #video-wrapper #soundcloud-container img[data-v-7ad02d0d] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  opacity: 0.5;\n  -webkit-transform: translate(-50%, -60%) rotate(270deg);\n  transform: translate(-50%, -60%) rotate(270deg);\n}\n#media-wrapper #video-wrapper #video-container[data-v-7ad02d0d] {\n  top: 16px;\n  left: 16px;\n  opacity: 1;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  overflow: hidden;\n}\n#media-wrapper #video-wrapper #video-container iframe[data-v-7ad02d0d],\n#media-wrapper #video-wrapper #video-container object[data-v-7ad02d0d],\n#media-wrapper #video-wrapper #video-container embed[data-v-7ad02d0d],\n#media-wrapper #video-wrapper #video-container video[data-v-7ad02d0d] {\n  position: absolute !important;\n  top: 0 !important;\n  bottom: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n}\n.swiper-slide[data-v-7ad02d0d] {\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n  min-height: 205px;\n}\n.swiper-slide img[data-v-7ad02d0d] {\n  width: auto;\n  height: auto;\n  max-width: 100%;\n  max-height: 100%;\n  -webkit-transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  position: absolute;\n  left: 50%;\n  top: 50%;\n}\n.swiper-slide[data-v-7ad02d0d]:hover {\n  cursor: pointer;\n}\n.swiper-slide-active[data-v-7ad02d0d] {\n  opacity: 1;\n  position: relative;\n}\n.swiper-slide-active[data-v-7ad02d0d]:before {\n  border-radius: 50%;\n  content: '';\n  background-color: $primary-color;\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  height: 10px;\n  width: 10px;\n}"],sourceRoot:""}])},547:function(e,t,r){"use strict";var n=r(21);r.n(n).a.register({"chevron-down":{width:1792,height:1792,paths:[{d:"M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"}]}})},548:function(e,t,r){"use strict";var n=r(21);r.n(n).a.register({"chevron-up":{width:1792,height:1792,paths:[{d:"M1683 1331l-166 165q-19 19-45 19t-45-19l-531-531-531 531q-19 19-45 19t-45-19l-166-165q-19-19-19-45.5t19-45.5l742-741q19-19 45-19t45 19l742 741q19 19 19 45.5t-19 45.5z"}]}})},550:function(e,t,r){"use strict";var n=r(21);r.n(n).a.register({pause:{width:1536,height:1792,paths:[{d:"M1536 192v1408q0 26-19 45t-45 19h-512q-26 0-45-19t-19-45v-1408q0-26 19-45t45-19h512q26 0 45 19t19 45zM640 192v1408q0 26-19 45t-45 19h-512q-26 0-45-19t-19-45v-1408q0-26 19-45t45-19h512q26 0 45 19t19 45z"}]}})},553:function(e,t,r){"use strict";var n=r(21);r.n(n).a.register({soundcloud:{width:2304,height:1792,paths:[{d:"M784 1372l16-241-16-523q-1-10-7.5-17t-16.5-7q-9 0-16 7t-7 17l-14 523 14 241q1 10 7.5 16.5t15.5 6.5q22 0 24-23zM1080 1343l11-211-12-586q0-16-13-24-8-5-16-5t-16 5q-13 8-13 24l-1 6-10 579q0 1 11 236v1q0 10 6 17 9 11 23 11 11 0 20-9 9-7 9-20zM35 1003l20 128-20 126q-2 9-9 9t-9-9l-17-126 17-128q2-9 9-9t9 9zM121 924l26 207-26 203q-2 9-10 9-9 0-9-10l-23-202 23-207q0-9 9-9 8 0 10 9zM401 1377zM213 886l25 245-25 237q0 11-11 11-10 0-12-11l-21-237 21-245q2-12 12-12 11 0 11 12zM307 879l23 252-23 244q-2 13-14 13-13 0-13-13l-21-244 21-252q0-13 13-13 12 0 14 13zM401 897l21 234-21 246q-2 16-16 16-6 0-10.5-4.5t-4.5-11.5l-20-246 20-234q0-6 4.5-10.5t10.5-4.5q14 0 16 15zM784 1372zM495 751l21 380-21 246q0 7-5 12.5t-12 5.5q-16 0-18-18l-18-246 18-380q2-18 18-18 7 0 12 5.5t5 12.5zM589 665l19 468-19 244q0 8-5.5 13.5t-13.5 5.5q-18 0-20-19l-16-244 16-468q2-19 20-19 8 0 13.5 5.5t5.5 13.5zM687 625l18 506-18 242q-2 21-22 21-19 0-21-21l-16-242 16-506q0-9 6.5-15.5t14.5-6.5q9 0 15 6.5t7 15.5zM1079 1367v0 0 0zM881 621l15 510-15 239q0 10-7.5 17.5t-17.5 7.5-17-7-8-18l-14-239 14-510q0-11 7.5-18t17.5-7 17.5 7 7.5 18zM980 640l14 492-14 236q0 11-8 19t-19 8-19-8-9-19l-12-236 12-492q1-12 9-20t19-8 18.5 8 8.5 20zM1192 1132l-14 231v0q0 13-9 22t-22 9-22-9-10-22l-6-114-6-117 12-636v-3q2-15 12-24 9-7 20-7 8 0 15 5 14 8 16 26zM2304 1113q0 117-83 199.5t-200 82.5h-786q-13-2-22-11t-9-22v-899q0-23 28-33 85-34 181-34 195 0 338 131.5t160 323.5q53-22 110-22 117 0 200 83t83 201z"}]}})},554:function(e,t,r){"use strict";var n=r(21);r.n(n).a.register({"step-forward":{width:1024,height:1792,paths:[{d:"M45 1651q-19 19-32 13t-13-32v-1472q0-26 13-32t32 13l710 710q9 9 13 19v-678q0-26 19-45t45-19h128q26 0 45 19t19 45v1408q0 26-19 45t-45 19h-128q-26 0-45-19t-19-45v-678q-4 10-13 19z"}]}})},555:function(e,t,r){"use strict";var n=r(21);r.n(n).a.register({youtube:{width:1536,height:1792,paths:[{d:"M971 1244v211q0 67-39 67-23 0-45-22v-301q22-22 45-22 39 0 39 67zM1309 1245v46h-90v-46q0-68 45-68t45 68zM343 1027h107v-94h-312v94h105v569h100v-569zM631 1596h89v-494h-89v378q-30 42-57 42-18 0-21-21-1-3-1-35v-364h-89v391q0 49 8 73 12 37 58 37 48 0 102-61v54zM1060 1448v-197q0-73-9-99-17-56-71-56-50 0-93 54v-217h-89v663h89v-48q45 55 93 55 54 0 71-55 9-27 9-100zM1398 1438v-13h-91q0 51-2 61-7 36-40 36-46 0-46-69v-87h179v-103q0-79-27-116-39-51-106-51-68 0-107 51-28 37-28 116v173q0 79 29 116 39 51 108 51 72 0 108-53 18-27 21-54 2-9 2-58zM790 525v-210q0-69-43-69t-43 69v210q0 70 43 70t43-70zM1509 1276q0 234-26 350-14 59-58 99t-102 46q-184 21-555 21t-555-21q-58-6-102.5-46t-57.5-99q-26-112-26-350 0-234 26-350 14-59 58-99t103-47q183-20 554-20t555 20q58 7 102.5 47t57.5 99q26 112 26 350zM511 0h102l-121 399v271h-100v-271q-14-74-61-212-37-103-65-187h106l71 263zM881 333v175q0 81-28 118-38 51-106 51-67 0-105-51-28-38-28-118v-175q0-80 28-117 38-51 105-51 68 0 106 51 28 37 28 117zM1216 171v499h-91v-55q-53 62-103 62-46 0-59-37-8-24-8-75v-394h91v367q0 33 1 35 3 22 21 22 27 0 57-43v-381h91z"}]}})},560:function(e,t,r){var n=r(543);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r(395)("6caf7914",n,!0)},561:function(e,t,r){var n=r(544);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r(395)("def58006",n,!0)},581:function(e,t,r){(function(e,t){!function(e,r){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return u[l]=n,s(l),l++}function o(e){delete u[e]}function i(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}function a(e){if(d)setTimeout(a,0,e);else{var t=u[e];if(t){d=!0;try{i(t)}finally{o(e),d=!1}}}}if(!e.setImmediate){var s,l=1,u={},d=!1,c=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&a(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),s=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var e=c.documentElement;s=function(t){var r=c.createElement("script");r.onreadystatechange=function(){a(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():function(){s=function(e){setTimeout(a,0,e)}}(),p.setImmediate=n,p.clearImmediate=o}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,r(1),r(44))},583:function(e,t,r){(function(t,r){!function(t,r){e.exports=r()}(0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){(function(t){"use strict";var n=r(4),o=r(8),i=r(3),a=r(9),s=r(2).Promise,l=r(16),u=r(17);e.exports=t.SC={initialize:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i.set("oauth_token",e.oauth_token),i.set("client_id",e.client_id),i.set("redirect_uri",e.redirect_uri),i.set("baseURL",e.baseURL),i.set("connectURL",e.connectURL)},get:function(e,t){return n.request("GET",e,t)},post:function(e,t){return n.request("POST",e,t)},put:function(e,t){return n.request("PUT",e,t)},delete:function(e){return n.request("DELETE",e)},upload:function(e){return n.upload(e)},connect:function(e){return a(e)},isConnected:function(){return void 0!==i.get("oauth_token")},oEmbed:function(e,t){return n.oEmbed(e,t)},resolve:function(e){return n.resolve(e)},Recorder:l,Promise:s,stream:function(e,t){return u(e,t)},connectCallback:function(){o.notifyDialog(this.location)}}}).call(t,function(){return this}())},function(e,t){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports={SCAudio:r(1),SCAudioPublicApiStreamURLRetriever:r(6),MaestroCore:r(2),MaestroLoaders:r(5),MaestroHTML5Player:r(4),MaestroHLSMSEPlayer:r(3)}},function(e,t,r){!function(t,n){e.exports=function(e,t,r,n,o,i){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=36)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(t,r){void 0===r&&(r="API error.");var n=e.call(this,r)||this;return n.statusCode=t,n}return n(t,e),t.prototype.getCode=function(){return"SCAUDIO.API_ERROR."+(this.statusCode||"TIMEOUT")},t.prototype.getStatusCode=function(){return this.statusCode},t}(o.errors.PlayerFatalError);t.ApiError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(t){return e.call(this,t||"There was no format available that a player was able to play.")||this}return n(t,e),t.prototype.getCode=function(){return"SCAUDIO.NOT_SUPPORTED_ERROR"},t}(o.errors.PlayerFatalError);t.NotSupportedError=i},function(e,t,r){"use strict";function n(e){return new i({startPos:0,endPos:e,startLevel:0,endLevel:1,fromEnd:!1})}function o(e){return new i({startPos:e,endPos:0,startLevel:1,endLevel:0,fromEnd:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.buildFadeIn=n,t.buildFadeOut=o;var i=function(){function e(e){var t=e.startPos,r=e.endPos,n=e.startLevel,o=e.endLevel,i=e.fromEnd,a=void 0!==i&&i;if(t<0)throw new Error("startPos invalid.");if(r<0||!a&&r<t||a&&t<r)throw new Error("endPos invalid.");if(n<0||n>1)throw new Error("startLevel invalid.");if(o<0||o>1)throw new Error("endLevel invalid.");this._startPos=t,this._endPos=r,this._startLevel=n,this._endLevel=o,this._fromEnd=a}return e.prototype.calculate=function(e,t){var r=this._fromEnd?t-500-this._startPos:this._startPos,n=this._fromEnd?t-500-this._endPos:this._endPos;if(e<r)return{level:this._startLevel,nextCalculatePosition:r-e};if(e<=n){var o=(e-r)/(n-r),i=Math.cos(o*Math.PI)/-2+.5;return{level:this._startLevel+(this._endLevel-this._startLevel)*i,nextCalculatePosition:e}}return{level:this._endLevel,nextCalculatePosition:1/0}},e}();t.Fade=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e}();t.BaseStreamUrlRetriever=n},function(e,t,r){"use strict";function n(e,t,r){return Math.min(t,Math.max(e,r))}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(3),s=i.eventDispatcher.EventDispatcher,l=i.helpers.Promise,u=i.helpers.deferred.buildDeferred,d=function(e){function t(t,r){var n=e.call(this,t)||this;return n._onPreloadingEnabled=new s,n._onPreloadingDisabled=new s,n._onConnectionRequired=new s,n._onConnectionRecovered=new s,n._volumeAutomators=[],n._volumeScale=1,n._userVolume=1,n._volumeAutomationSupported=!1,n._timer=null,n._pauseFadeTimer=null,n._pauseFadeDeferred=null,n._pauseFade=null,n._connectionRequired=!1,n._connectionLossTimer=null,n.onPreloadingEnabled=n._onPreloadingEnabled.getHandle(),n.onPreloadingDisabled=n._onPreloadingDisabled.getHandle(),n.onConnectionRequired=n._onConnectionRequired.getHandle(),n.onConnectionRecovered=n._onConnectionRecovered.getHandle(),n._reloadStreamUrls=r,n._pausedMaxBufferLength=t.pausedMaxBufferLength,n._playingMaxBufferLength=t.playingMaxBufferLength,n._preloadingEnabled=t.preloadingEnabled,n.onPlayerProvided.subscribe(function(){return n._updateMaxBufferLength()}),n.onChange.subscribe(function(e){n.isDead()||((!1===e.playing||e.positionJumped||e.stalled||e.ended)&&n._completePauseFade(),n._pauseFade&&(!1===e.actuallyPlaying||e.ended)&&(n.removeVolumeAutomator(n._pauseFade),n._pauseFade=null),(e.positionJumped||void 0!==e.actuallyPlaying||void 0!==e.stalled)&&n._updateVolume(),void 0!==e.playing&&n._updateMaxBufferLength(),void 0!==e.loading&&n._calculateIfConnectionRequired())}),window.addEventListener("online",function(){return n._calculateIfConnectionRequired()}),window.addEventListener("offline",function(){return n._calculateIfConnectionRequired()}),n._calculateIfConnectionRequired(),n}return o(t,e),t.prototype.reload=function(){this._ensureNotDead(),this._reloadStreamUrls()},t.prototype.enablePreloading=function(){this.isDead()||this._preloadingEnabled||(this._preloadingEnabled=!0,this._updateMaxBufferLength(),this._onPreloadingEnabled.dispatch(void 0))},t.prototype.disablePreloading=function(){this.isDead()||this._preloadingEnabled&&(this._preloadingEnabled=!1,this._updateMaxBufferLength(),this._onPreloadingDisabled.dispatch(void 0))},t.prototype.isPreloadingEnabled=function(){return this._preloadingEnabled},t.prototype.pauseAfterFade=function(e){var t=this;if(this._ensureNotDead(),this._pauseFadeDeferred)return this._pauseFadeDeferred.promise;if(!this.isPlaying()||!this.isActuallyPlaying())return l.resolve(this.pause());var r=u();this._pauseFadeDeferred=r;var n=this.getPosition();if(this._pauseFade)throw new Error("Fade should not already be assigned.");return this._pauseFade=new a.Fade({startPos:n,endPos:n+e,startLevel:1,endLevel:0}),this.addVolumeAutomator(this._pauseFade),this._pauseFadeTimer=window.setTimeout(function(){t._pauseFadeDeferred=null,r.resolve(t.pause())},e+50),r.promise},t.prototype.isConnectionRequired=function(){return this._connectionRequired},t.prototype.getVolume=function(){return this._volumeAutomationSupported?this._userVolume:e.prototype.getVolume.call(this)},t.prototype.addVolumeAutomator=function(e){this._volumeAutomators.indexOf(e)<0&&(this._volumeAutomators.push(e),this._updateVolume())},t.prototype.removeVolumeAutomator=function(e){var t=this._volumeAutomators.indexOf(e);t>=0&&(this._volumeAutomators.splice(t,1),this._updateVolume())},t.prototype._triggerError=function(t){e.prototype._triggerError.call(this,t)},t.prototype.providePlayer=function(t,r,n){void 0===n&&(n=!0),this._volumeAutomationSupported=n,e.prototype.providePlayer.call(this,t,r)},t.prototype._setVolume=function(e){this._userVolume=e,this._calculateAndSetVolume()},t.prototype._kill=function(){this._timer&&window.clearTimeout(this._timer),null!==this._connectionLossTimer&&window.clearTimeout(this._connectionLossTimer),this._abortPauseFade(),e.prototype._kill.call(this)},t.prototype._calculateIfConnectionRequired=function(){var e=this;this.isLoading()&&"navigator"in window&&!window.navigator.onLine?null===this._connectionLossTimer&&(this._connectionLossTimer=window.setTimeout(function(){e._connectionLossTimer=null,e._connectionRequired=!0,e._onConnectionRequired.dispatch(void 0)},1500)):this._connectionRequired?(this._connectionRequired=!1,this._onConnectionRecovered.dispatch(void 0)):null!==this._connectionLossTimer&&(window.clearTimeout(this._connectionLossTimer),this._connectionLossTimer=null)},t.prototype._completePauseFade=function(){if(this._pauseFadeDeferred){this._pauseFadeTimer&&window.clearTimeout(this._pauseFadeTimer);var e=this._pauseFadeDeferred;this._pauseFadeDeferred=null,e.resolve(this.pause())}},t.prototype._abortPauseFade=function(){this._pauseFadeTimer&&(window.clearTimeout(this._pauseFadeTimer),this._pauseFadeTimer=null),this._pauseFadeDeferred&&(this._pauseFadeDeferred.reject(new Error("Player was killed.")),this._pauseFadeDeferred=null)},t.prototype._updateVolume=function(){var e=this;if(this._volumeAutomationSupported){this._ensureNotDead(),this._timer&&(window.clearTimeout(this._timer),this._timer=null);var t=this.getDuration();if(null!==t){var r=this._volumeAutomators,o=this.getPosition(),i=1/0,a=1;r.forEach(function(e){var r=e.calculate(o,t),s=r.nextCalculatePosition,l=r.level;a*=n(0,1,l),s<i&&(i=s)}),this._volumeScale!==a&&(this._volumeScale=a,this._calculateAndSetVolume()),i<1/0&&this.isActuallyPlaying()&&!this.isStalled()&&(this._timer=window.setTimeout(function(){e._timer=null,e._updateVolume()},n(100,5e3,i-this.getPosition())))}}},t.prototype._calculateAndSetVolume=function(){this._volumeAutomationSupported?e.prototype._setVolume.call(this,this._userVolume*this._volumeScale):e.prototype._setVolume.call(this,this._userVolume)},t.prototype._updateMaxBufferLength=function(){var e=this.getPlayer(),t=e&&e.getBufferController();t&&(this.isPlaying()?t.setMaxBufferLength(this._playingMaxBufferLength):t.setMaxBufferLength(this._preloadingEnabled?this._pausedMaxBufferLength:0))},t}(i.ProxyPlayer);t.Player=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(29);t.renditions=n.renditions},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.statusCode=e}return e.prototype.getStatusCode=function(){return this.statusCode},e}();t.RequestError=n},function(e,t,r){"use strict";function n(e){return e.match(s)[0]}function o(e,t){if(t instanceof e.errors.RetrievalError){var r=t.getCause();if(r instanceof e.retrievalErrors.UnacceptableResponseStatusCodeError)return 403===r.getStatusCode()}return!1}function i(e,t,r,i,s,l,u,d,c){c=a.logger.prefixLogger(c,"HLSMSEPlayer Controller");var p=null,h=!1,f=n(d);r.onError.subscribe(function(t){if(!(t instanceof a.errors.NotSupportedError)){if(i){if(t instanceof a.errors.URLUpdateError)return c.error("URL refresh failed for some reason.",t),void s({retryPlayer:!0});if(o(e,t)){if(h)return;return c.info("Got a 403 status code. Peforming a URL refresh..."),h=!0,p=u.getUrl(),void p.whenComplete().then(function(e){if(e){var t=e.url,o=e.rendition;n(t)!==f||JSON.stringify(l)!==JSON.stringify(o)?(c.warn("Got a new URL but the rendition did not match the original."),s({retryPlayer:!1})):(h=!1,c.info("Got a new URL. Updating..."),r.getUrlController().updateUrl(t))}else c.warn("Could not get a new URL."),s({retryPlayer:!1})}).catch(function(e){c.error("Unexpected error when trying to retrieve a new URL.",e),s({retryPlayer:!1})})}}c.error("Unexpected player error.",t),s({retryPlayer:!1})}}),t.providePlayer(r)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),s=/^[^\?#]*/;t.isErrorWhichShouldTriggerURLRefresh=o,t.takeControlHLSMSEPlayer=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getCode=function(){return"SCAUDIO.GEOBLOCKED_ERROR"},t}(o.ApiError);t.GeoBlockedError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=function(e){function t(){return e.call(this,"There were no stream URLs.")||this}return n(t,e),t.prototype.getCode=function(){return"SCAUDIO.NO_STREAMS"},t}(o.NotSupportedError);t.NoStreamsError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=function(e){function t(){return e.call(this,null,"Request timed out too many times.")||this}return n(t,e),t.prototype.getCode=function(){return"SCAUDIO.TIMED_OUT_ERROR"},t}(o.ApiError);t.TimedOutError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getCode=function(){return"SCAUDIO.UNAVAILABLE_ERROR"},t}(o.ApiError);t.UnavailableError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(9),i=r(2),a=r(11),s=r(12),l=r(10);!function(e){e.ApiError=n.ApiError,e.GeoBlockedError=o.GeoBlockedError,e.NotSupportedError=i.NotSupportedError,e.TimedOutError=a.TimedOutError,e.UnavailableError=s.UnavailableError,e.NoStreamsError=l.NoStreamsError}(t.errors||(t.errors={}))},function(e,t,r){"use strict";function n(){return re||(re=document.createElement("audio"),o(re),re)}function o(e){e.load()}function i(e){return e===J||e===Z}function a(e){return e.constructor===Z}function s(e){return e.constructor===J}function l(e){return e.constructor===Q}function u(e){return e.constructor===$}function d(e){var t=e.split("//",2);return 1===t.length?t[0].split("/",1)[0]:t[1]?t[1].split("/",1)[0]:""}function c(e){var t=ee.exec(e);return t&&t[0]||""}function p(e,t){var r=s(e)?"MaestroHTML5":a(e)?"MaestroHLSMSE":l(e)?"MaestroFlipper":u(e)?"MaestroChromecast":null;if(!r)throw new Error("Unknown player.");return{name:r,bitrate:t.bitrate,protocol:t.rendition.scProtocol,host:d(t.url),url:c(t.url),format:t.rendition.scFormat}}function h(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",r=0;r<20;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function f(e){if("number"!=typeof e)throw new Error("level must be a number.");if(e<0||e>1)throw new Error("Invalid volume level.");se=e,ae.forEach(function(t){return t.setVolume(e)})}function g(){return se}function m(e){if("boolean"!=typeof e)throw new Error("muteEnabled must be a boolean.");le=e,ae.forEach(function(t){return t.setMuted(e)})}function v(){return le}function y(){n()}function A(e){function t(){return Pe&&Te?p(Pe,Te):null}function r(){if(Be&&window.clearTimeout(Be),Ee.debug("Performing retrieve."),ke)throw new Error("Player job already running. Only one instance of the job is allowed at once.");if(Se.isDead())throw new Error("Proxy is dead.");var e=new F(function(){function e(){function t(e){if(e!==_.helpers.abortableJob.abortedError)if(e instanceof P.RequestError){var t=e.getStatusCode();switch(t){case 401:Se._triggerError(new T.GeoBlockedError(t,"Geoblocked (logged out)."));break;case 403:Se._triggerError(new T.GeoBlockedError(t,"Geoblocked (logged in)."));break;case 404:Se._triggerError(new R.UnavailableError(t,"Track unavailable."));break;case null:throw new Error("Status code should not be null.");default:Se._triggerError(new k.ApiError(t))}}else e===_.helpers.retry.noMoreAttemptsError?Se._triggerError(new M.TimedOutError):(Ee.error("Unexpected error.",e),Se._triggerError(new _.errors.PlayerFatalError("An unexpected error occurred.",e)))}s=o(),s.onCompletion(function(r){if(r)try{Te=r,xe||(xe=a());xe[0]?n():(Ee.debug("Excluding rendition.",r.rendition),d.excludeRendition(r.rendition),xe=null,e())}catch(e){t(e)}else Te?(Ee.error("There were no stream formats that were supported."),Se._triggerError(new B.NotSupportedError)):(Ee.error("There were no streams available."),Se._triggerError(new Y.NoStreamsError))}),s.onError(t)}function n(){function e(e){if(!l&&!i&&(l=!0,Ee.debug("Player releasing control.",e),t.abort(e),!Se.isDead()))if(e&&e.retryPlayer){var n=Me.getDelay();n>0?(Ee.debug("Waiting "+n+" ms."),Be=window.setTimeout(function(){return r()},n)):r()}else r()}var n=xe&&xe[0];if(!n)throw new Error("No player to build.");if(!Te)throw new Error("No rendition.");var o=Te.url,a=Te.rendition,s=new _.Descriptor(o,a.maestroProtocol,a.maestroFormat),l=!1;Ee.debug("Building player...");var u=void 0,d=void 0;try{d=n(s,Te,e)}catch(e){u=e}void 0===d?(Ee.error("Exception occurred whilst building player.",u),e()):null===d?(Ee.debug("Player not supported for current descriptor."),e()):(Pe=d,Ee.debug("Built player."),Pe.isDead()?(Ee.debug("Player died during construction."),e()):(ue.addPlayer(Pe),Pe.onChange.subscribe(function(t){t.dead&&(Ee.debug("Player died."),e())})))}var i=!1,s=null;return e(),{result:_.helpers.deferred.buildDeferred().promise,abort:function(e){i=!0,Ee.info("Player job aborted.",e),ke=null,s&&s.abort(),xe&&(e&&e.retryPlayer?Ee.debug("Player might be used again for current rendition."):(Ee.debug("Player will not be used again for current rendition."),xe.shift()),Se.getPlayer()&&Se.removePlayer(),Pe&&(Pe.kill(),Pe=null),Te=null)}}}),t=e.run();return ke=t}function o(){return H(function(){return new F(function(){var e=d.getUrl();return Ee.debug("Retrieving a URL..."),{result:e.whenComplete().then(function(e){return e?Ee.debug("Retrieved URL.",{rendition:e.rendition,bitrate:e.bitrate}):Ee.debug("No URL provided."),e&&te.indexOf(e.rendition)<0?(Ee.warn("Unknown rendition. Skipping...",e.rendition),{success:!1}):{result:e,success:!0}}).catch(function(e){if(e instanceof P.RequestError){var t=e.getStatusCode();if(null===t||0===t)return null===t?Ee.warn("Timed out when retrieving URL. Will retry."):Ee.warn("Network error when retrieving URL. Will retry."),{success:!1}}throw e!==_.helpers.abortableJob.abortedError&&Ee.error("Error retrieving URL.",e),e}),abort:function(){return e.abort()}}})},me)}function a(){var e=[];return $&&u.indexOf($)>=0&&(Ee.debug("ChromecastPlayer found.",K.version),Ae?e.push(function(e){var t=new $(e,{name:_e,castContext:Ae,logger:re});return Se.providePlayer(t,{syncPosition:!1,syncVolume:!1},!1),t}):Ee.warn("Could not construct chromecast player because context not provided.")),Q&&u.indexOf(Q)>=0&&(Ee.debug("FlipperPlayer found.",X.version),e.push(function(e){var t=new Q(e,{name:_e,logger:re});return O.takeControlFlipperPlayer(Se,t,Ee,Re||void 0),t})),Z&&u.indexOf(Z)>=0&&(Ee.debug("HLSMSEPlayer found.",W.version),e.push(function(e,t,r){var n=new Z(e,{name:_e,playlistLoader:b.stringLoader,segmentLoader:b.arrayBufferLoader,keyLoader:b.arrayBufferLoader,expectedSegmentFormat:{mimeType:"audio/mpeg"},logger:re});return l(n,function(){return r()}),I.takeControlHLSMSEPlayer(W,Se,n,ye,r,t.rendition,d,t.url,Ee),n})),J&&u.indexOf(J)>=0&&(Ee.debug("HTML5Player found.",V.version),e.push(function(e,t,r){var n=t.timeRetrieved;if(ye&&("hls"===e.getProtocol().name||void 0===n))return null;var o;if(ye){if(void 0===n)throw new Error("Expecting timeUrlRetrieved to be set.");o={urlExpires:!0,timeUrlRetrieved:n}}else o={urlExpires:!1};var i=new J(e,{name:_e,logger:re});return l(i,function(){return r()}),D.takeControlHTML5Player(V,Se,i,o,r,Ee),i})),e}function s(){ke?(Ee.debug("Reloading stream URLs..."),Ee.debug("Aborting player job that is in progress."),ke.abort(),xe=null,r()):Ee.debug("Reload requested, but not reloading as there is nothing to reload.")}function l(e,t){function r(){var t=e.getMediaElement();t&&t!==n()&&(Ee.debug("Revoking audio element that was created internally because player is ready now."),e.revokeMediaElement())}function o(){var r=e.getMediaElement();if(r&&r!==n()&&(Ee.debug("Revoking audio element that was created internally, even though player is not ready."),e.revokeMediaElement()),!e.getMediaElement()){ne&&!ne.isDead()&&(Ee.info("Revoking audio element from a player."),ne.isPlaying()&&Ee.warn("The audio element is being revoked from a player which is playing. Only one player should be playing at once."),ne.revokeMediaElement()),ne=e,Ee.info("Providing audio element to a different player.");var o=oe={};e.provideMediaElement(n()).catch(function(r){e.isDead()||oe!==o||(Ee.error("An unexpected error occurred when trying to provide the audio element to a player.",r),t())})}}e.isReady()?r():e.onReady.subscribe(r),Se.onPlayIntent.subscribe(function(){e.isDead()||o()}),Se.isPlaying()&&(e.isDead()||o()),ne||o()}var u=e.playerClasses,d=e.streamUrlRetriever,c=e.duration,f=void 0===c?null:c,g=e.preloadingEnabled,m=void 0!==g&&g,v=e.pausedMaxBufferLength,y=void 0===v?2e3:v,A=e.playingMaxBufferLength,L=void 0===A?9e4:A,j=e.fadeOutDuration,q=void 0===j?0:j,ee=e.logger,re=void 0===ee?_.logger.noOpLogger:ee,de=e.audioPerformanceReporter,ce=e.audioReporter,pe=e.audioCheckpointInterval,he=void 0===pe?3e4:pe,fe=e.errorReporter,ge=e.urlProviderRetryDelayCalculator,me=void 0===ge?G():ge,ve=e.streamUrlsExpire,ye=void 0===ve||ve,Ae=e.chromecastContext;if(!(d instanceof w.BaseStreamUrlRetriever))throw new Error("StreamUrlRetriever invalid.");if(null!==f&&("number"!=typeof f||f<0))throw new Error("duration invalid.");if("boolean"!=typeof m)throw new Error("preloadingEnabled invalid.");if(null!==y&&("number"!=typeof y||y<0))throw new Error("pausedMaxBufferLength invalid.");if(null!==L&&("number"!=typeof L||L<0))throw new Error("playingMaxBufferLength invalid.");if(null!==q&&("number"!=typeof q||q<0))throw new Error("fadeOutDuration invalid.");if(null!==re&&"function"!=typeof re&&"object"!=typeof re)throw new Error("logger invalid.");if(void 0!==ce&&"function"!=typeof ce)throw new Error("audioReporter invalid.");if(null!==he&&("number"!=typeof he||he<0))throw new Error("audioCheckpointInterval invalid.");if(void 0!==de&&"function"!=typeof de)throw new Error("audioPerformanceReporter invalid.");if(void 0!==fe&&"function"!=typeof fe)throw new Error("errorReporter invalid.");if(void 0!==me&&"function"!=typeof me)throw new Error("retryDelayCalculator invalid.");var _e="SCAudio-"+ ++ie,be=d.getTrackId();null!==be&&(_e+="-"+be);var we=new N.LogCollector;re=_.logger.cloneLogger(we,re);var Ee=_.logger.prefixLogger(re,_e),Ce=h();Ee.info("Building player...",{ua:navigator.userAgent,logId:Ce});var Se=new x.Player({name:_e+"-Proxy",logger:re,mediaSessionEnabled:!0,pausedMaxBufferLength:y,playingMaxBufferLength:L,preloadingEnabled:m},s);ae.push(Se),Se.setVolume(se),Se.setMuted(le),q>0&&Se.addVolumeAutomator(E.buildFadeOut(q));var xe=null,Pe=null,Te=null,ke=null,Re=null,Be=null,Me=new z.DecayingExponentialDelayCalculator;if(de&&(Re=new C.AudioPerformanceEventGenerator(Se,de,Ee,t,Z)),ce&&new U.AudioEventGenerator(Se,ce,he,Ee),fe&&S.generateErrorEvents(Se,we,Ce,be,fe,Ee,t,W||null,ye),Se.onChange.subscribe(function(e){var t=e.dead,r=e.playing;if(t)Ee.info("Player killed."),ae.splice(ae.indexOf(Se),1),ke&&ke.abort(),Be&&window.clearTimeout(Be);else if(!0===r){var o=u.some(function(e){return i(e)});o&&n()}}),null!==f&&(Ee.debug("Setting initial duration.",f),Se.setInitialDuration(f)),m)Ee.debug("Preloading is enabled, so performing retrieve immediately."),r();else{Ee.debug("Preloading is disabled, so deferring retrieve until either a play intent or preloading is enabled.");var De=function(){Ie.remove(),Oe.remove(),Ee.debug("Preloading now enabled or received a play request. Peforming retrieve."),r()},Ie=Se.onPreloadingEnabled.subscribe(De),Oe=Se.onPlayIntent.subscribe(De)}return Se}Object.defineProperty(t,"__esModule",{value:!0});var _=r(0),b=r(35),w=r(4),E=r(3),C=r(17),S=r(22),x=r(5),P=r(7),T=r(9),k=r(1),R=r(12),B=r(2),M=r(11),D=r(20),I=r(8),O=r(19),L=r(6),z=r(21),N=r(23),U=r(16),j=r(18),F=_.helpers.abortableJob.AbortableJob,q=_.helpers.retry,H=q.retry,G=q.buildExponentialDelayCalculator,Y=r(10),V=void 0;try{V=r(34)}catch(e){}var W=void 0;try{W=r(33)}catch(e){}var X=void 0;try{X=r(32)}catch(e){}var K=void 0;try{K=r(31)}catch(e){}var J=V?V.HTML5Player:null,Z=W?W.HLSMSEPlayer:null,Q=X?X.FlipperPlayer:null,$=K?K.ChromecastPlayer:null,ee=/^[^?#]*/,te=Object.keys(L.renditions).map(function(e){return L.renditions[e]}),re=null,ne=null,oe={},ie=-1,ae=[],se=1,le=!1,ue=new j.CacheManager(15e7,_.logger.noOpLogger);t.setGlobalVolume=f,t.getGlobalVolume=g,t.setGlobalMuted=m,t.getGlobalMuted=v,t.activateAudioElement=y,t.buildPlayer=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);!function(e){e.Fade=n.Fade,e.buildFadeIn=n.buildFadeIn,e.buildFadeOut=n.buildFadeOut}(t.volumeAutomation||(t.volumeAutomation={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=1e3,i=function(){function e(e,t,r,i){this._checkpointTimer=null,this._logger=n.logger.prefixLogger(i,"AudioEventGenerator"),this._player=e,this._eventReporter=t,this._checkpointInterval=null!==r?Math.max(o,r):null,this._startReporting()}return e.prototype._startReporting=function(){var e=this,t=this._player;t.onChange.subscribe(function(r){var n=r.actuallyPlaying,o=r.ended;!0===n&&!t.isEnded()||!1===o&&t.isActuallyPlaying()?(null===e._checkpointInterval||e._checkpointTimer||(e._checkpointTimer=window.setInterval(function(){e._reportEvent("checkpoint")},e._checkpointInterval)),e._reportEvent("play")):(!1===n&&!t.isEnded()||!0===o&&t.isActuallyPlaying())&&(e._checkpointTimer&&(window.clearInterval(e._checkpointTimer),e._checkpointTimer=null),e._reportEvent("pause"))})},e.prototype._reportEvent=function(e){var t=this._player.getDuration();if(null===t)throw new Error("Duration should exist now.");var r={type:e,position:this._player.getPosition(),duration:t};this._logger.debug("Generated audio event.",r),this._eventReporter(r)},e}();t.AudioEventGenerator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(30),i=function(){function e(e,t,r,o,i){this._logger=n.logger.prefixLogger(r,"AudioPerformanceEventGenerator"),this._player=e,this._eventReporter=t,this._getPlayerDetails=o,this._HLSMSEPlayer=i,this._measureGeneralEvents()}return e.prototype.reportManualEvent=function(e){this._logger.debug("Reporting manual audio performance event.",e),this._eventReporter(e)},e.prototype._measureGeneralEvents=function(){var e=this,t=this._player,r=new o.Timer,n=null,i=null;t.onChange.subscribe(function(a){var s=a.dead,l=a.playing,u=a.actuallyPlaying,d=a.seeking,c=a.loading;s||(!0===l&&(r.isComplete()||r.start()),!0===u&&(r.isComplete()||(r.stop(),e._reportEvent("play",r.getTime()))),!0===d&&t.isReady()&&(n=new o.Timer,n.start()),!1===d&&n&&(n.stop(),e._reportEvent("seek",n.getTime())),!0===c&&r.isComplete()&&(i=new o.Timer,i.start()),!1===c&&i&&(i.stop(),e._reportEvent("buffer",i.getTime())))})},e.prototype._reportEvent=function(e,t,r){var n=r||this._getPlayerDetails();if(!n)return void this._logger.warn("Cannot report event because there is no player.",e,t);var o={type:e,latency:t,protocol:n.protocol,playerType:n.name,host:n.host,bitrate:n.bitrate,format:n.format||void 0};this._logger.debug("Generated audio performance event.",o),this._eventReporter(o)},e}();t.AudioPerformanceEventGenerator=i},function(e,t,r){"use strict";function n(e,t){var r=e.getMemoryCacheController();r&&r.setMaxCacheSize(t)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(){function e(e,t){this._maxCacheSize=e,this._players=[],this._updateTimer=null,this._logger=o.logger.prefixLogger(t,"CacheManager"),this._logger.debug("Initialized with cache size "+e+" bytes.")}return e.prototype.addPlayer=function(e){var t=this;if(this._logger.debug("Adding player to cache manager."),e.isDead())return void this._logger.debug("Player was dead.");var r=this._players;e.onChange.subscribe(function(n){var o=n.playing;!0===n.dead?(t._logger.debug("Removing player that became dead."),r.splice(r.indexOf(e),1),t._update()):!0===o?(t._logger.debug("Updating because player started playing."),r.splice(r.indexOf(e),1),r.unshift(e),t._update()):!1===o&&(t._logger.debug("Updating because player became paused."),t._update())}),e.isPlaying()?r.unshift(e):r.push(e),this._update()},e.prototype._update=function(){var e=this;if(this._updateTimer&&(window.clearTimeout(this._updateTimer),this._updateTimer=null),0===this._players.length)return void this._logger.debug("There are no longer any players to manage.");var t=this._players.reduce(function(e,t){return t.isPlaying()?e.playingPlayers.push(t):e.pausedPlayers.push(t),e},{playingPlayers:[],pausedPlayers:[]}),r=t.playingPlayers,o=t.pausedPlayers,i=r.reduce(function(e,t){return e+(t.getMemoryCacheUsage()||0)},0),a=o.reduce(function(e,t){return e+(t.getMemoryCacheUsage()||0)},0);if(i>this._maxCacheSize){this._logger.debug("All playing players are using more than the max cache size. Cleaning...",i,this._maxCacheSize);var s=this._maxCacheSize/r.length;r.forEach(function(e){return n(e,s)}),o.forEach(function(e){return n(e,0)})}else this._logger.debug("Recalculating cache sizes...",i+a,this._maxCacheSize),r.concat(o).reduce(function(t,r){return n(r,Math.max(0,e._maxCacheSize-t)),t+(r.getMemoryCacheUsage()||0)},0);this._updateTimer=window.setTimeout(function(){return e._update()},2e4)},e}();t.CacheManager=i},function(e,t,r){"use strict";function n(e,t,r,n){r=o.logger.prefixLogger(r,"FlipperPlayer Controller"),n&&t.onAudioPerformanceEvent.subscribe(function(e){var t=e.protocol,o=e.type,i=e.latency,a=e.player_type,s=e.host,l=e.bitrate,u=e.format,d="Flipper";if(a!==d)return void r.warn("Ignoring audio performance event from flipper because the player_type was incorrect.",a);var c={protocol:t,type:o,latency:i,playerType:d,host:s,bitrate:l,format:u};n.reportManualEvent(c)}),e.providePlayer(t)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0);t.takeControlFlipperPlayer=n},function(e,t,r){"use strict";function n(e,t,r,n,a,s){function l(){var e=r.getDuration(),t=u();if(null!==e&&null!==t){var n=e-r.getPosition();i()+n>t&&(s.info("Releasing control because stream URL would expire before reaching end."),a({retryPlayer:!0}))}}function u(){if(!n.urlExpires)return null;var e=r.getDuration();return null===e?null:n.timeUrlRetrieved+e+105e3}function d(){var e=u();return null!==e&&e<=i()}s=o.logger.prefixLogger(s,"HTML5Player Controller"),r.onError.subscribe(function(t){t instanceof o.errors.NotSupportedError||(t instanceof e.errors.NetworkError&&d()?(s.info("Releasing control as a network error occurred, and the URL has expired."),a({retryPlayer:!0})):(s.error("Unexpected player error.",t),a({retryPlayer:!1})))}),n.urlExpires&&(r.onPlayIntent.subscribe(function(){return l()}),r.onSeekIntent.subscribe(function(){return l()})),t.providePlayer(r)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=o.helpers.time.now;t.takeControlHTML5Player=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._delayFactor=0,this._lastRequestTime=0}return e.prototype.getDelay=function(){var e=Date.now()-this._lastRequestTime;return this._lastRequestTime=Date.now(),this._delayFactor=Math.max(0,this._delayFactor-e/15e3),this._delayFactor+=1,Math.pow(2,this._delayFactor)},e}();t.DecayingExponentialDelayCalculator=n},function(e,t,r){"use strict";function n(e,t,r,n,a,s,l,u,d){function c(e){var o=l()||void 0,i={errorCode:e,log:t.getLog(),logId:r,trackId:n,protocol:o&&o.protocol,playerType:o?o.name:"MaestroUnknown",host:o&&o.host,bitrate:o&&o.bitrate,format:o&&(o.format||void 0),url:o&&o.url};s.debug("Generated audio error event.",i),a(i)}s=o.logger.prefixLogger(s,"ErrorGenerator"),e.onError.subscribe(function(e){if(!(d&&u&&i.isErrorWhichShouldTriggerURLRefresh(u,e))){var t,r;r=e instanceof o.errors.ProxyProvidedPlayerFatalError?e.getProvidedPlayerFatalError():e,t=r.getCode(),r instanceof o.errors.NotSupportedError||c(t)}})}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=r(8);t.generateErrorEvents=n},function(e,t,r){"use strict";function n(e){return e.map(function(e){try{return JSON.stringify(e)}catch(e){return"<unavailable>"}})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){void 0===e&&(e=200),this._bufferSize=e,this._log=[]}return e.prototype.getLog=function(){return this._log},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._push({level:"debug",msg:e,data:n(t),time:Date.now()})},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._push({level:"info",msg:e,data:n(t),time:Date.now()})},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._push({level:"warn",msg:e,data:n(t),time:Date.now()})},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._push({level:"error",msg:e,data:n(t),time:Date.now()})},e.prototype._push=function(e){this._log.push(e)>this._bufferSize&&this._log.shift()},e}();t.LogCollector=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiMobile={scProtocol:"sc.api-mobile",maestroProtocol:{name:"sc.api-mobile"},maestroFormat:{}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedHlsMp3={scProtocol:"encrypted-hls",scFormat:"mp3",maestroProtocol:{name:"hls"},maestroFormat:{mimeType:"application/x-mpegURL"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hlsMp3={scProtocol:"hls",scFormat:"mp3",maestroProtocol:{name:"hls"},maestroFormat:{mimeType:"application/x-mpegURL"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpMp3={scProtocol:"http",scFormat:"mp3",maestroProtocol:{name:"http"},maestroFormat:{mimeType:"audio/mpeg"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maestroChromecast={scProtocol:"maestro.chromecast",maestroProtocol:{name:"maestro.chromecast"},maestroFormat:{}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(27),o=r(26),i=r(25),a=r(24),s=r(28);t.renditions={httpMp3:n.httpMp3,hlsMp3:o.hlsMp3,encryptedHlsMp3:i.encryptedHlsMp3,apiMobile:a.apiMobile,maestroChromecast:s.maestroChromecast}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.helpers.time.now,i=function(){function e(){this._start=null,this._end=null}return e.prototype.start=function(){if(this.isComplete())throw new Error("Timer completed.");this._start=o()},e.prototype.isComplete=function(){return null!==this._end},e.prototype.stop=function(){if(null===this._start)throw new Error("Not started.");this._end=o()},e.prototype.getTime=function(){if(null===this._end)throw new Error("Not completed.");return this._end-this._start},e}();t.Timer=i},function(e,r){if(void 0===t){var n=new Error('Cannot find module "@sc/maestro-chromecast-player"');throw n.code="MODULE_NOT_FOUND",n}e.exports=t},function(e,t){if(void 0===r){var n=new Error('Cannot find module "@sc/maestro-flipper-player"');throw n.code="MODULE_NOT_FOUND",n}e.exports=r},function(e,t){if(void 0===n){var r=new Error('Cannot find module "@sc/maestro-hls-mse-player"');throw r.code="MODULE_NOT_FOUND",r}e.exports=n},function(e,t){if(void 0===o){var r=new Error('Cannot find module "@sc/maestro-html5-player"');throw r.code="MODULE_NOT_FOUND",r}e.exports=o},function(e,t){e.exports=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.3.1",t.buildNumber=315;var o=r(15);t.volumeAutomation=o.volumeAutomation;var i=r(4);t.BaseStreamUrlRetriever=i.BaseStreamUrlRetriever;var a=r(7);t.RequestError=a.RequestError;var s=r(5);t.Player=s.Player;var l=r(6);t.renditions=l.renditions,n(r(13)),n(r(14))}])}(r(2),function(){try{return r(!function(){var e=new Error('Cannot find module "@sc/maestro-chromecast-player"');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}}(),function(){try{return r(!function(){var e=new Error('Cannot find module "@sc/maestro-flipper-player"');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}}(),function(){try{return r(3)}catch(e){}}(),function(){try{return r(4)}catch(e){}}(),r(5))}()},function(e,t,r){!function(t,r){e.exports=function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=35)}([function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getCode=function(){return"PLAYER_FATAL_ERROR"},t}(o.PlayerError);t.PlayerFatalError=i},function(e,t,r){"use strict";function n(){var e,t,r=!1;return{promise:new o.Promise(function(r,n){e=r,t=n}),resolve:function(t){r||(r=!0,e(t))},reject:function(e){r||(r=!0,t(e))},isSettled:function(){return r}}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(10);t.buildDeferred=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=function(){function e(){this._listeners=[],this.dispatch=this.dispatch.bind(this)}return e.prototype.subscribe=function(e){var t=this,r={fn:e,payloads:[]};return this._listeners.push(r),{remove:function(){var e=t._listeners.indexOf(r);return e>=0&&(t._listeners.splice(e,1),!0)},retrieve:function(){return t._dispatchListenerPayloads(r)}}},e.prototype.dispatch=function(e,t){var r=this,o="number"==typeof t?{time:t}:t||{},i=void 0!==o.time?o.time:n.now(),a=this._listeners;a.forEach(function(t){return t.payloads.push({time:i,payload:e})});var s=!1;do{s=!a.some(function(e){var t=e.fn,n=e.payloads,o=n.shift();return!!o&&(r._callHandler(t,o),!0)})}while(!s)},e.prototype.getHandle=function(){return{subscribe:this.subscribe.bind(this)}},e.prototype._dispatchListenerPayloads=function(e){for(var t=e.fn,r=e.payloads;;){var n=r.shift();if(!n)break;this._callHandler(t,n)}},e.prototype._callHandler=function(e,t){try{e(t.payload,t.time)}catch(e){window.setTimeout(function(){throw e},0)}},e}();t.EventDispatcher=o},function(e,t,r){"use strict";function n(e,t){return{debug:function(r){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return e.debug.apply(e,["["+t+"] "+r].concat(n))},error:function(r){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return e.error.apply(e,["["+t+"] "+r].concat(n))},info:function(r){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return e.info.apply(e,["["+t+"] "+r].concat(n))},warn:function(r){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return e.warn.apply(e,["["+t+"] "+r].concat(n))}}}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{debug:function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return e.forEach(function(e){return e.debug.apply(e,[t].concat(r))})},error:function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return e.forEach(function(e){return e.error.apply(e,[t].concat(r))})},info:function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return e.forEach(function(e){return e.info.apply(e,[t].concat(r))})},warn:function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return e.forEach(function(e){return e.warn.apply(e,[t].concat(r))})}}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(16),a=i.isIE();t.noOpLogger={debug:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},error:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},info:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},warn:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]}},t.consoleLogger={debug:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];a?console.log(e,t):(n=console.debug||console.log).call.apply(n,[console,e].concat(t));var n},error:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];a?console.log(e,t):(n=console.error||console.log).call.apply(n,[console,e].concat(t));var n},info:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];a?console.log(e,t):(n=console.info||console.log).call.apply(n,[console,e].concat(t));var n},warn:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];a?console.log(e,t):(n=console.warn||console.log).call.apply(n,[console,e].concat(t));var n}},t.prefixLogger=n,t.cloneLogger=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._msg=e,this._cause=t}return e.prototype.getCode=function(){return"PLAYER_ERROR"},e.prototype.getMsg=function(){return this._msg},e.prototype.getCause=function(){return this._cause},e}();t.PlayerError=n},function(e,t,r){"use strict";function n(e,t){var r=void 0;return e.some(function(e){return!!t(e)&&(r=e,!0)}),r}Object.defineProperty(t,"__esModule",{value:!0}),t.find=n},function(e,t,r){"use strict";function n(){return"performance"in window&&window.performance.now?window.performance.now():Date.now()-o}Object.defineProperty(t,"__esModule",{value:!0});var o=Date.now();t.now=n},function(e,t,r){"use strict";function n(){return{actuallyPlaying:!1,ended:!1,loading:!1,playing:!1,playDeferred:null,pauseDeferred:null,ready:!1,seeking:!1,seek:null,positionJumped:null,stalled:!0,duration:null,dead:!1,state:c.State.PAUSED,fatalError:null,errorOccurred:null}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),i=r(0),a=r(12),s=r(2),l=r(1),u=r(5),d=r(6),c=r(9),p=r(3),h=r(31),f=r(11),g="undefined"!=typeof navigator&&"mediaSession"in navigator,m=g?navigator.mediaSession:null,v=function(){function e(e){var t=this;this._stateManager=new h.StateManager(n(),{afterUpdate:function(e){return t._afterUpdate(e)},afterDispatches:function(){return t._afterDispatches()}}),this._onError=new s.EventDispatcher,this._errors=[],this._loadingDelayTimer=null,this._stalled=!1,this._queuedDuration=null,this._readyDeferred=l.buildDeferred(),this._queuedSeekDeferreds=[],this._lastPlayError=null,this._lastPauseError=null,this._positionWhenStoppedPlaying=null,this._pendingPositionWhenStoppedPlaying=0,this._positionWhenKilled=0,this._listenTimeBase=0,this._timePlaybackStarted=null;var r=e.name;return this._logger=p.prefixLogger(e.logger,"BasePlayer"+(r?"-"+r:"")),this._mediaSessionEnabled=!!e.mediaSessionEnabled,e.loadingDelay&&e.loadingDelay<0?void this._triggerError(new f.DependencyError("loadingDelay must be >= 0.")):(this._loadingDelay=void 0!==e.loadingDelay?e.loadingDelay:400,this.onError=this._onError.getHandle(),this.whenReady=this._readyDeferred.promise,this._stateManager.subscribe(function(e,r){return t._onChange(e,r)}),this._stateManager.subscribe(function(e,r){var n=e.playing,o=e.actuallyPlaying;r.dead||void 0===n||o===n||t._handlePlayPauseChange(n)}),this._stateManager.subscribe(function(e,r){var n=e.seek;!r.dead&&n&&"IN_PROGRESS"===n.state&&t._handleSeekChange(n.position)}),this._registerMediaSessionActionHandlers(),this._notifyMediaSessionPaused(),this.onChange=this._buildEventHandle(function(e,r){var n=r.ready;if(void 0!==n&&!0!==n)throw new Error("Ready state is invalid.");var o=r.duration;if(void 0!==o&&null===o)throw new Error("Duration state is invalid.");var i=r.dead;if(void 0!==i&&!0!==i)throw new Error("Dead state is invalid.");var a={ready:n,ended:r.ended,duration:o,playing:r.playing,actuallyPlaying:r.actuallyPlaying,stalled:r.stalled,loading:r.loading,playRejection:!1===r.playing?t._lastPlayError||void 0:void 0,pauseRejection:!0===r.playing?t._lastPauseError||void 0:void 0,seeking:r.seeking,seek:r.seek||void 0,positionJumped:void 0!==r.positionJumped||void 0,state:r.state,fatalError:r.fatalError||void 0,dead:i};Object.keys(a).some(function(e){return void 0!==a[e]})&&e(a)}),this.onDurationChange=this._buildEventHandle(function(e,t){var r=t.duration;void 0!==r&&null!==r&&e(r)}),this.onReady=this._buildEventHandle(function(e,t){!0===t.ready&&e(void 0)}),this.onStateChange=this._buildEventHandle(function(e,t){var r=t.state;void 0!==r&&e(r)}),this.onPlay=this._buildEventHandle(function(e,t){!0===t.actuallyPlaying&&e(void 0)}),this.onPlayIntent=this._buildEventHandle(function(e,t){!0===t.playing&&e(void 0)}),this.onPlayRejection=this._buildEventHandle(function(e,r){!1===r.playing&&t._lastPlayError&&e(t._lastPlayError)}),this.onPause=this._buildEventHandle(function(e,t){!1===t.actuallyPlaying&&e(void 0)}),this.onPauseIntent=this._buildEventHandle(function(e,t){!1===t.playing&&e(void 0)}),this.onPauseRejection=this._buildEventHandle(function(e,r){!0===r.playing&&t._lastPauseError&&e(t._lastPauseError)}),this.onSeek=this._buildEventHandle(function(e,t){var r=t.seek;r&&"COMPLETED"===r.state&&e(void 0)}),this.onSeekIntent=this._buildEventHandle(function(e,t){!0===t.seeking&&e(void 0)}),this.onSeekRejection=this._buildEventHandle(function(e,t){var r=t.seek;r&&"ERROR"===r.state&&e(r.error)}),this.onPositionJumped=this._buildEventHandle(function(e,t){void 0!==t.positionJumped&&e(void 0)}),this.onEnded=this._buildEventHandle(function(e,t){!0===t.ended&&e(void 0)}),this.onLeftEnded=this._buildEventHandle(function(e,t){!1===t.ended&&e(void 0)}),this.onStallStart=this._buildEventHandle(function(e,t){!0===t.stalled&&e(void 0)}),this.onStallEnd=this._buildEventHandle(function(e,t){!1===t.stalled&&e(void 0)}),this.onLoadStart=this._buildEventHandle(function(e,t){!0===t.loading&&e(void 0)}),void(this.onLoadEnd=this._buildEventHandle(function(e,t){!1===t.loading&&e(void 0)})))}return e.prototype.isReady=function(){return this._stateManager.getState().ready},e.prototype.getPosition=function(){var e=this;return this._stateManager.update(function(t){if(t.dead)return e._positionWhenKilled;var r=e._getPositionOrPositionSeekingTo();return e._updateEnded(r),r})},e.prototype.getLastPlayedPosition=function(){var e=this._stateManager.getState(),t=e.actuallyPlaying,r=e.stalled;return t&&!r?this.getPosition():this._positionWhenStoppedPlaying},e.prototype.getListenTime=function(){var e=this._stateManager.getState(),t=e.actuallyPlaying,r=e.ended,n=this._listenTimeBase;return t&&!r&&(n+=d.now()-this._timePlaybackStarted),n},e.prototype.isStalled=function(){return this._stateManager.getState().stalled},e.prototype.isLoading=function(){return this._stateManager.getState().loading},e.prototype.isPlaying=function(){return this._stateManager.getState().playing},e.prototype.isActuallyPlaying=function(){return this._stateManager.getState().actuallyPlaying},e.prototype.isEnded=function(){return this._stateManager.getState().ended},e.prototype.getState=function(){return this._stateManager.getState().state},e.prototype.getUrlController=function(){return null},e.prototype.getBufferController=function(){return null},e.prototype.getMemoryCacheMaxSize=function(){return null},e.prototype.getMemoryCacheUsage=function(){return null},e.prototype.getMemoryCacheController=function(){return null},e.prototype.getFatalError=function(){return this._stateManager.update(function(e){return e.fatalError})},e.prototype.isDead=function(){return this._stateManager.getState().dead},e.prototype.getDuration=function(){var e=this._stateManager.getState(),t=e.ready,r=e.duration;return t?r:null},e.prototype.setVolume=function(e){if(e<0||e>1)throw new Error("Volume must be >= 0 and <= 1.");this._setVolume(e)},e.prototype.getCurrentBufferedTimeRange=function(){var e=this.getBufferedTimeRanges(),t=this.getPosition();return u.find(e,function(e){return e.containsTime(t)})||null},e.prototype.play=function(){var e=this;this._ensureNotDead(),this._logger.debug("play() called.");try{return this._stateManager.update(function(t){return t.playing?e._logger.debug("Intent is already to be playing."):(e._logger.debug("Requesting play."),t.playing=!0,e._lastPlayError=null),t.playDeferred&&!t.playDeferred.isSettled()||(t.playDeferred=l.buildDeferred()),t.playDeferred.promise})}catch(e){return this._triggerError(new i.PlayerFatalError("Unexpected error when attempting to play.",e)),o.Promise.reject(e)}},e.prototype.pause=function(){var e=this;this._ensureNotDead(),this._logger.debug("pause() called.");try{return this._stateManager.update(function(t){return t.playing?(e._logger.debug("Requesting pause."),t.playing=!1,e._lastPauseError=null):e._logger.debug("Intent is already to be paused."),t.pauseDeferred&&!t.pauseDeferred.isSettled()||(t.pauseDeferred=l.buildDeferred()),t.pauseDeferred.promise})}catch(e){return this._triggerError(new i.PlayerFatalError("Unexpected error when attempting to pause.",e)),o.Promise.reject(e)}},e.prototype.seek=function(e){var t=this;return this._ensureNotDead(),this._logger.debug("seek() called.",e),this._stateManager.update(function(r){if(e<0)return t._logger.warn("Rejecting seek immediately as the position was negative."),o.Promise.reject(new Error("You were attempting to seek to a negative time."));if(null!==r.duration&&e>r.duration)return t._logger.warn("Rejecting seek immediately as the duration is now known, and the requested positon was past it."),o.Promise.reject(new Error("You were attempting to seek past the end of the media."));try{var n=l.buildDeferred();return r.seek&&"IN_PROGRESS"===r.seek.state&&r.seek.position===e?t._logger.debug("Seek already requested to the same position.",e):(t._logger.debug("Requesting seek.",e),r.seeking=!0,r.seek={state:"IN_PROGRESS",position:e},r.positionJumped=Object.create(null),t._updateEnded(e)),t._queuedSeekDeferreds.push({position:e,deferred:n}),n.promise}catch(e){return t._triggerError(new i.PlayerFatalError("Unexpected error when attempting to seek.",e)),o.Promise.reject(e)}})},e.prototype.getSeekState=function(){return this._stateManager.getState().seek},e.prototype.kill=function(){var e=this;this._stateManager.update(function(t){t.dead||(e._logger.debug("kill() called."),t.dead=!0,e._positionWhenKilled=e._getPositionOrPositionSeekingTo(),e._updateEnded(e._positionWhenKilled))})},e.prototype._atomic=function(e){return this._stateManager.update(function(){return e()})},e.prototype._ensureNotDead=function(){if(this._stateManager.getState().dead)throw new Error("Player is dead.")},e.prototype._notifyStalled=function(e){this._stalled!==e&&(this._logger.debug("notifyStalled() called.",e),this._stalled=e,this._pendingPositionWhenStoppedPlaying=this.getPosition(),this._stateManager.update(function(){}))},e.prototype._getQueuedSeekPosition=function(){var e=this.getSeekState();return e&&"IN_PROGRESS"===e.state?e.position:null},e.prototype._provideDuration=function(e){var t=this;return this._stateManager.update(function(r){if(t._ensureNotDead(),r.duration!==e){var n=t._getPositionOrPositionSeekingTo();if(e<0||r.ready&&n>e)throw t._triggerError(new i.PlayerFatalError("Attempt to update duration to an invalid value.")),new Error("Duration cannot be less than the current position.");t._logger.debug("provideDuration() called.",e),r.ready?(r.duration=e,t._updateEnded(n)):t._queuedDuration=e}})},e.prototype._notifyPlaying=function(e){var t=this;return this._stateManager.update(function(r){if(t._ensureNotDead(),!r.ready)throw t._triggerError(new i.PlayerFatalError("Attempt to register playback as started before ready.")),new Error("Player must be ready first.");e!==r.actuallyPlaying&&(t._logger.debug("notifyPlaying() called.",e),e||(t._pendingPositionWhenStoppedPlaying=t.getPosition()),r.actuallyPlaying=r.playing=e,e?t._lastPlayError=null:t._lastPauseError=null)})},e.prototype._notifyPlayRejection=function(e){var t=this;return this._stateManager.update(function(r){if(t._ensureNotDead(),!r.ready)throw t._triggerError(new i.PlayerFatalError("Attempt to reject a play request before player ready.")),new Error("Player must be ready first.");if(r.actuallyPlaying||!r.playing)throw t._triggerError(new i.PlayerFatalError("Attempt to reject a play request when not valid.")),new Error("Playing state is incorrect.");t._logger.debug("notifyPlayRejection() called.",e),r.playing=!1,t._lastPlayError=e})},e.prototype._notifyPauseRejection=function(e){var t=this;return this._ensureNotDead(),this._stateManager.update(function(r){if(!r.ready)throw t._triggerError(new i.PlayerFatalError("Attempt to reject pause request before player ready.")),new Error("Player must be ready first.");if(!r.actuallyPlaying||r.playing)throw t._triggerError(new i.PlayerFatalError("Attempt to reject pause request when not valid.")),new Error("Playing state is incorrect.");t._logger.debug("notifyPauseRejection() called.",e),r.playing=!0,t._lastPauseError=e})},e.prototype._notifySeekRejection=function(e){var t=this;return this._ensureNotDead(),this._stateManager.update(function(r){if(!r.ready)throw new Error("Player must be ready first.");if(!r.seek||"IN_PROGRESS"!==r.seek.state)throw new Error("A seek hasn't been requested.");t._logger.debug("notifySeekRejection() called.",e),r.seeking=!1,r.seek={state:"ERROR",error:e},r.positionJumped=Object.create(null),t._updateEnded(t._getPositionOrPositionSeekingTo())})},e.prototype._signalReady=function(){var e=this;return this._ensureNotDead(),this._stateManager.update(function(t){if(t.ready)throw e._triggerError(new i.PlayerFatalError("Attempt to signal ready twice.")),new Error("Ready already signalled.");if(null===e._queuedDuration)throw e._triggerError(new i.PlayerFatalError("Attempt to signal ready when duration unknown.")),new Error("Duration is still unknown.");e._logger.debug("signalReady() called."),t.ready=!0,t.duration=e._queuedDuration,t.seek&&"IN_PROGRESS"===t.seek.state&&t.seek.position>t.duration&&(t.seeking=!1,t.seek={state:"ERROR",error:new Error("You were attempting to seek past the end of the media.")});var r=e._getPositionOrPositionSeekingTo();r>0&&e._signalPositionJump(),e._updateEnded(r)})},e.prototype._signalSeekComplete=function(){var e=this;return this._ensureNotDead(),this._stateManager.update(function(t){if(!t.ready)throw new Error("Player must be ready first.");if(!t.seek||"IN_PROGRESS"!==t.seek.state)throw new Error("There shouldn't be a seek in progress.");var r=t.duration;if(t.seek&&"IN_PROGRESS"===t.seek.state&&t.seek.position>r)throw new Error("Seek cannot have completed given it was to a time greater than the duration.");e._logger.debug("signalSeekComplete() called."),t.seek={state:"COMPLETED",position:t.seek.position},t.seeking=!1,e._updateEnded(e._getPositionOrPositionSeekingTo())})},e.prototype._signalPositionJump=function(){return this._stateManager.update(function(e){e.seek&&"IN_PROGRESS"===e.seek.state||(e.positionJumped=Object.create(null))})},e.prototype._signalEnded=function(){var e=this;return this._ensureNotDead(),this._stateManager.update(function(t){if(!t.ready)throw e._triggerError(new i.PlayerFatalError("Attempt to signal ended before player was ready.")),new Error("Player must be ready first.");if(!t.ended){if(t.seek&&"IN_PROGRESS"===t.seek.state)return void e._logger.debug("Ignoring signalEnded() call because a seek is in progress.");e._logger.debug("signalEnded() called."),t.ended=!0}})},e.prototype._signalNotEnded=function(){var e=this;return this._ensureNotDead(),this._stateManager.update(function(t){if(!t.ready)throw e._triggerError(new i.PlayerFatalError("Attempt to signal not ended before player was ready.")),new Error("Player must be ready first.");if(t.ended){if(null!==t.seek&&"IN_PROGRESS"===t.seek.state)return void e._logger.debug("Ignoring signalNotEnded() call because a seek is in progress.");e._logger.debug("signalNotEnded() called."),t.ended=!1}})},e.prototype._triggerError=function(e){var t=this;return this._ensureNotDead(),this._stateManager.update(function(r){var n=!1;if(r.ready&&e instanceof a.NotSupportedError&&(e=new i.PlayerFatalError("Invalid NotSupportedError."),n=!0),e instanceof i.PlayerFatalError){e instanceof a.NotSupportedError?t._logger.info("NotSupportedError occurred.",e):t._logger.error("Fatal error occurred.",e),r.fatalError?t._logger.warn("A fatal error already occurred."):r.fatalError=e,t._errors.push(e),r.errorOccurred=Object.create(null);try{t._positionWhenKilled=t.getPosition()}catch(e){t._logger.error("Tried to get position before player was killed but got exception.",e)}r.dead=!0}else t._logger.warn("Non-fatal error occurred.",e),t._errors.push(e),r.errorOccurred=Object.create(null);if(n)throw new Error("Not supported errors are only valid before the player is ready.")})},e.prototype._buildEventHandle=function(e){var t=this;return{subscribe:function(r){var n=function(e){return r(e,d.now())};return t._stateManager.subscribe(function(t){e(n,t)})}}},e.prototype._finalizeState=function(e){if(e.dead)this._lastPlayError=new Error("Player was killed."),e.loading=!1,this._clearLoadingDelay(),e.stalled=!0,e.actuallyPlaying=!1,e.playing=!1,e.state=c.State.DEAD;else{e.stalled=!e.ended&&(!e.ready||this._stalled||!(!e.seek||"IN_PROGRESS"!==e.seek.state));!e.ended&&(e.playing||e.actuallyPlaying)&&(e.stalled||e.playing!==e.actuallyPlaying)?this._loadingDelay?this._scheduleLoadingDelay():e.loading=!0:(e.loading=!1,this._clearLoadingDelay()),e.state=this._calculateState(e)}},e.prototype._scheduleLoadingDelay=function(){var e=this;this._loadingDelayTimer||(this._loadingDelayTimer=window.setTimeout(function(){e._stateManager.update(function(e){return e.loading=!0})},this._loadingDelay))},e.prototype._clearLoadingDelay=function(){this._loadingDelayTimer&&(window.clearTimeout(this._loadingDelayTimer),this._loadingDelayTimer=null)},e.prototype._getPositionOrPositionSeekingTo=function(){var e=this;return this._stateManager.update(function(t){if(t.seek&&"IN_PROGRESS"===t.seek.state)return t.seek.position;if(!t.ready||null===t.duration)return 0;var r=e._getPosition();if(t.seek&&"IN_PROGRESS"===t.seek.state)return t.seek.position;var n=t.duration;if(r<0)throw e._logger.error("Player provided invalid position.",r,n),e._triggerError(new i.PlayerFatalError("Player provided a position that was invalid.")),new Error("Player provided invalid position.");if(null!==n&&r>n)throw e._logger.error("Player provided invalid position.",r,n),e._triggerError(new i.PlayerFatalError("Player provided a position that was invalid.")),new Error("Player provided invalid position.");return r})},e.prototype._updateEnded=function(e){return this._stateManager.update(function(t){var r=t.duration,n=e===r&&t.ready;t.ended=n})},e.prototype._calculateState=function(e){var t=e.dead,r=e.loading,n=e.playing,o=e.ended;return t?c.State.DEAD:r?c.State.LOADING:n&&!o?c.State.PLAYING:c.State.PAUSED},e.prototype._registerMediaSessionActionHandlers=function(){var e=this;this._mediaSessionEnabled&&m&&(m.setActionHandler("play",function(){e.isDead()||e.play()}),m.setActionHandler("pause",function(){e.isDead()||e.pause()}),m.setActionHandler("seekbackward",function(){e.isDead()||e.seek(Math.max(0,e.getPosition()-5e3))}),m.setActionHandler("seekforward",function(){e.isDead()||e.seek(Math.min(e.getDuration()||0,e.getPosition()+5e3))}))},e.prototype._notifyMediaSessionPlaying=function(){this._mediaSessionEnabled&&m&&(m.playbackState="playing")},e.prototype._notifyMediaSessionPaused=function(){this._mediaSessionEnabled&&m&&(m.playbackState="paused")},e.prototype._afterUpdate=function(e){this._finalizeState(e)},e.prototype._afterDispatches=function(){var e=this,t=this._errors;this._errors=[],t.forEach(function(t){return e._onError.dispatch(t)})},e.prototype._onChange=function(e,t){var r=this,n=e.ready,o=e.dead,i=e.fatalError,a=e.playing,s=e.actuallyPlaying,l=e.ended;if(!1===s&&(this._positionWhenStoppedPlaying=this._pendingPositionWhenStoppedPlaying),!0===n&&(this._logger.debug("Resolving ready deferred."),this._readyDeferred.resolve(void 0)),!0===s&&this._registerMediaSessionActionHandlers(),!0===a?this._notifyMediaSessionPlaying():!1===a&&this._notifyMediaSessionPaused(),t.pauseDeferred&&!t.pauseDeferred.isSettled()&&t.playing){var u=this._lastPauseError||new Error("Pause request aborted.");this._logger.debug("Rejecting pause deferred.",u),t.pauseDeferred.reject(u)}if(t.playDeferred&&!t.playDeferred.isSettled()&&!t.playing){var u=this._lastPlayError||new Error("Play request aborted.");this._logger.debug("Rejecting play deferred.",u),t.playDeferred.reject(u)}if(t.playDeferred&&!t.playDeferred.isSettled()&&t.actuallyPlaying&&(this._logger.debug("Resolving play deferred."),t.playDeferred.resolve(void 0)),!t.pauseDeferred||t.pauseDeferred.isSettled()||t.actuallyPlaying||(this._logger.debug("Resolving pause deferred."),t.pauseDeferred.resolve(void 0)),!0===s&&!t.ended||!1===l&&t.actuallyPlaying?this._timePlaybackStarted=d.now():(!1===s&&!t.ended||!0===l&&t.actuallyPlaying)&&(this._listenTimeBase+=d.now()-this._timePlaybackStarted,this._timePlaybackStarted=null),this._queuedSeekDeferreds=this._queuedSeekDeferreds.filter(function(e){var n=e.position,o=e.deferred;if(t.seek)if("IN_PROGRESS"!==t.seek.state){if(!t.stalled||"ERROR"===t.seek.state)return"ERROR"!==t.seek.state?(r._logger.debug("Resolving seek()."),o.resolve(void 0)):(r._logger.debug("Rejecting seek().",t.seek.error),o.reject(t.seek.error)),!1}else if("IN_PROGRESS"!==t.seek.state||t.seek.position!==n)return r._logger.debug("Rejecting seek() because another seek was requested.",n),o.reject(new Error("Seek request aborted because another seek was requested to a different position.")),!1;return!0}),!0===o){if(this._logger.debug("Calling _kill() on player."),this._kill(),this._logger.info("Player killed."),!t.ready){var u=i||new Error("Player was killed.");this._logger.debug("Rejecting whenReady."),this._readyDeferred.reject(u)}this._queuedSeekDeferreds.forEach(function(e){var t=e.position,n=e.deferred,o=i||new Error("Seek aborted as player killed.");r._logger.debug("Rejecting seek().",t),n.reject(o)}),this._stateManager.kill(),this._logger.debug("Player dead.")}},e}();t.BasePlayer=v},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(7),i=r(4),a=r(0),s=r(3),l=function(e){function t(t){var r=e.call(this,t)||this;return r._errorHandler=null,r._changeHandler=null,r._player=null,r._instanceLock=null,r._position=0,r._volume=1,r._muted=!1,r._unsynced=!1,r._logger=s.prefixLogger(r._logger,"ProxyPlayerBase"),r}return n(t,e),t.prototype.getVolume=function(){return this._player&&!this._unsynced?this._player.getVolume():this._volume},t.prototype.getMuted=function(){return this._player&&!this._unsynced?this._player.getMuted():this._muted},t.prototype.setMuted=function(e){return this._player&&!this._unsynced?this._player.setMuted(e):void(this._muted=e)},t.prototype.getBufferedTimeRanges=function(){return this._player&&!this._unsynced?this._player.getBufferedTimeRanges():[]},t.prototype.getCurrentBufferedTimeRange=function(){return this._player&&!this._unsynced?this._player.getCurrentBufferedTimeRange():null},t.prototype.getMaxBufferLength=function(){return this._player&&!this._unsynced?this._player.getMaxBufferLength():null},t.prototype._providePlayer=function(e,t){if(void 0===t&&(t={syncPosition:!0,syncVolume:!0}),this._ensureNotDead(),this._player)throw new Error("A player has already been provided.");this._logger.debug("providePlayer() called."),this._instanceLock=Object.create(null),this._player=e,this._sync(t)},t.prototype._removePlayer=function(){if(this._ensureNotDead(),!this._player)throw new Error("There is no player to remove.");this._logger.debug("removePlayer() called."),this._unsync(),this._instanceLock=null,this._player=null},t.prototype._setInitialDuration=function(e){var t=this;if(this._ensureNotDead(),e<0)throw new Error("Cannot set duration to a value < 0.");null===this.getDuration()&&this._atomic(function(){t._fixPosition(e),t._provideDuration(e),t.isReady()||t._signalReady()})},t.prototype._triggerError=function(t){e.prototype._triggerError.call(this,t)},t.prototype._getPlayer=function(){return this.isDead()?null:this._player},t.prototype._setVolume=function(e){return this._player&&!this._unsynced?this._player.setVolume(e):void(this._volume=e)},t.prototype._handlePlayPauseChange=function(e){var t=this._player;t&&(e?this._playAndHandleAbort(t):this._pauseAndHandleAbort(t))},t.prototype._handleSeekChange=function(e){var t=this._player;t?t.seek(e):this._position=e},t.prototype._getPosition=function(){if(this._player&&!this._unsynced){if(!this._changeHandler)throw new Error("Handler should exist.");if(this._changeHandler.retrieve(),this._player)return this._player.getPosition()}return this._position},t.prototype._kill=function(){if(this._player&&!this._player.isDead()){if(!this._changeHandler)throw new Error("Handler should exist.");if(this._changeHandler.retrieve(),this._player&&(this._player.kill(),!this._unsynced))throw new Error("Unsync should have happened.")}this._player=null},t.prototype._fixPosition=function(e){this._position>e&&(this._logger.debug("A duration was provided that was less than the current position. Changing position to the duration.",e),this._position=e,this._signalPositionJump())},t.prototype._sync=function(e){var t=this,r=this._player;if(!r)throw new Error("Player should have become available by now.");return this._unsynced=!1,this._logger.debug("Syncing...",this.isPlaying(),this.isActuallyPlaying()),r.isDead()?void this._logger.debug("Provided player is dead."):(this._errorHandler=r.onError.subscribe(function(e){e instanceof a.PlayerFatalError||t._triggerError(e)}),this._changeHandler=r.onChange.subscribe(function(e){t._atomic(function(){if(e.dead)return t._logger.debug("Player has gone to DEAD state."),t._unsync(),void(t.isDead()||e.fatalError&&t._handleFatalError(e.fatalError));if(void 0!==e.duration&&(t._fixPosition(e.duration),t._provideDuration(e.duration),t.isReady()||(t._signalReady(),t._notifyStalled(r.isStalled()))),e.seek){var n=t.getSeekState();n&&"IN_PROGRESS"===n.state?"COMPLETED"===e.seek.state&&n.position===e.seek.position?t._signalSeekComplete():"COMPLETED"===e.seek.state&&n.position!==e.seek.position?t._notifySeekRejection(new Error("Another seek occurred to a different position.")):"IN_PROGRESS"===e.seek.state&&n.position!==e.seek.position?t.seek(e.seek.position):"ERROR"===e.seek.state&&t._notifySeekRejection(e.seek.error):"COMPLETED"===e.seek.state&&t._signalPositionJump()}!0===e.ended&&t._signalEnded(),!1===e.ended&&t._signalNotEnded(),void 0!==e.stalled&&t._notifyStalled(e.stalled),!1===e.playing&&e.playRejection?t.isActuallyPlaying()?(t._triggerError(new i.PlayerError("Paused because a player was provided that refused to play.")),t._notifyPlaying(!1)):t._notifyPlayRejection(e.playRejection):!1===e.playing&&(r.isActuallyPlaying()?t.pause():void 0===e.actuallyPlaying&&t.isReady()&&t._notifyPlaying(!1)),!0===e.playing&&e.pauseRejection?t._notifyPauseRejection(e.pauseRejection):!0===e.playing&&t.play(),void 0!==e.actuallyPlaying&&t._notifyPlaying(e.actuallyPlaying),e.positionJumped&&t._signalPositionJump()})}),void this._atomic(function(){try{if(!t.isReady()&&r.isReady()){t._logger.debug("Provided player is already ready. Making proxy player ready.");var n=r.getDuration();t._fixPosition(n),t._provideDuration(n),t._signalReady()}if(e.syncVolume&&(r.setVolume(t._volume),r.setMuted(t._muted)),e.syncPosition)t._logger.debug("Seeking to match position."),r.seek(t._position);else{var o=t.getSeekState();if(o&&"IN_PROGRESS"===o.state)t._logger.debug("Seeking to match position because a seek has been queued."),r.seek(t._position);else{var i=r.getSeekState();i&&"IN_PROGRESS"===i.state&&(t._logger.debug("Seeking on proxy to match seek that is in progress on provided player."),t.seek(i.position))}}t._position!==r.getPosition()&&t._signalPositionJump(),r.isActuallyPlaying()?(t._logger.debug("Provided player is already playing."),t._notifyPlaying(!0)):r.isPlaying()?(t._logger.debug("Provided player is preparing to play."),t.play()):t.isPlaying()?(t._logger.debug("Calling play() on provided player to match proxy."),t._playAndHandleAbort(r)):t.isReady()&&t.isActuallyPlaying()&&(t._logger.debug("Switching to paused state, as provided player and proxy intended state is paused."),t._notifyPlaying(!1))}catch(e){t._triggerError(new a.PlayerFatalError("Unexpected error occurred whilst syncing.",e))}}))},t.prototype._playAndHandleAbort=function(e){var t=this._instanceLock;this._logger.debug("Calling play() on provided player."),e.play(),this._instanceLock===t&&!e.isPlaying()&&this.isPlaying()&&(this._logger.debug("Provided player was not playing after play() call completed."),this.isActuallyPlaying()?(this._triggerError(new i.PlayerError("Paused because a player was provided that refused to play.")),this._notifyPlaying(!1)):this.pause())},t.prototype._pauseAndHandleAbort=function(e){var t=this._instanceLock;this._logger.debug("Calling pause() on provided player."),e.pause(),this._instanceLock===t&&e.isPlaying()&&!this.isPlaying()&&(this._logger.debug("Provided player was not paused after pause() call completed."),this.play())},t.prototype._unsync=function(){if(!this._unsynced){this._unsynced=!0,this._logger.debug("Unsyncing...");var e=this._player;if(e)try{this._volume=e.getVolume(),this._muted=e.getMuted(),this._position=e.getPosition()}catch(e){this._logger.error("Error whilst unsyncing.",e)}this._changeHandler&&(this._changeHandler.remove(),this._changeHandler=null),this._errorHandler&&(this._errorHandler.remove(),this._errorHandler=null),this._logger.debug("Unsynced.",this.isPlaying(),this.isActuallyPlaying()),this.isReady()&&!this.isDead()&&this._notifyStalled(!0)}},t}(o.BasePlayer);t.ProxyPlayerBase=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.LOADING=0]="LOADING",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.DEAD=3]="DEAD"}(t.State||(t.State={}))},function(e,t,r){(function(t,r){/*!
		 * @overview es6-promise - a tiny implementation of Promises/A+.
		 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
		 * @license   Licensed under MIT license
		 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
		 * @version   4.0.5
		 */
!function(t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function o(e){return"function"==typeof e}function i(e){Y=e}function a(e){V=e}function s(){return void 0!==G?function(){G(u)}:l()}function l(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;e<H;e+=2){(0,Q[e])(Q[e+1]),Q[e]=void 0,Q[e+1]=void 0}H=0}function d(e,t){var r=arguments,n=this,o=new this.constructor(p);void 0===o[ee]&&B(o);var i=n._state;return i?function(){var e=r[i-1];V(function(){return T(i,o,e,n._result)})}():C(n,o,e,t),o}function c(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(p);return _(r,e),r}function p(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(e){return oe.error=e,oe}}function m(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function v(e,t,r){V(function(e){var n=!1,o=m(r,t,function(r){n||(n=!0,t!==r?_(e,r):w(e,r))},function(t){n||(n=!0,E(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,E(e,o))},e)}function y(e,t){t._state===re?w(e,t._result):t._state===ne?E(e,t._result):C(t,void 0,function(t){return _(e,t)},function(t){return E(e,t)})}function A(e,t,r){t.constructor===e.constructor&&r===d&&t.constructor.resolve===c?y(e,t):r===oe?E(e,oe.error):void 0===r?w(e,t):o(r)?v(e,t,r):w(e,t)}function _(t,r){t===r?E(t,h()):e(r)?A(t,r,g(r)):w(t,r)}function b(e){e._onerror&&e._onerror(e._result),S(e)}function w(e,t){e._state===te&&(e._result=t,e._state=re,0!==e._subscribers.length&&V(S,e))}function E(e,t){e._state===te&&(e._state=ne,e._result=t,V(b,e))}function C(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+re]=r,o[i+ne]=n,0===i&&e._state&&V(S,e)}function S(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)n=t[a],o=t[a+r],n?T(r,n,o,i):o(i);e._subscribers.length=0}}function x(){this.error=null}function P(e,t){try{return e(t)}catch(e){return ie.error=e,ie}}function T(e,t,r,n){var i=o(r),a=void 0,s=void 0,l=void 0,u=void 0;if(i){if(a=P(r,n),a===ie?(u=!0,s=a.error,a=null):l=!0,t===a)return void E(t,f())}else a=n,l=!0;t._state!==te||(i&&l?_(t,a):u?E(t,s):e===re?w(t,a):e===ne&&E(t,a))}function k(e,t){try{t(function(t){_(e,t)},function(t){E(e,t)})}catch(t){E(e,t)}}function R(){return ae++}function B(e){e[ee]=ae++,e._state=void 0,e._result=void 0,e._subscribers=[]}function M(e,t){this._instanceConstructor=e,this.promise=new e(p),this.promise[ee]||B(this.promise),q(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):E(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function I(e){return new M(this,e).promise}function O(e){var t=this;return new t(q(e)?function(r,n){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(r,n)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function L(e){var t=this,r=new t(p);return E(r,e),r}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(e){this[ee]=R(),this._result=this._state=void 0,this._subscribers=[],p!==e&&("function"!=typeof e&&z(),this instanceof U?k(this,e):N())}function j(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=U}var F=void 0;F=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var q=F,H=0,G=void 0,Y=void 0,V=function(e,t){Q[H]=e,Q[H+1]=t,2===(H+=2)&&(Y?Y(u):$())},W="undefined"!=typeof window?window:void 0,X=W||{},K=X.MutationObserver||X.WebKitMutationObserver,J="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),$=void 0;$=J?function(){return function(){return t.nextTick(u)}}():K?function(){var e=0,t=new K(u),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}():Z?function(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}():void 0===W?function(){try{var e=n(34);return G=e.runOnLoop||e.runOnContext,s()}catch(e){return l()}}():l();var ee=Math.random().toString(36).substring(16),te=void 0,re=1,ne=2,oe=new x,ie=new x,ae=0;return M.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===te&&r<e;r++)this._eachEntry(t[r],r)},M.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===c){var o=g(e);if(o===d&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===U){var i=new r(p);A(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},M.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===te&&(this._remaining--,e===ne?E(n,r):this._result[t]=r),0===this._remaining&&w(n,this._result)},M.prototype._willSettleAt=function(e,t){var r=this;C(e,void 0,function(e){return r._settledAt(re,t,e)},function(e){return r._settledAt(ne,t,e)})},U.all=I,U.race=O,U.resolve=c,U.reject=L,U._setScheduler=i,U._setAsap=a,U._asap=V,U.prototype={constructor:U,then:d,catch:function(e){return this.then(null,e)}},U.polyfill=j,U.Promise=U,U}()}()}).call(t,r(25),r(33))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getCode=function(){return"DEPENDENCY_ERROR"},t}(o.PlayerFatalError);t.DependencyError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(t){return e.call(this,t||"The player cannot play the provided descriptor.")||this}return n(t,e),t.prototype.getCode=function(){return"NOT_SUPPORTED_ERROR"},t}(o.PlayerFatalError);t.NotSupportedError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),i=function(e){function t(t){var r=e.call(this,"The player that the proxy was controlling had a fatal error.")||this;return r._providedPlayerError=t,r}return n(t,e),t.prototype.getCode=function(){return"PROXY_PLAYER_PROVIDED_PLAYER_FATAL_ERROR"},t.prototype.getProvidedPlayerFatalError=function(){return this._providedPlayerError},t}(o.PlayerError);t.ProxyProvidedPlayerFatalError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(15);t.abortedError=new Error("Job aborted.");var i=function(){function e(e,t){void 0===t&&(t={}),this._job=e,this._opts=t,this._counter=0,this._jobControl=null,this._promise=null,this._jobCompleted=!1}return e.prototype.run=function(){var e=this;this._jobControl||(this._jobControl=this._job(),this._promise=this._jobControl.result,o.always(this._promise,function(){e._jobCompleted=!0,!1===e._opts.storeResult&&(e._jobCompleted=!1,e._promise=null,e._jobControl=null)}));var r=this._promise;this._counter++;var i=n.buildDeferred(),a=!1,s=!1,l=[],u=[],d=function(){s||(a=!0,e._counter--)};return o.always(r,d),r.then(function(e){s||(l.forEach(function(t){try{t(e)}catch(e){window.setTimeout(function(){throw e},0)}}),i.resolve(e))},function(e){s||(u.forEach(function(t){return t(e)}),i.reject(e))}),{whenComplete:function(){return i.promise},onCompletion:function(e){l.push(e)},onError:function(e){u.push(e)},hasCompleted:function(){return a},abort:function(r){s||a||(s=!0,0==--e._counter&&!e._jobCompleted&&e._jobControl&&e._jobControl.abort&&(e._jobControl.abort(r),e._promise=null,e._jobControl=null),u.forEach(function(e){return e(t.abortedError)}),i.reject(t.abortedError))}}},e}();t.AbortableJob=i},function(e,t,r){"use strict";function n(e,t){return e.then(t,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.always=n},function(e,t,r){"use strict";function n(){return s}function o(){var e=navigator.appVersion.match(u);if(e&&e.length>=3){var t=parseInt(e[1],10),r=parseInt(e[2],10);if(!isNaN(t)&&!isNaN(r))return{major:t,minor:r}}return null}function i(){return l}Object.defineProperty(t,"__esModule",{value:!0});var a="undefined"!=typeof navigator?navigator.userAgent:"",s=!/chrome|opera/i.test(a)&&/safari/i.test(a),l=a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0,u=/version\/(\d+)\.(\d+)/i;t.isSafari=n,t.getSafariVersion=o,t.isIE=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._counter=0,this._onExit=e,this._onEnter=t||null}return e.prototype.enter=function(e){1===++this._counter&&this._onEnter&&(this._enterReturnVal=this._onEnter());try{return e?e(this._enterReturnVal):void 0}finally{0===--this._counter&&this._onExit(this._enterReturnVal)}},e}();t.OnExit=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10);t.Promise=n.Promise},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r){this.url=e,this.protocol=t,this.format=r}return e.prototype.getUrl=function(){return this.url},e.prototype.getProtocol=function(){return this.protocol},e.prototype.getFormat=function(){return this.format},e}();t.Descriptor=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(12),i=r(26),a=r(13),s=r(4),l=r(0);!function(e){e.PlayerError=s.PlayerError,e.PlayerFatalError=l.PlayerFatalError,e.DependencyError=n.DependencyError,e.NotSupportedError=o.NotSupportedError,e.URLUpdateError=i.URLUpdateError,e.ProxyProvidedPlayerFatalError=a.ProxyProvidedPlayerFatalError}(t.errors||(t.errors={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(14),i=r(29),a=r(17),s=r(5),l=r(27),u=r(6),d=r(18),c=r(15),p=r(28),h=r(16),f=r(30);!function(e){e.OnExit=a.OnExit,e.find=s.find,e.Promise=d.Promise,e.always=c.always,e.compact=p.compact;!function(e){e.buildCache=l.buildCache}(e.cache||(e.cache={}));!function(e){e.buildDeferred=n.buildDeferred}(e.deferred||(e.deferred={}));!function(e){e.getExtension=f.getExtension,e.buildAbsoluteUrl=f.buildAbsoluteUrl}(e.url||(e.url={}));!function(e){e.AbortableJob=o.AbortableJob,e.abortedError=o.abortedError}(e.abortableJob||(e.abortableJob={}));!function(e){e.noMoreAttemptsError=i.noMoreAttemptsError,e.retry=i.retry,e.buildExponentialDelayCalculator=i.buildExponentialDelayCalculator}(e.retry||(e.retry={}));!function(e){e.isSafari=h.isSafari,e.getSafariVersion=h.getSafariVersion,e.isIE=h.isIE}(e.browser||(e.browser={}));!function(e){e.now=u.now}(e.time||(e.time={}))}(t.helpers||(t.helpers={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(2),i=function(){function e(){this._aborted=!1,this._requestStarted=!1,this._response=null,this._responseDeferred=n.buildDeferred(),this._requestStartedDeferred=n.buildDeferred(),this._onRequestStart=new o.EventDispatcher,this.onRequestStart=this._onRequestStart.getHandle(),this.whenRequestStarted=this._requestStartedDeferred.promise}return e.prototype.getResponse=function(){return this._responseDeferred.promise},e.prototype.hasRequestStarted=function(){return this._requestStarted},e.prototype.abort=function(){if(!this._aborted){if(this._aborted=!0,this._response)throw new Error("Already have a response.");this._abort(),this._responseDeferred.reject(new Error("Aborted.")),this._requestStarted||this._requestStartedDeferred.reject(new Error("Aborted."))}},e.prototype._provideResponse=function(e){if(this._aborted)throw new Error("Response aborted.");if(this._response)throw new Error("Response already provided.");if(e instanceof Error)this._aborted=!0,this._responseDeferred.reject(e);else{if(!this._requestStarted)throw new Error("Request hasn't started yet.");this._response=e,this._responseDeferred.resolve(e)}},e.prototype._signalRequestStart=function(){if(this._aborted)throw new Error("Response aborted.");if(this._requestStarted)throw new Error("Request already started.");this._requestStarted=!0,this._requestStartedDeferred.resolve(void 0),this._onRequestStart.dispatch(void 0)},e}();t.LoaderRequest=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(3),a=r(8),s=r(13),l=function(e){function t(t){var r=e.call(this,t)||this;return r._onPlayerProvided=new o.EventDispatcher,r._onPlayerRemoved=new o.EventDispatcher,r._shouldPassThroughFatalErrors=!!t.shouldPassThroughFatalErrors,r.onPlayerProvided=r._onPlayerProvided.getHandle(),r.onPlayerRemoved=r._onPlayerRemoved.getHandle(),r._logger=i.prefixLogger(r._logger,"ProxyPlayer"),r}return n(t,e),t.prototype.providePlayer=function(e,t){void 0===t&&(t={syncPosition:!0,syncVolume:!0}),this._providePlayer(e,t),this._onPlayerProvided.dispatch(e)},t.prototype.removePlayer=function(){var e=this._getPlayer();if(!e)throw new Error("There is no player to remove.");this._removePlayer(),this._onPlayerRemoved.dispatch(e)},t.prototype.setInitialDuration=function(e){this._setInitialDuration(e)},t.prototype.getPlayer=function(){return this._getPlayer()},t.prototype._handleFatalError=function(e){this._shouldPassThroughFatalErrors?this._triggerError(e):this._triggerError(new s.ProxyProvidedPlayerFatalError(e))},t}(a.ProxyPlayerBase);t.ProxyPlayer=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){if(this.start=e,this.duration=t,t<0)throw new RangeError("Duration must be >= 0.");this.end=e+t}return e.prototype.containsTime=function(e){return this.start<=e&&this.end>e},e}();t.TimeRange=n},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function a(){g&&h&&(g=!1,h.length?f=h.concat(f):m=-1,f.length&&s())}function s(){if(!g){var e=o(a);g=!0;for(var t=f.length;t;){for(h=f,f=[];++m<t;)h&&h[m].run();m=-1,t=f.length}h=null,g=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var d,c,p=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var h,f=[],g=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new l(e,t)),1!==f.length||g||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(t,r){return e.call(this,t||"The URL update failed for some reason.",r)||this}return n(t,e),t.prototype.getCode=function(){return"URL_UPDATE_ERROR"},t}(o.PlayerFatalError);t.URLUpdateError=i},function(e,t,r){"use strict";function n(){return i?new window.Map:new a}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i="undefined"!=typeof window&&"map"in window;t.buildCache=n;var a=function(){function e(){this._store=[]}return e.prototype.set=function(e,t){var r=o.find(this._store,function(t){return t.key===e});r?r.val=t:this._store.push({key:e,val:t})},e.prototype.get=function(e){var t=o.find(this._store,function(t){return t.key===e});if(t)return t.val},e}()},function(e,t,r){"use strict";function n(e){return e.filter(function(e){return null!=e})}Object.defineProperty(t,"__esModule",{value:!0}),t.compact=n},function(e,t,r){"use strict";function n(e,r,n,o){return void 0===n&&(n=window.setTimeout),void 0===o&&(o=window.clearTimeout),new i.AbortableJob(function(){var i=a.buildDeferred(),s=0,l=null,u=null,d=function(){l=e(s).run(),l.onCompletion(function(e){if(l=null,e.success)i.resolve(e.result);else{var o=r(++s);null!==o&&o<0?i.reject(new Error("Delay must be null or >= 0.")):null===o?i.reject(t.noMoreAttemptsError):u=n(function(){u=null,d()},o)}}),l.onError(function(e){l=null,i.reject(e)})};return d(),{result:i.promise,abort:function(){l&&l.abort(),u&&o(u)}}}).run()}function o(e){var t=void 0===e?{}:e,r=t.timeBase,n=void 0===r?500:r,o=t.threshold,i=void 0===o?3:o,a=t.delayCap,s=void 0===a?45e3:a,l=t.jitter,u=void 0===l?200:l,d=t.maxAttempts,c=void 0===d?null:d;if(n<=0)throw new Error("Time base must be > 0.");if(i<=0)throw new Error("Threshold must be > 0.");if(0===s)throw new Error("Delay cap must be null or > 0.");if(null!==c&&c<1)throw new Error("Max attempts must be >= 1.");return function(e){if(null!==c&&e>=c)return null;var t=e>0?Math.pow(2,e/i-1):0;return Math.min(t*n,s||1/0)+Math.round(Math.random()*u)}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(14),a=r(1);t.noMoreAttemptsError=new Error("No more attempts remaining."),t.retry=n,t.buildExponentialDelayCalculator=o},function(e,t,r){"use strict";function n(e){var t=a.exec(e);return t?t[1].toLowerCase():null}function o(e,t){return i.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}Object.defineProperty(t,"__esModule",{value:!0});var i=r(32),a=/^.*\.([^\.;\?#]*).*$/;t.getExtension=n,t.buildAbsoluteUrl=o},function(e,t,r){"use strict";function n(e){var t=Object.create(null);return Object.keys(e).forEach(function(r){t[r]=e[r]}),t}Object.defineProperty(t,"__esModule",{value:!0});var o=r(17),i=function(){},a=function(){function e(e,t){void 0===t&&(t={});var r=this;this._subscribers=[],this._onExit=new o.OnExit(function(){return r._after()}),this._dead=!1,this._state=n(e),this._initialState=n(e),this._afterUpdate=t.afterUpdate||i,this._afterDispatches=t.afterDispatches||i}return e.prototype.subscribe=function(e,t){var r=this;if(void 0===t&&(t=!0),this._dead){var o=!1;return{retrieve:function(){},remove:function(){return!o&&(o=!0)}}}var i=function(){var o={callback:e,localState:t?n(r._state):r._initialState};return r._subscribers.push(o),{remove:function(){var t=r._subscribers.map(function(e){return e.callback}).indexOf(e);return t>=0&&(r._subscribers.splice(t,1),!0)},retrieve:function(){r._updateSubscriber(o)}}};return t?i():this._onExit.enter(i)},e.prototype.subscribeIndividual=function(e,t,r){return this.subscribe(function(r){var n=r[e];void 0!==n&&t(n)},r)},e.prototype.getHandle=function(){return{subscribe:this.subscribe.bind(this)}},e.prototype.getIndividualHandle=function(e){var t=this;return{subscribe:function(r){return t.subscribeIndividual(e,r)}}},e.prototype.update=function(e){var t=this;return this._onExit.enter(function(){return e(t._state)})},e.prototype.getState=function(){return this._state},e.prototype.kill=function(){var e=this;this._dead||this._onExit.enter(function(){e._dead=!0})},e.prototype._after=function(){var e=this;try{this._afterUpdate(this._state)}finally{this._subscribers.forEach(function(t){return e._updateSubscriber(t)}),this._afterDispatches(this._state)}this._dead&&this._subscribers.splice(0)},e.prototype._updateSubscriber=function(e){var t=this._calculateDiff(e.localState);if(Object.keys(t).length){e.localState=n(this._state);try{e.callback(t,e.localState)}catch(e){window.setTimeout(function(){throw e},0)}}},e.prototype._calculateDiff=function(e){var t=this,r=Object.create(null);return Object.keys(this._state).forEach(function(n){var o=t._state[n];o!==e[n]&&(r[n]=o)}),r},e}();t.StateManager=a},function(e,t,r){!function(t){var r=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/;?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var o=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");return o.path=a.normalizePath(o.path),a.buildURLFromParts(o)}var i=this.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return r.alwaysNormalize?(i.path=a.normalizePath(i.path),a.buildURLFromParts(i)):t;var s=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(u.netLoc=s.netLoc,"/"!==i.path[0]))if(i.path){var d=s.path,c=d.substring(0,d.lastIndexOf("/")+1)+i.path;u.path=a.normalizePath(c)}else u.path=s.path,i.params||(u.params=s.params,i.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?a.normalizePath(i.path):i.path),a.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a}()},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="7.4.1",t.buildNumber=844;var n=r(2),o=r(22),i=r(3),a=r(23);t.ProxyPlayer=a.ProxyPlayer;var s=r(8);t.ProxyPlayerBase=s.ProxyPlayerBase;var l=r(20);t.errors=l.errors;var u=r(21);t.helpers=u.helpers;var d=r(7);t.BasePlayer=d.BasePlayer;var c=r(19);t.Descriptor=c.Descriptor;var p=r(9);t.State=p.State;var h=r(24);t.TimeRange=h.TimeRange;!function(e){e.EventDispatcher=n.EventDispatcher}(t.eventDispatcher||(t.eventDispatcher={}));!function(e){e.LoaderRequest=o.LoaderRequest}(t.loader||(t.loader={}));!function(e){e.noOpLogger=i.noOpLogger,e.consoleLogger=i.consoleLogger,e.prefixLogger=i.prefixLogger,e.cloneLogger=i.cloneLogger}(t.logger||(t.logger={}))}])}()}()},function(e,t,r){!function(t,n){e.exports=function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=36)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.getCode=function(){return"GENERIC"},e}();t.RetrievalError=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.MSE_ERROR"},t}(o.errors.PlayerFatalError);t.MSEError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=function(e){function t(t){var r=e.call(this)||this;return r._statusCode=t,r}return n(t,e),t.prototype.getStatusCode=function(){return this._statusCode},t.prototype.getCode=function(){return"UNACCEPTABLE_RESPONSE_STATUS_CODE"},t}(o.RetrievalError);t.UnacceptableResponseStatusCodeError=i},function(e,r){e.exports=t},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=function(e){function t(t){return e.call(this,"An error occurred trying to append to the buffer.",t)||this}return n(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.APPEND_ERROR"},t}(o.MSEError);t.AppendError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=function(e){function t(t){return e.call(this,"An error occurred trying to initialize the buffer.",t)||this}return n(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.INITIALIZE_ERROR"},t}(o.MSEError);t.InitializeError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(){return e.call(this,"A format could not be determined.")||this}return n(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.NO_FORMAT_DETERMINED_ERROR"},t}(o.errors.NotSupportedError);t.NoFormatDeterminedError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(){return e.call(this,"A transmuxer could not be found.")||this}return n(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.NO_TRANSMUXER_ERROR"},t}(o.errors.NotSupportedError);t.NoTransmuxerError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(t){var r=e.call(this,"An error occurred when trying to retrieve a segment.",t)||this;return r._internalRetrievalError=t,r}return n(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.RETRIEVAL_ERROR."+this._internalRetrievalError.getCode()},t}(o.errors.PlayerError);t.RetrievalError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(){return e.call(this,"The playlist type is not supported.")||this}return n(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.UNSUPPORTED_PLAYLIST_TYPE_ERROR"},t}(o.errors.PlayerFatalError);t.UnsupportedPlaylistTypeError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getCode=function(){return"NO_DECRYPTOR"},t}(o.RetrievalError);t.NoDecryptorError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=function(e){function t(t){var r=e.call(this)||this;return r._details=t,r}return n(t,e),t.prototype.getDetails=function(){return this._details},t.prototype.getCode=function(){return"PLAYLIST_PARSE"},t}(o.RetrievalError);t.PlaylistParseError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getCode=function(){return"UNSUPPORTED_ENCRYPTION_ERROR"},t}(o.RetrievalError);t.UnsupportedEncryptionError=i},function(e,t,r){"use strict";function n(e){var t=e.reduce(function(e,t){return e+t.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(e){r.set(e,n),n+=e.length}),r}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=r(19),a=r(20),s=o.helpers.Promise,l={rate:44100,id:3},u=l.rate;t.MP3ToMP4={getInputFormat:function(){return{mimeType:"audio/mpeg",audioCodec:{id:"mp3"}}},getOutputFormat:function(){return{mimeType:"audio/mp4",audioCodec:{id:"mp3"}}},transmux:function(e){return new s(function(t,r){function o(e){s||(s=!0,r(e))}var s=!1;try{var d=[],c=new i.MP3Parser,p=new a.MP4Mux({audioTrackId:0,videoTrackId:-1,tracks:[{codecId:2,channels:2,samplerate:l.rate,samplesize:16,timescale:u}]});if(p.ondata=function(e){return d.push(e)},c.onFrame=function(e){try{var t=new Uint8Array(e.length+1),r=32;r|=l.id<<2,r|=2,r|=1,t[0]=r,t.set(e,1);p.pushPacket(8,t,0)}catch(e){o(e)}},c.push(e),c.close(),p.flush(),0===d.length)o(new Error("There was no output."));else{var h=d.shift();h?function(e){s||t(e)}({initData:h,data:n(d)}):o(new Error("No init data."))}}catch(e){o(e)}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r(6),i=r(2),a=r(7),s=r(8),l=r(9),u=r(10);!function(e){e.AppendError=n.AppendError,e.InitializeError=o.InitializeError,e.MSEError=i.MSEError,e.NoFormatDeterminedError=a.NoFormatDeterminedError,e.NoTransmuxerError=s.NoTransmuxerError,e.RetrievalError=l.RetrievalError,e.UnsupportedPlaylistTypeError=u.UnsupportedPlaylistTypeError}(t.errors||(t.errors={}))},function(e,t,r){"use strict";function n(e){return void 0!==e.mimeType}function o(e,t){void 0===t&&(t={});var r=e.mimeType||t.mimeType,n=e.audioCodec||t.audioCodec,o=e.videoCodec||t.videoCodec,i=E([n,o]);return r+(i.length>0?'; codecs="'+i.map(function(e){return e.id}).join(",")+'"':"")}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),s=r(4),l=r(35),u=r(14),d=r(28),c=r(32),p=r(30),h=r(29),f=r(10),g=r(5),m=r(6),v=r(9),y=r(8),A=r(7),_=r(1),b=a.helpers.find,w=a.helpers.Promise,E=a.helpers.compact,C=a.helpers.time.now,S=a.helpers.deferred.buildDeferred,x=s.helpers.timeRanges.normalizeTimeRanges,P=a.errors.DependencyError,T=a.errors.PlayerFatalError,k=a.errors.URLUpdateError,R=a.eventDispatcher.EventDispatcher,B=a.logger.prefixLogger,M=a.helpers.abortableJob.abortedError,D=a.helpers.browser.getSafariVersion(),I=a.helpers.browser.isSafari(),O=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n._onPlaylistRequestQueued=new R,n._onPlaylistRequestStart=new R,n._onPlaylistRetrieved=new R,n._onPlaylistRequestFailed=new R,n._onKeyRequestQueued=new R,n._onKeyRequestStart=new R,n._onKeyRetrieved=new R,n._onKeyRequestFailed=new R,n._onPlaylistParseStart=new R,n._onPlaylistParseEnd=new R,n._onSegmentRequestQueued=new R,n._onSegmentRequestStart=new R,n._onSegmentRetrieved=new R,n._onSegmentRequestFailed=new R,n._onSegmentTransmuxStart=new R,n._onSegmentTransmuxEnd=new R,n._onSegmentDecryptionStart=new R,n._onSegmentDecryptionEnd=new R,n._onSegmentReady=new R,n._onSegmentAppendQueued=new R,n._onSegmentAppendEnd=new R,n._playlist=null,n._playlistSegmentRetriever=null,n._initialPlaylistRetrieveCompleted=!1,n._mse=null,n._simpleMSE=null,n._retrieveDurationDeferred=S(),n._html5PlayerReady=!1,n._startPositionOffset=0,n._transmuxerAndMSEType=null,n._lastSegmentAppended=null,n._maxBufferLength=null,n._cacheSize=null,n._onFirstSegmentRetrieved=null,n._seekAttemptTimer=null,n._seekMetadataEventHandle=null,n._playlistDuration=null,n._logger=B(n._logger,"HLSMSEPlayer"),n.onPlaylistRequestQueued=n._onPlaylistRequestQueued.getHandle(),n.onPlaylistRequestStart=n._onPlaylistRequestStart.getHandle(),n.onPlaylistRetrieved=n._onPlaylistRetrieved.getHandle(),n.onPlaylistRequestFailed=n._onPlaylistRequestFailed.getHandle(),n.onKeyRequestQueued=n._onKeyRequestQueued.getHandle(),n.onKeyRequestStart=n._onKeyRequestStart.getHandle(),n.onKeyRetrieved=n._onKeyRetrieved.getHandle(),n.onKeyRequestFailed=n._onKeyRequestFailed.getHandle(),n.onPlaylistParseStart=n._onPlaylistParseStart.getHandle(),n.onPlaylistParseEnd=n._onPlaylistParseEnd.getHandle(),n.onSegmentRequestQueued=n._onSegmentRequestQueued.getHandle(),n.onSegmentRequestStart=n._onSegmentRequestStart.getHandle(),n.onSegmentRetrieved=n._onSegmentRetrieved.getHandle(),n.onSegmentRequestFailed=n._onSegmentRequestFailed.getHandle(),n.onSegmentTransmuxStart=n._onSegmentTransmuxStart.getHandle(),n.onSegmentTransmuxEnd=n._onSegmentTransmuxEnd.getHandle(),n.onSegmentDecryptionStart=n._onSegmentDecryptionStart.getHandle(),n.onSegmentDecryptionEnd=n._onSegmentDecryptionEnd.getHandle(),n.onSegmentReady=n._onSegmentReady.getHandle(),n.onSegmentAppendQueued=n._onSegmentAppendQueued.getHandle(),n.onSegmentAppendEnd=n._onSegmentAppendEnd.getHandle(),n.__descriptor=t,n.__playerDependencies=r,n._url=t.getUrl(),n}return i(t,e),t.prototype.getBufferedTimeRanges=function(){var e=this._playlistSegmentRetriever;return e?x(e.getSegmentsWithData().map(function(e){return e.segment.getTimeRange()})):[]},t.prototype.getMaxBufferLength=function(){return this._maxBufferLength},t.prototype.getBufferController=function(){var e=this;return{setMaxBufferLength:function(t){if(t<0)throw new Error("Max buffer length cannot be < 0.");e._logger.debug("Updating max buffer length.",t),e._maxBufferLength=t,e._playlistSegmentRetriever?e._playlistSegmentRetriever.updateMaxBufferLength(t):e._logger.debug("Cannot update right now. Playlist segment retriever doesn't exist.")}}},t.prototype.getUrlController=function(){var e=this;return{updateUrl:function(t){return e._logger.debug("Updating URL.",t),e._url=t,e._playlist?(e._playlistRetrieveJob&&(e._playlistRetrieveJob.abort(),e._playlistRetrieveJob=null,e._logger.debug("Aborted playlist retrieve job.")),e._playlistSegmentRetriever&&(e._playlistSegmentRetriever.switchPlaylist(null),e._logger.debug("Removed current URL.")),e._playlist=null,void e._retrievePlaylist()):void e._logger.debug("Cannot update right now. Playlist doesn't exist yet.")}}},t.prototype.getMemoryCacheMaxSize=function(){return null!==this._cacheSize?this._cacheSize:1e8},t.prototype.getMemoryCacheUsage=function(){return this._playlistSegmentRetriever?this._playlistSegmentRetriever.getCacheUsage():0},t.prototype.getMemoryCacheController=function(){var e=this;return{setMaxCacheSize:function(t){if(t<0)throw new Error("Max size cannot be < 0.");e._logger.debug("Updating maximum cache size.",t),e._cacheSize=t,e._playlistSegmentRetriever&&e._playlistSegmentRetriever.updateCacheSize(t)}}},t.prototype._canPlay=function(){var t=this;return d.MSE.isSupported()?e.prototype._canPlay.call(this).then(function(e){if(!0!==e)return w.resolve(e);var r=t.__playerDependencies.expectedSegmentFormat;if(!r||!n(r))return t._logger.debug("Format could not be determined."),w.resolve(new A.NoFormatDeterminedError);var i=t._findTransmuxer(r);if(!i)return t._logger.debug("No transmuxer found."),w.resolve(new y.NoTransmuxerError);var a=i.getOutputFormat(),s=r;return t._transmuxerAndMSEType={transmuxer:i,mseType:o(a,s)},w.resolve(!0)}):(this._logger.debug("MSE not supported."),w.resolve(!1))},t.prototype._canPlayProtocol=function(e){return"hls"===e.name},t.prototype._canPlayType=function(e){return"application/x-mpegURL"===e},t.prototype._retrieveDuration=function(){return this._retrieveDurationDeferred.promise},t.prototype._signalReady=function(){this._html5PlayerReady=!0,this._initialPlaylistRetrieveCompleted&&e.prototype._signalReady.call(this)},t.prototype._initialize=function(){var t=this.__playerDependencies;if(null===this._maxBufferLength)if(void 0!==t.maxBufferLength){if(t.maxBufferLength<0)return void this._triggerError(new P("maxBufferLength cannot be < 0."));this._maxBufferLength=t.maxBufferLength}else this._maxBufferLength=3e4;if(this._logger.debug("Initialized max buffer length.",this._maxBufferLength),null===this._cacheSize)if(void 0!==t.memoryCacheSize){if(t.memoryCacheSize<0)return void this._triggerError(new P("memoryCacheSize cannot be < 0."));this._cacheSize=t.memoryCacheSize}else this._cacheSize=1e8;this._logger.debug("Initialized cache size.",this._cacheSize),e.prototype._initialize.call(this),this._retrievePlaylist()},t.prototype._initMediaElement=function(t,r){if(this._simpleMSE&&(this._simpleMSE.kill(),this._simpleMSE=null,this._logger.debug("Killed SimpleMSE.")),this._mse&&(this._mse.kill(),this._mse=null,this._logger.debug("Killed MSE.")),null!==this._seekAttemptTimer&&(window.clearTimeout(this._seekAttemptTimer),this._seekAttemptTimer=null,this._logger.debug("Cancelled seek attempt timer.")),this._onFirstSegmentRetrieved=null,this._seekMetadataEventHandle&&(this._seekMetadataEventHandle.remove(),this._seekMetadataEventHandle=null),null===r)e.prototype._initMediaElement.call(this,t,null);else{this._initMSE();var n=this._mse.getUrl();this._logger.debug("Setting MSE url.",n),e.prototype._initMediaElement.call(this,t,n)}},t.prototype._handleEndedEvent=function(){},t.prototype._shouldBeEnded=function(){if(e.prototype._shouldBeEnded.call(this))return!0;if(!this.getMediaElement())return!1;var t=this._duration;return this._stallDetected&&null!==t&&this._getTruePosition()>=t-400},t.prototype._getTruePosition=function(){if(!this.getMediaElement())throw new Error("Media element should exist.");return this._startPositionOffset+this._getMediaElementPosition()},t.prototype._handleSeekChange=function(t){this._playlistSegmentRetriever&&(this._logger.debug("Explicitly updating playlist segment retriever, as seek requested."),this._playlistSegmentRetriever.update()),e.prototype._handleSeekChange.call(this,t)},t.prototype._performSeek=function(t,r){var n=this,o=this,i=o._simpleMSE,a=o._mse,s=this.getMediaElement();if(!i)throw new Error("SimpleMSE should exist.");if(!a)throw new Error("MSE should exist.");if(!s)throw new Error("Media element should exist.");var l=!s.paused;null!==this._seekAttemptTimer&&(window.clearTimeout(this._seekAttemptTimer),this._seekAttemptTimer=null,this._logger.debug("Cancelled previous seek attempt timer.")),this._seekMetadataEventHandle&&(this._seekMetadataEventHandle.remove(),this._seekMetadataEventHandle=null,this._logger.debug("Removed previous loaded metadata event handler.")),i.kill(),a.kill(),this._logger.debug("SimpleMSE and MSE destroyed."),this._startPositionOffset=t;var u=null;this._onFirstSegmentRetrieved=function(e){return u=e},this._logger.debug("Initializing MSE and SimpleMSE for new position."),this._initMSE();var d=this._mse.getUrl();if(this._logger.debug("Updated media element MSE src.",d),e.prototype._initMediaElement.call(this,s,d),l){this._logger.debug("Calling play() on media element as it was playing previously.");var c=s.play();c&&c.catch&&c.catch(function(e){"AbortError"!==e.name&&(n._logger.error("Unexpected play() error.",e),n._triggerError(new T("Exception from calling play() after seek.",e)))})}var p=function(e){I&&e<50&&(n._logger.debug("Tweaking offset to fix issue in Safari."),e=50);var t=function(){n._startPositionOffset=Math.max(0,n._startPositionOffset-e),n._logger.debug("Updated start position offset.",n._startPositionOffset,e);var t=function(){n._seekAttemptTimer=null,n._logger.debug("Attempting to seek to the required offset.",e),s.currentTime=e/1e3;var o=1e3*s.currentTime;Math.abs(o-e)<=100?(n._logger.debug("Seeked to the required offset.",o),r()):(n._logger.warn("Seek attempt failed. Trying again shortly.",o),n._seekAttemptTimer=window.setTimeout(t,50))};t()};n._onFirstSegmentRetrieved=null,s.readyState===s.HAVE_METADATA?(n._logger.debug("Media element has metadata. Seeking to offset."),t()):(n._logger.debug("Media element has not loaded metadata. Waiting for metadata..."),n._seekMetadataEventHandle=n._listenToOnce("loadedmetadata",function(){n._seekMetadataEventHandle=null,n._logger.debug("Got metadata. Seeking to offset."),t()},{earlyAttach:!0}))};null!==u?(this._logger.debug("First segment already retrieved. Preparing to seek to initial offset."),p(u)):(this._logger.debug("Waiting for first segment to be retrieved."),this._onFirstSegmentRetrieved=function(e){n._logger.debug("First segment retrieved. Preparing to seek to initial offset."),p(e)})},t.prototype._kill=function(){this._simpleMSE&&(this._logger.debug("Killing SimpleMSE."),this._simpleMSE.kill()),this._mse&&(this._logger.debug("Killing MSE."),this._mse.kill()),this._playlistRetrieveJob&&(this._logger.debug("Aborting playlist retrieve job."),this._playlistRetrieveJob.abort()),this._playlistSegmentRetriever&&(this._logger.debug("Killing playlist segment retriever."),this._playlistSegmentRetriever.kill()),e.prototype._kill.call(this)},t.prototype._initMSE=function(){var e=this;if(!this._transmuxerAndMSEType)throw new Error("Transmuxer should have been configured.");this._lastSegmentAppended=null;var t=!1;D&&D.major<10&&this._transmuxerAndMSEType.transmuxer===u.MP3ToMP4&&(t=!0);var r=new d.MSE(this._transmuxerAndMSEType.mseType,this._logger,t),n=new c.SimpleMSE(r,function(){return e.getSegmentDataToAppendNext()},function(){return e._getMediaElementPosition()},function(t){e._triggerError(new g.AppendError(t))},this._logger);n.onAppendQueued.subscribe(this._onSegmentAppendQueued.dispatch),n.onAppendEnd.subscribe(this._onSegmentAppendEnd.dispatch),this._simpleMSE=n,n.start(),this._mse=r,r.whenInitialized().catch(function(t){t!==d.killedError&&(e._logger.error("Error during mse initialization.",t),e._triggerError(new m.InitializeError(t)))})},t.prototype._getMediaElementPosition=function(){var e=this.getMediaElement();if(!e)throw new Error("No media element.");return 1e3*e.currentTime},t.prototype._whenPlaylistRetrieved=function(){var t=this,r=this._playlist;if(!r)throw new Error("Playlist should have been retrieved.");var n=!this._initialPlaylistRetrieveCompleted;if(n)this._initialPlaylistRetrieveCompleted=!0,this._playlistDuration=r.getTotalDuration(),this._retrieveDurationDeferred.resolve(this._playlistDuration);else{var o=r.getTotalDuration();if(this._playlistDuration!==o)return this._logger.error("The duration from the new URL did not match the previous one."),void this._triggerError(new k("The duration from the new URL did not match the previous one.",{oldDuration:this._playlistDuration,newDuration:o}))}if(!this._transmuxerAndMSEType)throw new Error("Transmuxer should have been configured.");if(this._playlistSegmentRetriever)this._logger.debug("Switching playlist for playlist segment retriever."),this._playlistSegmentRetriever.switchPlaylist(r);else{var i=this._maxBufferLength;if(null===i)throw new Error("maxBufferLength should have been initiaized by now.");this._logger.debug("Creating playlist segment retriever.");var a=this._cacheSize;if(null===a)throw new Error("cacheSize should be set.");var s=new h.PlaylistSegmentRetriever({playlist:r,getPosition:function(){return t.getPosition()},maxBufferLength:i,cacheSize:a,transmuxer:this._transmuxerAndMSEType.transmuxer,logger:this._logger});s.onSegmentRequestQueued.subscribe(this._onSegmentRequestQueued.dispatch),s.onSegmentRequestStart.subscribe(this._onSegmentRequestStart.dispatch),s.onSegmentRetrieved.subscribe(this._onSegmentRetrieved.dispatch),s.onSegmentRequestFailed.subscribe(this._onSegmentRequestFailed.dispatch),s.onSegmentDecryptionStart.subscribe(this._onSegmentDecryptionStart.dispatch),s.onSegmentDecryptionEnd.subscribe(this._onSegmentDecryptionEnd.dispatch),s.onSegmentTransmuxStart.subscribe(this._onSegmentTransmuxStart.dispatch),s.onSegmentTransmuxEnd.subscribe(this._onSegmentTransmuxEnd.dispatch),this._playlistSegmentRetriever=s,s.onError.subscribe(function(e){t._logger.error("Error from playlist segment retriever.",e),e instanceof _.RetrievalError?t._triggerError(new v.RetrievalError(e)):t._triggerError(new T("Unexpected error when trying to retrieve segment.",e))}),s.onSegmentReady.subscribe(function(e){var r=e.eventRepresentation,n=C();t._logger.debug("Segment ready.",r),function(){var e=t._simpleMSE;if(e&&e.waitingForSegmentData()){var n=t.getSegmentDataToAppendNext();n&&(t._logger.debug("Providing segment to SimpleMSE.",r),e.provideNextSegmentData(n))}}(),t._onSegmentReady.dispatch({segment:r},{time:n})})}this._initialPlaylistRetrieveCompleted=!0,n&&this._html5PlayerReady&&e.prototype._signalReady.call(this)},t.prototype._retrievePlaylist=function(){var e=this;if(this._playlist)throw new Error("Playlist already exists.");var t=this.__playerDependencies,r=t.playlistLoader,n=t.segmentLoader,o=t.keyLoader,i=t.expectedSegmentFormat,a=t.isPlaylistResponseCodeAcceptable,s=t.isPlaylistResponseCodeRetryable,l=t.isSegmentResponseCodeAcceptable,u=t.isSegmentResponseCodeRetryable,d=t.isKeyResponseCodeAcceptable,c=t.isKeyResponseCodeRetryable;this._logger.debug("Creating playlist.",this._url);var h=new p.Playlist({url:this._url,segmentFormat:i,playlistLoader:r,segmentLoader:n,keyLoader:o,isPlaylistResponseCodeAcceptable:a,isPlaylistResponseCodeRetryable:s,isSegmentResponseCodeAcceptable:l,isSegmentResponseCodeRetryable:u,isKeyResponseCodeAcceptable:d,isKeyResponseCodeRetryable:c,logger:this._logger});h.onPlaylistRequestQueued.subscribe(this._onPlaylistRequestQueued.dispatch),h.onPlaylistRequestStart.subscribe(this._onPlaylistRequestStart.dispatch),h.onPlaylistRetrieved.subscribe(this._onPlaylistRetrieved.dispatch),h.onPlaylistRequestFailed.subscribe(this._onPlaylistRequestFailed.dispatch),h.onKeyRequestQueued.subscribe(this._onKeyRequestQueued.dispatch),h.onKeyRequestStart.subscribe(this._onKeyRequestStart.dispatch),h.onKeyRetrieved.subscribe(this._onKeyRetrieved.dispatch),h.onKeyRequestFailed.subscribe(this._onKeyRequestFailed.dispatch),h.onPlaylistParseStart.subscribe(this._onPlaylistParseStart.dispatch),h.onPlaylistParseEnd.subscribe(this._onPlaylistParseEnd.dispatch),this._playlist=h,this._playlistRetrieveJob=this._playlist.retrieve(),this._playlistRetrieveJob.onCompletion(function(){var t=e._playlist.getType();t!==p.PlaylistType.VOD?(e._logger.error("Unsupported playlist type.",t),e._triggerError(new f.UnsupportedPlaylistTypeError)):(e._logger.debug("Playlist retrieved."),e._whenPlaylistRetrieved())}),this._playlistRetrieveJob.onError(function(t){t!==M&&(e._logger.error("Error when retrieving playlist.",t),t instanceof _.RetrievalError?e._triggerError(new v.RetrievalError(t)):e._triggerError(new T("Unexpected error when retrieving playlist.",t)))})},t.prototype._findTransmuxer=function(e){var t=l.TransmuxerFactory.retrieveTransmuxers(e);this._logger.info("Finding a transmuxer...");var r=b(t,function(t){return d.MSE.isSupported(o(t.getOutputFormat(),e))})||null;return r?this._logger.info("Transmuxer found."):this._logger.warn("No transmuxer found."),r},t.prototype.getSegmentDataToAppendNext=function(){this._logger.debug("Looking for segment to append next.");var e=this._playlistSegmentRetriever;if(!e)return this._logger.debug("No segment retriever."),null;var t=this._lastSegmentAppended;if(t){var r=e.getSegmentsWithData(),n=r[r.map(function(e){return e.segment}).indexOf(t)+1];return n?(this._logger.debug("Found segment.",n.eventRepresentation),this._lastSegmentAppended=n.segment,{data:n.data,eventRepresentation:n.eventRepresentation}):(this._logger.debug("No segment found."),null)}var o=this.getPosition(),n=b(e.getSegmentsWithData(),function(e){return e.segment.getTimeRange().containsTime(o)});if(!n)return this._logger.debug("No segment found."),null;var i=o-n.segment.getTimeRange().start;if(!this.getMediaElement())throw new Error("Media element should exist.");this._logger.debug("Found initial segment.",n.eventRepresentation),this._lastSegmentAppended=n.segment,this._onFirstSegmentRetrieved&&this._onFirstSegmentRetrieved(i);var a=n.data,s=n.initData,l=a;return s&&(this._logger.debug("Prepending init data."),l=new Uint8Array(s.length+a.length),l.set(s,0),l.set(a,s.length)),{data:l,eventRepresentation:n.eventRepresentation}},t}(s.HTML5Player);t.HLSMSEPlayer=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(12),i=r(1),a=r(3),s=r(13);!function(e){e.NoDecryptorError=n.NoDecryptorError,e.PlaylistParseError=o.PlaylistParseError,e.RetrievalError=i.RetrievalError,e.UnacceptableResponseStatusCodeError=a.UnacceptableResponseStatusCodeError,e.UnsupportedEncryptionError=s.UnsupportedEncryptionError}(t.retrievalErrors||(t.retrievalErrors={}))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.AESDecryptor=function(){function e(){n(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return o(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<r.length;n++)r[n]=t.getUint32(4*n);return r}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,r=this.subMix[0],n=this.subMix[1],o=this.subMix[2],i=this.subMix[3],a=this.invSubMix[0],s=this.invSubMix[1],l=this.invSubMix[2],u=this.invSubMix[3],d=new Uint32Array(256),c=0,p=0,h=0;for(h=0;h<256;h++)d[h]=h<128?h<<1:h<<1^283;for(h=0;h<256;h++){var f=p^p<<1^p<<2^p<<3^p<<4;f=f>>>8^255&f^99,e[c]=f,t[f]=c;var g=d[c],m=d[g],v=d[m],y=257*d[f]^16843008*f;r[c]=y<<24|y>>>8,n[c]=y<<16|y>>>16,o[c]=y<<8|y>>>24,i[c]=y,y=16843009*v^65537*m^257*g^16843008*c,a[f]=y<<24|y>>>8,s[f]=y<<16|y>>>16,l[f]=y<<8|y>>>24,u[f]=y,c?(c=g^d[d[d[v^g]]],p^=d[d[p]]):c=p=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var o=this.keySize=t.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);var i=this.ksRows=4*(o+6+1),a=void 0,s=void 0,l=this.keySchedule=new Uint32Array(this.ksRows),u=this.invKeySchedule=new Uint32Array(this.ksRows),d=this.sBox,c=this.rcon,p=this.invSubMix[0],h=this.invSubMix[1],f=this.invSubMix[2],g=this.invSubMix[3],m=void 0,v=void 0;for(a=0;a<i;a++)a<o?m=l[a]=t[a]:(v=m,a%o==0?(v=v<<8|v>>>24,v=d[v>>>24]<<24|d[v>>>16&255]<<16|d[v>>>8&255]<<8|d[255&v],v^=c[a/o|0]<<24):o>6&&a%o==4&&(v=d[v>>>24]<<24|d[v>>>16&255]<<16|d[v>>>8&255]<<8|d[255&v]),l[a]=m=(l[a-o]^v)>>>0);for(s=0;s<i;s++)a=i-s,v=3&s?l[a]:l[a-4],u[s]=s<4||a<=4?v:p[d[v>>>24]]^h[d[v>>>16&255]]^f[d[v>>>8&255]]^g[d[255&v]],u[s]=u[s]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,r){for(var n,o,i=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,l=this.invSubMix[0],u=this.invSubMix[1],d=this.invSubMix[2],c=this.invSubMix[3],p=this.uint8ArrayToUint32Array_(r),h=p[0],f=p[1],g=p[2],m=p[3],v=new Int32Array(e),y=new Int32Array(v.length),A=void 0,_=void 0,b=void 0,w=void 0,E=void 0,C=void 0,S=void 0,x=void 0,P=void 0,T=void 0,k=void 0,R=void 0;t<v.length;){for(P=this.networkToHostOrderSwap(v[t]),T=this.networkToHostOrderSwap(v[t+1]),k=this.networkToHostOrderSwap(v[t+2]),R=this.networkToHostOrderSwap(v[t+3]),E=P^a[0],C=R^a[1],S=k^a[2],x=T^a[3],n=4,o=1;o<i;o++)A=l[E>>>24]^u[C>>16&255]^d[S>>8&255]^c[255&x]^a[n],_=l[C>>>24]^u[S>>16&255]^d[x>>8&255]^c[255&E]^a[n+1],b=l[S>>>24]^u[x>>16&255]^d[E>>8&255]^c[255&C]^a[n+2],w=l[x>>>24]^u[E>>16&255]^d[C>>8&255]^c[255&S]^a[n+3],E=A,C=_,S=b,x=w,n+=4;A=s[E>>>24]<<24^s[C>>16&255]<<16^s[S>>8&255]<<8^s[255&x]^a[n],_=s[C>>>24]<<24^s[S>>16&255]<<16^s[x>>8&255]<<8^s[255&E]^a[n+1],b=s[S>>>24]<<24^s[x>>16&255]<<16^s[E>>8&255]<<8^s[255&C]^a[n+2],w=s[x>>>24]<<24^s[E>>16&255]<<16^s[C>>8&255]<<8^s[255&S]^a[n+3],n+=3,y[t]=this.networkToHostOrderSwap(A^h),y[t+1]=this.networkToHostOrderSwap(w^f),y[t+2]=this.networkToHostOrderSwap(b^g),y[t+3]=this.networkToHostOrderSwap(_^m),h=P,f=T,g=k,m=R,t+=4}return y.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}()},function(e,t,r){"use strict";function n(){this.buffer=null,this.bufferSize=0}t.__esModule=!0,t.MP3Parser=n;var o=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],i=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];n.prototype.push=function(e){var t;if(this.bufferSize>0){var r=e.length+this.bufferSize;if(!this.buffer||this.buffer.length<r){var n=new Uint8Array(r);this.bufferSize>0&&n.set(this.buffer.subarray(0,this.bufferSize)),this.buffer=n}this.buffer.set(e,this.bufferSize),this.bufferSize=r,e=this.buffer,t=r}else t=e.length;for(var o,i=0;i<t&&(o=this._parse(e,i,t))>0;)i+=o;var a=t-i;a>0&&(!this.buffer||this.buffer.length<a?this.buffer=new Uint8Array(e.subarray(i,t)):this.buffer.set(e.subarray(i,t))),this.bufferSize=a},n.prototype._parse=function(e,t,r){if(t+2>r)return-1;if(255===e[t]||224==(224&e[t+1])){if(t+24>r)return-1;var n=e[t+1]>>3&3,a=e[t+1]>>1&3,s=e[t+2]>>4&15,l=e[t+2]>>2&3,u=!!(2&e[t+2]);if(1!==n&&0!==s&&15!==s&&3!==l){var d=3===n?3-a:3===a?3:4,c=1e3*o[14*d+s-1],p=3===n?0:2===n?1:2,h=i[3*p+l],f=u?1:0,g=3===a?(3===n?12:6)*c/h+f<<2:(3===n?144:72)*c/h+f|0;return t+g>r?-1:(this.onFrame&&this.onFrame(e.subarray(t,t+g)),g)}}for(var m=t+2;m<r;){if(255===e[m-1]&&224==(224&e[m]))return this.onNoise&&this.onNoise(e.subarray(t,m-1)),m-t-1;m++}return-1},n.prototype.close=function(){this.bufferSize>0&&this.onNoise&&this.onNoise(this.buffer.subarray(0,this.bufferSize)),this.buffer=null,this.bufferSize=0,this.onClose&&this.onClose()}},function(e,t,r){"use strict";t.__esModule=!0;var n,o,i=function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};!function(e){!function(e){function t(e){for(var t=new Uint8Array(4*e.length),r=0,n=0,o=e.length;n<o;n++){var i=e.charCodeAt(n);if(i<=127)t[r++]=i;else{if(55296<=i&&i<=56319){var a=e.charCodeAt(n+1);56320<=a&&a<=57343&&(i=((1023&i)<<10)+(1023&a)+65536,++n)}0!=(4292870144&i)?(t[r++]=248|i>>>24&3,t[r++]=128|i>>>18&63,t[r++]=128|i>>>12&63,t[r++]=128|i>>>6&63,t[r++]=128|63&i):0!=(4294901760&i)?(t[r++]=240|i>>>18&7,t[r++]=128|i>>>12&63,t[r++]=128|i>>>6&63,t[r++]=128|63&i):0!=(4294965248&i)?(t[r++]=224|i>>>12&15,t[r++]=128|i>>>6&63,t[r++]=128|63&i):(t[r++]=192|i>>>6&31,t[r++]=128|63&i)}}return t.subarray(0,r)}function r(e){for(var t=0,r="";t<e.length;){var n=255&e[t++];if(n<=127)r+=String.fromCharCode(n);else{var o=192,i=5;do{if((n&(o>>1|128))===o)break;o=o>>1|128,--i}while(i>=0);if(i<=0)throw new Error("Invalid UTF8 character");for(var a=n&(1<<i)-1,s=5;s>=i;--s){var l=e[t++];if(128!=(192&l))throw new Error("Invalid UTF8 character sequence");a=a<<6|63&l}r+=a>=65536?String.fromCharCode(a-65536>>10&1023|55296,1023&a|56320):String.fromCharCode(a)}}return r}e.utf8decode=t,e.utf8encode=r}(e.StringUtilities||(e.StringUtilities={}))}(o||(o={})),function(e){!function(e){function t(e){for(var t=e.length>>1,r=new Uint8Array(t),n=0;n<t;n++)r[n]=parseInt(e.substr(2*n,2),16);return r}function r(e){var t,r=0,n=a.RAW,o=e[r],i=o>>4,c=o>>2&3,p=2&o?16:8,h=1&o?2:1;switch(r++,i){case d:n=e[r++],t=1024;break;case u:var f=e[r+1]>>3&3,g=e[r+1]>>1&3;t=1===g?3===f?1152:576:3===g?384:1152}return{codecDescription:l[i],codecId:i,data:e.subarray(r),rate:s[c],size:p,channels:h,samples:t,packetType:n}}function n(e){var t=0,r=e[t]>>4,n=15&e[t];t++;var o={frameType:r,codecId:n,codecDescription:p[n]};switch(n){case f:var i=e[t++];o.packetType=i,o.compositionTime=(e[t]<<24|e[t+1]<<16|e[t+2]<<8)>>8,t+=3;break;case h:o.packetType=g.NALU,o.horizontalOffset=e[t]>>4&15,o.verticalOffset=15&e[t],o.compositionTime=0,t++}return o.data=e.subarray(t),o}function o(e){var t,r,n=[],o=-1,i=-1,a=+e.asGetPublicProperty("duration"),s=e.asGetPublicProperty("audiocodecid");switch(s){case u:case"mp3":t="mp3",r=u;break;case d:case"mp4a":t="mp4a",r=d;break;default:if(!isNaN(s))throw new Error("Unsupported audio codec: "+s);t=null,r=-1}var l,c,p=e.asGetPublicProperty("videocodecid");switch(p){case h:case"vp6f":l="vp6f",c=h;break;case f:case"avc1":l="avc1",c=f;break;default:if(!isNaN(p))throw new Error("Unsupported video codec: "+p);l=null,c=-1}var g=null===t?null:{codecDescription:t,codecId:r,language:"und",timescale:+e.asGetPublicProperty("audiosamplerate")||44100,samplerate:+e.asGetPublicProperty("audiosamplerate")||44100,channels:+e.asGetPublicProperty("audiochannels")||2,samplesize:16},m=null===l?null:{codecDescription:l,codecId:c,language:"und",timescale:6e4,framerate:+e.asGetPublicProperty("videoframerate")||+e.asGetPublicProperty("framerate"),width:+e.asGetPublicProperty("width"),height:+e.asGetPublicProperty("height")},v=e.asGetPublicProperty("trackinfo");if(v)for(var y=0;y<v.length;y++){var A=v[y],_=A.asGetPublicProperty("sampledescription")[0];_.asGetPublicProperty("sampletype")===s?(g.language=A.asGetPublicProperty("language"),g.timescale=+A.asGetPublicProperty("timescale")):_.asGetPublicProperty("sampletype")===p&&(m.language=A.asGetPublicProperty("language"),m.timescale=+A.asGetPublicProperty("timescale"))}return m&&(i=n.length,n.push(m)),g&&(o=n.length,n.push(g)),{tracks:n,duration:a,audioTrackId:o,videoTrackId:i}}function i(e){var t=[];return e.audioTrackId>=0&&t.push({tracks:[e.tracks[e.audioTrackId]],duration:e.duration,audioTrackId:0,videoTrackId:-1}),e.videoTrackId>=0&&t.push({tracks:[e.tracks[e.videoTrackId]],duration:e.duration,audioTrackId:-1,videoTrackId:0}),t}var a,s=[5500,11025,22050,44100],l=["PCM","ADPCM","MP3","PCM le","Nellymouser16","Nellymouser8","Nellymouser","G.711 A-law","G.711 mu-law",null,"AAC","Speex","MP3 8khz"],u=2,d=10;!function(e){e[e.HEADER=0]="HEADER",e[e.RAW=1]="RAW"}(a||(a={}));var c,p=[null,"JPEG","Sorenson","Screen","VP6","VP6 alpha","Screen2","AVC"],h=4,f=7;!function(e){e[e.KEY=1]="KEY",e[e.INNER=2]="INNER",e[e.DISPOSABLE=3]="DISPOSABLE",e[e.GENERATED=4]="GENERATED",e[e.INFO=5]="INFO"}(c||(c={}));var g;!function(e){e[e.HEADER=0]="HEADER",e[e.NALU=1]="NALU",e[e.END=2]="END"}(g||(g={}));var m;!function(e){e[e.CAN_GENERATE_HEADER=0]="CAN_GENERATE_HEADER",e[e.NEED_HEADER_DATA=1]="NEED_HEADER_DATA",e[e.MAIN_PACKETS=2]="MAIN_PACKETS"}(m||(m={}));var v=function(){function o(e){var t=this;this.oncodecinfo=function(e){},this.ondata=function(e){throw new Error("MP4Mux.ondata is not set")},this.metadata=e,this.trackStates=this.metadata.tracks.map(function(e,r){var n={trackId:r+1,trackInfo:e,cachedDuration:0,samplesProcessed:0,initializationData:[]};return t.metadata.audioTrackId===r&&(t.audioTrackState=n),t.metadata.videoTrackId===r&&(t.videoTrackState=n),n},this),this._checkIfNeedHeaderData(),this.filePos=0,this.cachedPackets=[],this.chunkIndex=0}return o.prototype.pushPacket=function(e,t,o){switch(this.state===m.CAN_GENERATE_HEADER&&this._tryGenerateHeader(),e){case 8:var i=this.audioTrackState,s=r(t);if(!i||i.trackInfo.codecId!==s.codecId)throw new Error("Unexpected audio packet codec: "+s.codecDescription);switch(s.codecId){default:throw new Error("Unsupported audio codec: "+s.codecDescription);case u:break;case d:if(s.packetType===a.HEADER)return void i.initializationData.push(s.data)}this.cachedPackets.push({packet:s,timestamp:o,trackId:i.trackId});break;case 9:var l=this.videoTrackState,c=n(t);if(!l||l.trackInfo.codecId!==c.codecId)throw new Error("Unexpected video packet codec: "+c.codecDescription);switch(c.codecId){default:throw new Error("unsupported video codec: "+c.codecDescription);case h:break;case f:if(c.packetType===g.HEADER)return void l.initializationData.push(c.data)}this.cachedPackets.push({packet:c,timestamp:o,trackId:l.trackId});break;default:throw new Error("unknown packet type: "+e)}this.state===m.NEED_HEADER_DATA&&this._tryGenerateHeader(),this.cachedPackets.length>=50&&this.state===m.MAIN_PACKETS&&this._chunk()},o.prototype.flush=function(){this.cachedPackets.length>0&&this._chunk()},o.prototype._checkIfNeedHeaderData=function(){this.trackStates.some(function(e){return e.trackInfo.codecId===d||e.trackInfo.codecId===f})?this.state=m.NEED_HEADER_DATA:this.state=m.CAN_GENERATE_HEADER},o.prototype._tryGenerateHeader=function(){if(this.trackStates.every(function(e){switch(e.trackInfo.codecId){case d:case f:return e.initializationData.length>0;default:return!0}})){for(var r=["isom"],n=[],o=0;o<this.trackStates.length;o++){var i,a=this.trackStates[o],s=a.trackInfo;switch(s.codecId){case d:var l=a.initializationData[0];i=new e.Iso.AudioSampleEntry("mp4a",1,s.channels,s.samplesize,s.samplerate);var c=new Uint8Array(41+l.length);c.set(t("0000000003808080"),0),c[8]=32+l.length,c.set(t("00020004808080"),9),c[16]=18+l.length,c.set(t("40150000000000FA000000000005808080"),17),c[34]=l.length,c.set(l,35),c.set(t("068080800102"),35+l.length),i.otherBoxes=[new e.Iso.RawTag("esds",c)];var p=l[0]>>3;a.mimeTypeCodec="mp4a.40."+p;break;case u:i=new e.Iso.AudioSampleEntry(".mp3",1,s.channels,s.samplesize,s.samplerate),a.mimeTypeCodec="mp3";break;case f:var g=a.initializationData[0];i=new e.Iso.VideoSampleEntry("avc1",1,s.width,s.height),i.otherBoxes=[new e.Iso.RawTag("avcC",g)];var v=g[1]<<16|g[2]<<8|g[3];a.mimeTypeCodec="avc1."+(16777216|v).toString(16).substr(1),r.push("iso2","avc1","mp41");break;case h:i=new e.Iso.VideoSampleEntry("VP6F",1,s.width,s.height),i.otherBoxes=[new e.Iso.RawTag("glbl",t("00"))],a.mimeTypeCodec="avc1.42001E";break;default:throw new Error("not supported track type")}var y,A=e.Iso.TrackHeaderFlags.TRACK_ENABLED|e.Iso.TrackHeaderFlags.TRACK_IN_MOVIE;a===this.audioTrackState?y=new e.Iso.TrackBox(new e.Iso.TrackHeaderBox(A,a.trackId,-1,0,0,1,o),new e.Iso.MediaBox(new e.Iso.MediaHeaderBox(s.timescale,-1,s.language),new e.Iso.HandlerBox("soun","SoundHandler"),new e.Iso.MediaInformationBox(new e.Iso.SoundMediaHeaderBox,new e.Iso.DataInformationBox(new e.Iso.DataReferenceBox([new e.Iso.DataEntryUrlBox(e.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new e.Iso.SampleTableBox(new e.Iso.SampleDescriptionBox([i]),new e.Iso.RawTag("stts",t("0000000000000000")),new e.Iso.RawTag("stsc",t("0000000000000000")),new e.Iso.RawTag("stsz",t("000000000000000000000000")),new e.Iso.RawTag("stco",t("0000000000000000")))))):a===this.videoTrackState&&(y=new e.Iso.TrackBox(new e.Iso.TrackHeaderBox(A,a.trackId,-1,s.width,s.height,0,o),new e.Iso.MediaBox(new e.Iso.MediaHeaderBox(s.timescale,-1,s.language),new e.Iso.HandlerBox("vide","VideoHandler"),new e.Iso.MediaInformationBox(new e.Iso.VideoMediaHeaderBox,new e.Iso.DataInformationBox(new e.Iso.DataReferenceBox([new e.Iso.DataEntryUrlBox(e.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new e.Iso.SampleTableBox(new e.Iso.SampleDescriptionBox([i]),new e.Iso.RawTag("stts",t("0000000000000000")),new e.Iso.RawTag("stsc",t("0000000000000000")),new e.Iso.RawTag("stsz",t("000000000000000000000000")),new e.Iso.RawTag("stco",t("0000000000000000"))))))),n.push(y)}var _=new e.Iso.MovieExtendsBox(null,[new e.Iso.TrackExtendsBox(1,1,0,0,0),new e.Iso.TrackExtendsBox(2,1,0,0,0)],null),b=new e.Iso.BoxContainerBox("udat",[new e.Iso.MetaBox(new e.Iso.RawTag("hdlr",t("00000000000000006D6469726170706C000000000000000000")),[new e.Iso.RawTag("ilst",t("00000025A9746F6F0000001D6461746100000001000000004C61766635342E36332E313034"))])]),w=new e.Iso.MovieHeaderBox(1e3,0,this.trackStates.length+1),E=new e.Iso.MovieBox(w,n,_,b),C=new e.Iso.FileTypeBox("isom",512,r),S=C.layout(0),x=E.layout(S),P=new Uint8Array(S+x);C.write(P),E.write(P),this.oncodecinfo(this.trackStates.map(function(e){return e.mimeTypeCodec})),this.ondata(P),this.filePos+=P.length,this.state=m.MAIN_PACKETS}},o.prototype._chunk=function(){var t=this.cachedPackets;if(this.videoTrackState){for(var r=t.length-1,n=this.videoTrackState.trackId;r>0&&(t[r].trackId!==n||t[r].packet.frameType!==c.KEY);)r--;r>0&&(t=t.slice(0,r))}if(0!==t.length){for(var o=[],i=0,a=[],s=[],l=0;l<this.trackStates.length;l++){var p=this.trackStates[l],g=p.trackInfo,m=p.trackId,v=t.filter(function(e){return e.trackId===m});if(0!==v.length){var y,A,_,b=new e.Iso.TrackFragmentBaseMediaDecodeTimeBox(p.cachedDuration);switch(s.push(i),g.codecId){case d:case u:_=[];for(var r=0;r<v.length;r++){var w=v[r].packet,E=Math.round(w.samples*g.timescale/g.samplerate);o.push(w.data),i+=w.data.length,_.push({duration:E,size:w.data.length}),p.samplesProcessed+=w.samples}var C=e.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;y=new e.Iso.TrackFragmentHeaderBox(C,m,0,0,0,0,e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var S=e.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|e.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|e.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT;A=new e.Iso.TrackRunBox(S,_,0,0),p.cachedDuration=Math.round(p.samplesProcessed*g.timescale/g.samplerate);break;case f:case h:_=[];for(var x=p.samplesProcessed,P=x*g.timescale/g.framerate,T=Math.round(P),r=0;r<v.length;r++){var k=v[r].packet;x++;var R=Math.round(x*g.timescale/g.framerate),B=R-T;T=R;var M=Math.round(x*g.timescale/g.framerate+k.compositionTime*g.timescale/1e3);o.push(k.data),i+=k.data.length;var D=k.frameType===c.KEY?e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS:e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_OTHER|e.Iso.SampleFlags.SAMPLE_IS_NOT_SYNC;_.push({duration:B,size:k.data.length,flags:D,compositionTimeOffset:M-R})}var C=e.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;y=new e.Iso.TrackFragmentHeaderBox(C,m,0,0,0,0,e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var S=e.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|e.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|e.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT|e.Iso.TrackRunFlags.SAMPLE_FLAGS_PRESENT|e.Iso.TrackRunFlags.SAMPLE_COMPOSITION_TIME_OFFSET;A=new e.Iso.TrackRunBox(S,_,0,0),p.cachedDuration=T,p.samplesProcessed=x;break;default:throw new Error("Un codec")}var I=new e.Iso.TrackFragmentBox(y,b,A);a.push(I)}}this.cachedPackets.splice(0,t.length);for(var O=new e.Iso.MovieFragmentHeaderBox(++this.chunkIndex),L=new e.Iso.MovieFragmentBox(O,a),z=L.layout(0),N=new e.Iso.MediaDataBox(o),U=N.layout(z),j=z+8,l=0;l<a.length;l++)a[l].run.dataOffset=j+s[l];var F=new Uint8Array(z+U);L.write(F),N.write(F),this.ondata(F),this.filePos+=F.length}},o}();e.MP4Mux=v,e.parseFLVMetadata=o,e.splitMetadata=i}(e.MP4||(e.MP4={}))}(n||(n={})),function(e){!function(e){!function(e){function t(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Array.prototype.concat.apply(e,t)}function r(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function n(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}function a(e){return(e-p)/1e3|0}function s(e){return 65536*e|0}function l(e){return 1073741824*e|0}function u(e){return 256*e|0}function d(e){return(31&e.charCodeAt(0))<<10|(31&e.charCodeAt(1))<<5|31&e.charCodeAt(2)}var c=o.StringUtilities.utf8decode,p=-20828448e5,h=[1,0,0,0,1,0,0,0,1],f=[0,0,0],g=function(){function e(e,t){this.boxtype=e,"uuid"===e&&(this.userType=t)}return e.prototype.layout=function(e){this.offset=e;var t=8;return this.userType&&(t+=16),this.size=t,t},e.prototype.write=function(e){return r(e,this.offset,this.size),r(e,this.offset+4,n(this.boxtype)),this.userType?(e.set(this.userType,this.offset+8),24):8},e.prototype.toUint8Array=function(){var e=this.layout(0),t=new Uint8Array(e);return this.write(t),t},e}();e.Box=g;var m=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var o=e.call(this,t)||this;return o.version=r,o.flags=n,o}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,this.version<<24|this.flags),n+4},t}(g);e.FullBox=m;var v=function(e){function t(t,r,n){var o=e.call(this,"ftype")||this;return o.majorBrand=t,o.minorVersion=r,o.compatibleBrands=n,o}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4*(2+this.compatibleBrands.length),this.size},t.prototype.write=function(t){var o=this,i=e.prototype.write.call(this,t);return r(t,this.offset+i,n(this.majorBrand)),r(t,this.offset+i+4,this.minorVersion),i+=8,this.compatibleBrands.forEach(function(e){r(t,o.offset+i,n(e)),i+=4},this),i},t}(g);e.FileTypeBox=v;var y=function(e){function t(t,r){var n=e.call(this,t)||this;return n.children=r,n}return i(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t);return this.children.forEach(function(e){e&&(r+=e.layout(t+r))}),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return this.children.forEach(function(e){e&&(r+=e.write(t))}),r},t}(g);e.BoxContainerBox=y;var A=function(e){function r(r,n,o,i){var a=e.call(this,"moov",t([r],n,[o,i]))||this;return a.header=r,a.tracks=n,a.extendsBox=o,a.userData=i,a}return i(r,e),r}(y);e.MovieBox=A;var _=function(e){function t(t,r,n,o,i,a,s,l){void 0===o&&(o=1),void 0===i&&(i=1),void 0===a&&(a=h),void 0===s&&(s=p),void 0===l&&(l=p);var u=e.call(this,"mvhd",0,0)||this;return u.timescale=t,u.duration=r,u.nextTrackId=n,u.rate=o,u.volume=i,u.matrix=a,u.creationTime=s,u.modificationTime=l,u}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4+2+2+8+36+24+4,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,a(this.creationTime)),r(t,this.offset+n+4,a(this.modificationTime)),r(t,this.offset+n+8,this.timescale),r(t,this.offset+n+12,this.duration),n+=16,r(t,this.offset+n,s(this.rate)),r(t,this.offset+n+4,u(this.volume)<<16),r(t,this.offset+n+8,0),r(t,this.offset+n+12,0),n+=16,r(t,this.offset+n,s(this.matrix[0])),r(t,this.offset+n+4,s(this.matrix[1])),r(t,this.offset+n+8,s(this.matrix[2])),r(t,this.offset+n+12,s(this.matrix[3])),r(t,this.offset+n+16,s(this.matrix[4])),r(t,this.offset+n+20,s(this.matrix[5])),r(t,this.offset+n+24,l(this.matrix[6])),r(t,this.offset+n+28,l(this.matrix[7])),r(t,this.offset+n+32,l(this.matrix[8])),n+=36,r(t,this.offset+n,0),r(t,this.offset+n+4,0),r(t,this.offset+n+8,0),r(t,this.offset+n+12,0),r(t,this.offset+n+16,0),r(t,this.offset+n+20,0),n+=24,r(t,this.offset+n,this.nextTrackId),n+=4},t}(m);e.MovieHeaderBox=_;!function(e){e[e.TRACK_ENABLED=1]="TRACK_ENABLED",e[e.TRACK_IN_MOVIE=2]="TRACK_IN_MOVIE",e[e.TRACK_IN_PREVIEW=4]="TRACK_IN_PREVIEW"}(e.TrackHeaderFlags||(e.TrackHeaderFlags={}));var b=function(e){function t(t,r,n,o,i,a,s,l,u,d,c){void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=h),void 0===d&&(d=p),void 0===c&&(c=p);var f=e.call(this,"tkhd",0,t)||this;return f.trackId=r,f.duration=n,f.width=o,f.height=i,f.volume=a,f.alternateGroup=s,f.layer=l,f.matrix=u,f.creationTime=d,f.modificationTime=c,f}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20+8+6+2+36+8,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,a(this.creationTime)),r(t,this.offset+n+4,a(this.modificationTime)),r(t,this.offset+n+8,this.trackId),r(t,this.offset+n+12,0),r(t,this.offset+n+16,this.duration),n+=20,r(t,this.offset+n,0),r(t,this.offset+n+4,0),r(t,this.offset+n+8,this.layer<<16|this.alternateGroup),r(t,this.offset+n+12,u(this.volume)<<16),n+=16,r(t,this.offset+n,s(this.matrix[0])),r(t,this.offset+n+4,s(this.matrix[1])),r(t,this.offset+n+8,s(this.matrix[2])),r(t,this.offset+n+12,s(this.matrix[3])),r(t,this.offset+n+16,s(this.matrix[4])),r(t,this.offset+n+20,s(this.matrix[5])),r(t,this.offset+n+24,l(this.matrix[6])),r(t,this.offset+n+28,l(this.matrix[7])),r(t,this.offset+n+32,l(this.matrix[8])),n+=36,r(t,this.offset+n,s(this.width)),r(t,this.offset+n+4,s(this.height)),n+=8},t}(m);e.TrackHeaderBox=b;var w=function(e){function t(t,r,n,o,i){void 0===n&&(n="unk"),void 0===o&&(o=p),void 0===i&&(i=p);var a=e.call(this,"mdhd",0,0)||this;return a.timescale=t,a.duration=r,a.language=n,a.creationTime=o,a.modificationTime=i,a}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,a(this.creationTime)),r(t,this.offset+n+4,a(this.modificationTime)),r(t,this.offset+n+8,this.timescale),r(t,this.offset+n+12,this.duration),r(t,this.offset+n+16,d(this.language)<<16),n+20},t}(m);e.MediaHeaderBox=w;var E=function(e){function t(t,r){var n=e.call(this,"hdlr",0,0)||this;return n.handlerType=t,n.name=r,n._encodedName=c(n.name),n}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8+12+(this._encodedName.length+1),this.size},t.prototype.write=function(t){var o=e.prototype.write.call(this,t);return r(t,this.offset+o,0),r(t,this.offset+o+4,n(this.handlerType)),r(t,this.offset+o+8,0),r(t,this.offset+o+12,0),r(t,this.offset+o+16,0),o+=20,t.set(this._encodedName,this.offset+o),t[this.offset+o+this._encodedName.length]=0,o+=this._encodedName.length+1},t}(m);e.HandlerBox=E;var C=function(e){function t(t){void 0===t&&(t=0);var r=e.call(this,"smhd",0,0)||this;return r.balance=t,r}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,u(this.balance)<<16),n+4},t}(m);e.SoundMediaHeaderBox=C;var S=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=f);var n=e.call(this,"vmhd",0,0)||this;return n.graphicsMode=t,n.opColor=r,n}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,this.graphicsMode<<16|this.opColor[0]),r(t,this.offset+n+4,this.opColor[1]<<16|this.opColor[2]),n+8},t}(m);e.VideoMediaHeaderBox=S,e.SELF_CONTAINED_DATA_REFERENCE_FLAG=1;var x=function(t){function r(r,n){void 0===n&&(n=null);var o=t.call(this,"url ",0,r)||this;return o.location=n,r&e.SELF_CONTAINED_DATA_REFERENCE_FLAG||(o._encodedLocation=c(n)),o}return i(r,t),r.prototype.layout=function(e){var r=t.prototype.layout.call(this,e);return this._encodedLocation&&(r+=this._encodedLocation.length+1),this.size=r},r.prototype.write=function(e){var r=t.prototype.write.call(this,e);return this._encodedLocation&&(e.set(this._encodedLocation,this.offset+r),e[this.offset+r+this._encodedLocation.length]=0,r+=this._encodedLocation.length),r},r}(m);e.DataEntryUrlBox=x;var P=function(e){function t(t){var r=e.call(this,"dref",0,0)||this;return r.entries=t,r}return i(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t)+4;return this.entries.forEach(function(e){r+=e.layout(t+r)}),this.size=r},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,this.entries.length),this.entries.forEach(function(e){n+=e.write(t)}),n},t}(m);e.DataReferenceBox=P;var T=function(e){function t(t){var r=e.call(this,"dinf",[t])||this;return r.dataReference=t,r}return i(t,e),t}(y);e.DataInformationBox=T;var k=function(e){function t(t){var r=e.call(this,"stsd",0,0)||this;return r.entries=t,r}return i(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t);return r+=4,this.entries.forEach(function(e){r+=e.layout(t+r)}),this.size=r},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,this.entries.length),n+=4,this.entries.forEach(function(e){n+=e.write(t)}),n},t}(m);e.SampleDescriptionBox=k;var R=function(e){function t(t,r,n,o,i){var a=e.call(this,"stbl",[t,r,n,o,i])||this;return a.sampleDescriptions=t,a.timeToSample=r,a.sampleToChunk=n,a.sampleSizes=o,a.chunkOffset=i,a}return i(t,e),t}(y);e.SampleTableBox=R;var B=function(e){function t(t,r,n){var o=e.call(this,"minf",[t,r,n])||this;return o.header=t,o.info=r,o.sampleTable=n,o}return i(t,e),t}(y);e.MediaInformationBox=B;var M=function(e){function t(t,r,n){var o=e.call(this,"mdia",[t,r,n])||this;return o.header=t,o.handler=r,o.info=n,o}return i(t,e),t}(y);e.MediaBox=M;var D=function(e){function t(t,r){var n=e.call(this,"trak",[t,r])||this;return n.header=t,n.media=r,n}return i(t,e),t}(y);e.TrackBox=D;var I=function(e){function t(t,r,n,o,i){var a=e.call(this,"trex",0,0)||this;return a.trackId=t,a.defaultSampleDescriptionIndex=r,a.defaultSampleDuration=n,a.defaultSampleSize=o,a.defaultSampleFlags=i,a}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,this.trackId),r(t,this.offset+n+4,this.defaultSampleDescriptionIndex),r(t,this.offset+n+8,this.defaultSampleDuration),r(t,this.offset+n+12,this.defaultSampleSize),r(t,this.offset+n+16,this.defaultSampleFlags),n+20},t}(m);e.TrackExtendsBox=I;var O=function(e){function r(r,n,o){var i=e.call(this,"mvex",t([r],n,[o]))||this;return i.header=r,i.tracDefaults=n,i.levels=o,i}return i(r,e),r}(y);e.MovieExtendsBox=O;var L=function(e){function t(t,r){var n=e.call(this,"meta",0,0)||this;return n.handler=t,n.otherBoxes=r,n}return i(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t);return r+=this.handler.layout(t+r),this.otherBoxes.forEach(function(e){r+=e.layout(t+r)}),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return r+=this.handler.write(t),this.otherBoxes.forEach(function(e){r+=e.write(t)}),r},t}(m);e.MetaBox=L;var z=function(e){function t(t){var r=e.call(this,"mfhd",0,0)||this;return r.sequenceNumber=t,r}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,this.sequenceNumber),n+4},t}(m);e.MovieFragmentHeaderBox=z;var N;!function(e){e[e.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",e[e.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",e[e.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",e[e.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",e[e.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT"}(N=e.TrackFragmentFlags||(e.TrackFragmentFlags={}));var U=function(e){function t(t,r,n,o,i,a,s){var l=e.call(this,"tfhd",0,t)||this;return l.trackId=r,l.baseDataOffset=n,l.sampleDescriptionIndex=o,l.defaultSampleDuration=i,l.defaultSampleSize=a,l.defaultSampleFlags=s,l}return i(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t)+4,n=this.flags;return n&N.BASE_DATA_OFFSET_PRESENT&&(r+=8),n&N.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(r+=4),n&N.DEFAULT_SAMPLE_DURATION_PRESENT&&(r+=4),n&N.DEFAULT_SAMPLE_SIZE_PRESENT&&(r+=4),n&N.DEFAULT_SAMPLE_FLAGS_PRESENT&&(r+=4),this.size=r},t.prototype.write=function(t){var n=e.prototype.write.call(this,t),o=this.flags;return r(t,this.offset+n,this.trackId),n+=4,o&N.BASE_DATA_OFFSET_PRESENT&&(r(t,this.offset+n,0),r(t,this.offset+n+4,this.baseDataOffset),n+=8),o&N.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(r(t,this.offset+n,this.sampleDescriptionIndex),n+=4),o&N.DEFAULT_SAMPLE_DURATION_PRESENT&&(r(t,this.offset+n,this.defaultSampleDuration),n+=4),o&N.DEFAULT_SAMPLE_SIZE_PRESENT&&(r(t,this.offset+n,this.defaultSampleSize),n+=4),o&N.DEFAULT_SAMPLE_FLAGS_PRESENT&&(r(t,this.offset+n,this.defaultSampleFlags),n+=4),n},t}(m);e.TrackFragmentHeaderBox=U;var j=function(e){function t(t){var r=e.call(this,"tfdt",0,0)||this;return r.baseMediaDecodeTime=t,r}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,this.baseMediaDecodeTime),n+4},t}(m);e.TrackFragmentBaseMediaDecodeTimeBox=j;var F=function(e){function t(t,r,n){var o=e.call(this,"traf",[t,r,n])||this;return o.header=t,o.decodeTime=r,o.run=n,o}return i(t,e),t}(y);e.TrackFragmentBox=F;!function(e){e[e.IS_LEADING_MASK=201326592]="IS_LEADING_MASK",e[e.SAMPLE_DEPENDS_ON_MASK=50331648]="SAMPLE_DEPENDS_ON_MASK",e[e.SAMPLE_DEPENDS_ON_OTHER=16777216]="SAMPLE_DEPENDS_ON_OTHER",e[e.SAMPLE_DEPENDS_ON_NO_OTHERS=33554432]="SAMPLE_DEPENDS_ON_NO_OTHERS",e[e.SAMPLE_IS_DEPENDED_ON_MASK=12582912]="SAMPLE_IS_DEPENDED_ON_MASK",e[e.SAMPLE_HAS_REDUNDANCY_MASK=3145728]="SAMPLE_HAS_REDUNDANCY_MASK",e[e.SAMPLE_PADDING_VALUE_MASK=917504]="SAMPLE_PADDING_VALUE_MASK",e[e.SAMPLE_IS_NOT_SYNC=65536]="SAMPLE_IS_NOT_SYNC",e[e.SAMPLE_DEGRADATION_PRIORITY_MASK=65535]="SAMPLE_DEGRADATION_PRIORITY_MASK"}(e.SampleFlags||(e.SampleFlags={}));var q;!function(e){e[e.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",e[e.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",e[e.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",e[e.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",e[e.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",e[e.SAMPLE_COMPOSITION_TIME_OFFSET=2048]="SAMPLE_COMPOSITION_TIME_OFFSET"}(q=e.TrackRunFlags||(e.TrackRunFlags={}));var H=function(e){function t(t,r,n,o){var i=e.call(this,"trun",1,t)||this;return i.samples=r,i.dataOffset=n,i.firstSampleFlags=o,i}return i(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t)+4,n=this.samples.length,o=this.flags;return o&q.DATA_OFFSET_PRESENT&&(r+=4),o&q.FIRST_SAMPLE_FLAGS_PRESENT&&(r+=4),o&q.SAMPLE_DURATION_PRESENT&&(r+=4*n),o&q.SAMPLE_SIZE_PRESENT&&(r+=4*n),o&q.SAMPLE_FLAGS_PRESENT&&(r+=4*n),o&q.SAMPLE_COMPOSITION_TIME_OFFSET&&(r+=4*n),this.size=r},t.prototype.write=function(t){var n=e.prototype.write.call(this,t),o=this.samples.length,i=this.flags;r(t,this.offset+n,o),n+=4,i&q.DATA_OFFSET_PRESENT&&(r(t,this.offset+n,this.dataOffset),n+=4),i&q.FIRST_SAMPLE_FLAGS_PRESENT&&(r(t,this.offset+n,this.firstSampleFlags),n+=4);for(var a=0;a<o;a++){var s=this.samples[a];i&q.SAMPLE_DURATION_PRESENT&&(r(t,this.offset+n,s.duration),n+=4),i&q.SAMPLE_SIZE_PRESENT&&(r(t,this.offset+n,s.size),n+=4),i&q.SAMPLE_FLAGS_PRESENT&&(r(t,this.offset+n,s.flags),n+=4),i&q.SAMPLE_COMPOSITION_TIME_OFFSET&&(r(t,this.offset+n,s.compositionTimeOffset),n+=4)}return n},t}(m);e.TrackRunBox=H;var G=function(e){function r(r,n){var o=e.call(this,"moof",t([r],n))||this;return o.header=r,o.trafs=n,o}return i(r,e),r}(y);e.MovieFragmentBox=G;var Y=function(e){function t(t){var r=e.call(this,"mdat")||this;return r.chunks=t,r}return i(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t);return this.chunks.forEach(function(e){r+=e.length}),this.size=r},t.prototype.write=function(t){var r=this,n=e.prototype.write.call(this,t);return this.chunks.forEach(function(e){t.set(e,r.offset+n),n+=e.length},this),n},t}(g);e.MediaDataBox=Y;var V=function(e){function t(t,r){var n=e.call(this,t)||this;return n.dataReferenceIndex=r,n}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,0),r(t,this.offset+n+4,this.dataReferenceIndex),n+8},t}(g);e.SampleEntry=V;var W=function(e){function t(t,r,n,o,i,a){void 0===n&&(n=2),void 0===o&&(o=16),void 0===i&&(i=44100),void 0===a&&(a=null);var s=e.call(this,t,r)||this;return s.channelCount=n,s.sampleSize=o,s.sampleRate=i,s.otherBoxes=a,s}return i(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t)+20;return this.otherBoxes&&this.otherBoxes.forEach(function(e){r+=e.layout(t+r)}),this.size=r},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return r(t,this.offset+n,0),r(t,this.offset+n+4,0),r(t,this.offset+n+8,this.channelCount<<16|this.sampleSize),r(t,this.offset+n+12,0),r(t,this.offset+n+16,this.sampleRate<<16),n+=20,this.otherBoxes&&this.otherBoxes.forEach(function(e){n+=e.write(t)}),n},t}(V);e.AudioSampleEntry=W,e.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH=24;var X=function(t){function n(r,n,o,i,a,s,l,u,d,c){void 0===a&&(a=""),void 0===s&&(s=72),void 0===l&&(l=72),void 0===u&&(u=1),void 0===d&&(d=e.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH),void 0===c&&(c=null);var p=t.call(this,r,n)||this;if(p.width=o,p.height=i,p.compressorName=a,p.horizResolution=s,p.vertResolution=l,p.frameCount=u,p.depth=d,p.otherBoxes=c,a.length>31)throw new Error("invalid compressor name");return p}return i(n,t),n.prototype.layout=function(e){var r=t.prototype.layout.call(this,e)+16+12+4+2+32+2+2;return this.otherBoxes&&this.otherBoxes.forEach(function(t){r+=t.layout(e+r)}),this.size=r},n.prototype.write=function(e){var n=t.prototype.write.call(this,e);r(e,this.offset+n,0),r(e,this.offset+n+4,0),r(e,this.offset+n+8,0),r(e,this.offset+n+12,0),n+=16,r(e,this.offset+n,this.width<<16|this.height),r(e,this.offset+n+4,s(this.horizResolution)),r(e,this.offset+n+8,s(this.vertResolution)),n+=12,r(e,this.offset+n,0),r(e,this.offset+n+4,this.frameCount<<16),n+=6,e[this.offset+n]=this.compressorName.length;for(var o=0;o<31;o++)e[this.offset+n+o+1]=o<this.compressorName.length?127&this.compressorName.charCodeAt(o):0;return n+=32,r(e,this.offset+n,this.depth<<16|65535),n+=4,this.otherBoxes&&this.otherBoxes.forEach(function(t){n+=t.write(e)}),n},n}(V);e.VideoSampleEntry=X;var K=function(e){function t(t,r){var n=e.call(this,t)||this;return n.data=r,n}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+this.data.length,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return t.set(this.data,this.offset+r),r+this.data.length},t}(g);e.RawTag=K}(e.Iso||(e.Iso={}))}(e.MP4||(e.MP4={}))}(n||(n={})),t.MP4Mux=n.MP4.MP4Mux},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(23),i=[n.WebCrypto,o.JSCrypto];t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(21),i=n.helpers.find;t.DecryptorFactory={retrieveDecryptor:function(e){return i(o.default,function(t){return t.canDecrypt(e)})||null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(18),i=n.helpers.Promise,a=null;t.JSCrypto={canDecrypt:function(e){return"AES-CBC"===e.cipher},decrypt:function(e,t){return a||(a=new o.AESDecryptor),a.expandKey(t.key.buffer),i.resolve(new Uint8Array(a.decrypt(e.buffer,0,t.iv.buffer)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.helpers.Promise,i=window.crypto&&window.crypto.subtle;t.WebCrypto={canDecrypt:function(e){return!!i&&window.isSecureContext&&"AES-CBC"===e.cipher},decrypt:function(e,t){return new o(function(r,n){(function(e){return i.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt"])})(t.key).then(function(r){return i.decrypt({name:"AES-CBC",iv:t.iv},r,e)}).then(function(e){return r(new Uint8Array(e))}).catch(n)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._playlist=e,this._url=t}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e}();t.Key=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._url=e}return e.prototype.getUrl=function(){return this._url},e}();t.Playlist=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r){this._playlist=e,this._url=t,this._sequenceNumber=r}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e.prototype.getSequenceNumber=function(){return this._sequenceNumber},e}();t.Segment=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(4),i=n.helpers.deferred.buildDeferred,a=o.helpers.timeRanges.buildTimeRanges,s=n.helpers.Promise,l=o.helpers.timeRanges.getCoverage,u=n.logger.prefixLogger,d=n.logger.noOpLogger,c=/(MSIE )|(Trident\/)/,p=n.helpers.browser.isSafari(),h='audio/mp4; codecs="mp3"',f=n.helpers.browser.getSafariVersion();t.killedError=new Error("MSE killed.");var g=function(){function e(e,t,r){var n=this.constructor;if(void 0===t&&(t=d),void 0===r&&(r=!1),this._sourceBuffer=null,this._initialized=!1,this._initializeDeferred=i(),this._whenIdleDeferred=i(),this._error=null,this._dead=!1,this._pendingActions=[],this._currentAction=null,this._bufferEnd=0,this._logger=u(t,"MSE"),this._onMediaSourceInit=this._onMediaSourceInit.bind(this),this._onMediaSourceError=this._onMediaSourceError.bind(this),this._onSourceBufferUpdateEnd=this._onSourceBufferUpdateEnd.bind(this),this._onSourceBufferError=this._onSourceBufferError.bind(this),!n.isSupported(e))throw this._logger.error("Not supported."),new Error("Not supported.");p&&e===h&&(e="audio/mp4"),this._type=e,this._useSegmentsMode=r,this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.addEventListener("error",this._onMediaSourceError,!1),this._url=URL.createObjectURL(this._mediaSource),this._logger.debug("Created URL.",this._url)}return e.isSupported=function(e){return!c.test(window.navigator.userAgent)&&"MediaSource"in window&&(!e||!(!p||e!==h)||!(f&&f.major<10&&"audio/mpeg"===e)&&MediaSource.isTypeSupported(e))},e.prototype.whenInitialized=function(){return this._initializeDeferred.promise},e.prototype.whenIdle=function(){return this._whenIdleDeferred?this._whenIdleDeferred.promise:s.resolve(void 0)},e.prototype.isIdle=function(){return this._dead||!this._whenIdleDeferred},e.prototype.hasInitialized=function(){return this._initialized},e.prototype.getError=function(){return this._error},e.prototype.getUrl=function(){return this._ensureNotDead(),this._url},e.prototype.getBuffered=function(){return this._ensureNotDead(),this._sourceBuffer?a(this._sourceBuffer.buffered):[]},e.prototype.append=function(e){this._ensureNotDead(),this._ensureInitialized(),this._logger.debug("append() called.");var t=i();return this._pendingActions.push({type:"append",data:e,deferred:t}),this._performNextAction(),t.promise},e.prototype.remove=function(e){if(0===e.duration)throw new Error("Remove range must have a duration > 0.");this._ensureNotDead(),this._ensureInitialized(),this._logger.debug("remove() called.",e);var t=i();return this._pendingActions.push({type:"remove",range:e,deferred:t}),this._performNextAction(),t.promise},e.prototype.kill=function(){if(!this._dead){if(this._logger.debug("kill() called."),this._dead=!0,this._sourceBuffer){this._sourceBuffer.removeEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.removeEventListener("error",this._onSourceBufferError,!1);try{this._mediaSource.removeSourceBuffer(this._sourceBuffer)}catch(e){this._logger.error("Error from removeSourceBuffer()",e)}}this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.removeEventListener("error",this._onMediaSourceError,!1),URL.revokeObjectURL(this._url);var e=this._currentAction?[this._currentAction]:[];e=e.concat(this._pendingActions),e.forEach(function(e){e.deferred.reject(t.killedError)}),this._whenIdleDeferred||(this._whenIdleDeferred=i()),this._whenIdleDeferred.reject(t.killedError),this._initialized||this._initializeDeferred.reject(this._error||t.killedError),this._pendingActions.length=0,this._logger.debug("Killed.")}},e.prototype._ensureInitialized=function(){if(!this._initialized)throw new Error("Not initialized yet.")},e.prototype._ensureNotDead=function(){if(this._dead)throw new Error("MSE is dead.")},e.prototype._onMediaSourceInit=function(){this._logger.debug("MSE initialized."),this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1);try{this._logger.debug("Creating source buffer.",this._type),this._sourceBuffer=this._mediaSource.addSourceBuffer(this._type),this._sourceBuffer.mode=this._useSegmentsMode?"segments":"sequence",this._logger.debug("Using append mode: "+this._sourceBuffer.mode),this._sourceBuffer.addEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.addEventListener("error",this._onSourceBufferError,!1)}catch(e){this._handleError(e)}this._initializeDeferred.resolve(void 0),this._whenIdleDeferred.resolve(void 0),this._initialized=!0,this._performNextAction()},e.prototype._onMediaSourceError=function(e){this._handleError(e)},e.prototype._handleError=function(e){this._ensureNotDead(),this._logger.error("Error occurred.",e),this._error=e||new Error("Unknown error."),this.kill()},e.prototype._onSourceBufferUpdateEnd=function(){var e=this._currentAction;return this._logger.debug("Update ended.",this.getBuffered()),e?"append"===e.type&&l(this.getBuffered()).end<=this._bufferEnd?void this._handleError(new Error("Buffer end point did not increase after an append.")):(this._currentAction=null,e.deferred.resolve(void 0),void this._performNextAction()):void this._handleError(new Error("No action in progress."))},e.prototype._onSourceBufferError=function(e){this._handleError(e)},e.prototype._performNextAction=function(){var e=this._whenIdleDeferred;if(!this._currentAction&&this._sourceBuffer){var t=this._pendingActions.shift();if(!t)return this._logger.debug("No more actions."),void(e&&(this._whenIdleDeferred=null,e.resolve(void 0)));switch(e||(this._whenIdleDeferred=i()),this._currentAction=t,this._logger.debug("Performing next action..."),t.type){case"append":var r=l(this.getBuffered());try{if("segments"===this._sourceBuffer.mode){var n=r.end/1e3;this._logger.debug("Setting timestampOffset because detected safari.",n),this._sourceBuffer.timestampOffset=n}this._logger.debug("Calling appendBuffer()."),this._bufferEnd=r.end,this._sourceBuffer.appendBuffer(t.data)}catch(e){this._handleError(e)}break;case"remove":try{var o=t.range;this._logger.debug("Calling remove().",o.start,o.end),this._sourceBuffer.remove(o.start/1e3,o.end/1e3)}catch(e){this._handleError(e)}}}},e}();t.MSE=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(0),i=o.helpers.find,a=o.eventDispatcher.EventDispatcher,s=o.helpers.abortableJob.abortedError,l=o.helpers.abortableJob.AbortableJob,u=o.logger.prefixLogger,d=o.logger.noOpLogger;!function(e){e[e.RETRIEVING_SEGMENT=0]="RETRIEVING_SEGMENT",e[e.RETRIEVED_SEGMENT=1]="RETRIEVED_SEGMENT",e[e.RETRIEVING_DATA=2]="RETRIEVING_DATA",e[e.COMPLETE=3]="COMPLETE"}(n||(n={}));var c=function(){function e(e){this._onSegmentRequestQueued=new a,this._onSegmentRequestStart=new a,this._onSegmentRetrieved=new a,this._onSegmentRequestFailed=new a,this._onSegmentDecryptionStart=new a,this._onSegmentDecryptionEnd=new a,this._onSegmentTransmuxStart=new a,this._onSegmentTransmuxEnd=new a,this._onSegmentReady=new a,this._onError=new a,this._segments=[],this._retrievingSegment=null,this._timerId=null,this._dead=!1;var t=e.playlist,r=e.getPosition,n=e.maxBufferLength,o=e.cacheSize,i=e.transmuxer,s=e.logger,l=void 0===s?d:s;if(this._logger=u(l,"PlaylistSegmentRetriever"),t&&!t.hasRetrieveCompleted())throw new Error("Playlist retrieve has not completed.");if(n<0)throw new Error("Max buffer length must be > 0.");if(o<0)throw new Error("Cache size must be > 0.");this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this.onSegmentDecryptionStart=this._onSegmentDecryptionStart.getHandle(),this.onSegmentDecryptionEnd=this._onSegmentDecryptionEnd.getHandle(),this.onSegmentTransmuxStart=this._onSegmentTransmuxStart.getHandle(),this.onSegmentTransmuxEnd=this._onSegmentTransmuxEnd.getHandle(),this.onSegmentReady=this._onSegmentReady.getHandle(),this.onError=this._onError.getHandle(),this._playlist=t,this._transmuxer=i,this._getPosition=r,this._maxBufferLength=n,this._cacheSize=o,this.update()}return e.prototype.updateMaxBufferLength=function(e){if(this._ensureNotDead(),e<0)throw new Error("Max buffer length must be > 0.");this._logger.debug("updateMaxBufferLength() called.",e),this._maxBufferLength=e,this.update()},e.prototype.updateCacheSize=function(e){if(this._ensureNotDead(),e<0)throw new Error("Cache size must be > 0.");this._logger.debug("updateCacheSize() called.",e),this._cacheSize=e,this.update()},e.prototype.getCacheSize=function(){return this._cacheSize},e.prototype.getCacheUsage=function(){return this._segments.reduce(function(e,t){return t.state===n.COMPLETE?e+t.data.byteLength+(t.initData?t.initData.byteLength:0):e},0)},e.prototype.switchPlaylist=function(e){if(this._ensureNotDead(),e&&!e.hasRetrieveCompleted())throw new Error("Playlist retrieve has not completed.");this._logger.debug("switchPlaylist() called."),this._abortCurrentRetrieve(),this._playlist=e,this._segments=this._segments.filter(function(e){return e.state===n.COMPLETE}),this.update()},e.prototype.getSegmentsWithData=function(){return this._ensureNotDead(),this._segments.filter(function(e){return e.state===n.COMPLETE}).map(function(e){if(e.state!==n.COMPLETE)throw new Error("Unexpected error.");return{segment:e.segment,initData:e.initData,data:e.data,eventRepresentation:e.eventRepresentation}})},e.prototype.update=function(){this._ensureNotDead(),this._timerId&&(this._logger.debug("Cancelling update timer."),window.clearTimeout(this._timerId),this._timerId=null);var e=this._getPosition(),t=e;this._segments.some(function(r){if(r.state!==n.COMPLETE)return!1;var o=r.segment.getTimeRange();return!(o.end<e)&&(o.start>=t&&!o.containsTime(t)||(t=o.end,!1))});var r=i(this._segments,function(e){if(e.state===n.RETRIEVED_SEGMENT||e.state===n.RETRIEVING_DATA){return e.segment.getTimeRange().containsTime(t)}return!1});return t>=e+this._maxBufferLength?(this._abortCurrentRetrieve(),this._garbageCollect(e),void this._scheduleNextUpdate()):(r?this._retrieveSegmentData(r):this._retrieveSegment(t),void this._garbageCollect(e))},e.prototype.kill=function(){this._dead||(this._logger.debug("kill() called."),this._abortCurrentRetrieve(),this._dead=!0,this._timerId&&(this._logger.debug("Cancelling update timer."),window.clearTimeout(this._timerId)),this._segments=[],this._logger.debug("Killed."))},e.prototype._retrieveSegmentData=function(e){var t=this;if(e.state!==n.RETRIEVED_SEGMENT&&e.state!==n.RETRIEVING_DATA)throw new Error("Segment in incorrect state for data to be retrieved.");var r=this._retrievingSegment;if(!r||r.state!==n.RETRIEVING_DATA||e.segment!==r.segment){this._abortCurrentRetrieve();var o=new l(function(){var r=!1,n=e.segment.retrieveData();return t._logger.debug("Retrieving segment data..."),{result:n.whenComplete().then(function(e){var n=e.data,o=e.eventRepresentation;if(r)throw s;return t._logger.debug("Retrieved segment data."),t._onSegmentTransmuxStart.dispatch({segment:o}),t._transmuxer.transmux(n).then(function(e){var n=e.data,i=e.initData;if(r)throw s;return t._onSegmentTransmuxEnd.dispatch({segment:o}),t._logger.debug("Transmuxed segment."),{data:n,initData:i,eventRepresentation:o}})}),abort:function(){r=!0,n.abort()}}},{storeResult:!1}).run();o.onCompletion(function(r){var o=r.initData,i=r.data,a=r.eventRepresentation;t._retrievingSegment=null,t._segments.splice(t._segments.indexOf(e),1,{state:n.COMPLETE,initData:o,data:i,eventRepresentation:a,segment:e.segment}),t._logger.debug("Segment retrieve completed.",a),t.update(),t._onSegmentReady.dispatch({segment:e.segment,initData:o,data:i,eventRepresentation:a})}),o.onError(function(e){e!==s&&(t._logger.error("Error retrieving segment data.",e),t._scheduleNextUpdate(),t._onError.dispatch(e))}),this._retrievingSegment={state:n.RETRIEVING_DATA,dataRetrieveJob:o,segment:e.segment}}},e.prototype._retrieveSegment=function(e){var t=this,r=this._retrievingSegment,o=this._playlist,i=o?o.getSegmentIndexContainingTime(e):null;if(!r||r.state!==n.RETRIEVING_SEGMENT||r.segmentIndex!==i)if(this._abortCurrentRetrieve(),null!==i&&o){var a=o.getSegment(i);this._logger.debug("Retrieving segment.",i),a.onCompletion(function(e){t._logger.debug("Retrieved segment.",i),e.onSegmentRequestQueued.subscribe(t._onSegmentRequestQueued.dispatch),e.onSegmentRequestStart.subscribe(t._onSegmentRequestStart.dispatch),e.onSegmentRetrieved.subscribe(t._onSegmentRetrieved.dispatch),e.onSegmentRequestFailed.subscribe(t._onSegmentRequestFailed.dispatch),e.onSegmentDecryptionStart.subscribe(t._onSegmentDecryptionStart.dispatch),e.onSegmentDecryptionEnd.subscribe(t._onSegmentDecryptionEnd.dispatch),t._segments.splice(t._segments.indexOf(l),1);var r=e.getTimeRange(),o=t._segments.length;t._segments.some(function(e,t){return e.state!==n.RETRIEVING_SEGMENT&&e.segment.getTimeRange().start>r.start&&(o=t,!0)}),t._segments.splice(o,0,{state:n.RETRIEVED_SEGMENT,segment:e}),t._retrievingSegment=null,t.update()}),a.onError(function(e){e!==s&&(t._logger.error("Error retrieving segment.",e),t._scheduleNextUpdate(),t._onError.dispatch(e))});var l={state:n.RETRIEVING_SEGMENT,segmentIndex:i,segmentRetrieveJob:a};this._segments.push(l),this._retrievingSegment=l}else this._scheduleNextUpdate()},e.prototype._abortCurrentRetrieve=function(){var e=this._retrievingSegment;e&&(e.state===n.RETRIEVING_SEGMENT?(this._logger.debug("Aborting segment retrieve job."),e.segmentRetrieveJob.abort()):e.state===n.RETRIEVING_DATA&&(this._logger.debug("Aborting segment data retrieve job."),e.dataRetrieveJob.abort()),this._retrievingSegment=null)},e.prototype._garbageCollect=function(e){var t=this._segments,r=this._cacheSize,o=this.getCacheUsage();if(!(o<=r)){var i=e+this._maxBufferLength;t.filter(function(t){if(t.state!==n.COMPLETE)return!1;var r=t.segment.getTimeRange();return r.end<=e||r.start>i}).map(function(t){if(t.state!==n.COMPLETE)throw new Error("Unexpected error.");var r=t.segment.getTimeRange();return{segment:t,distance:Math.abs(e-r.start),size:t.data.byteLength+(t.initData?t.initData.byteLength:0)}}).sort(function(e,t){return t.distance-e.distance}).some(function(e){return o<=r||(t.splice(t.indexOf(e.segment),1),o-=e.size,!1)})}},e.prototype._scheduleNextUpdate=function(){var e=this;this._timerId||(this._timerId=window.setTimeout(function(){e._timerId=null,e.update()},1e3))},e.prototype._ensureNotDead=function(){if(this._dead)throw new Error("Playlist segment retriever has been killed.")},e}();t.PlaylistSegmentRetriever=c},function(e,t,r){"use strict";function n(e){return 0===e.indexOf('"')&&e.lastIndexOf('"')===e.length-1?e.slice(1,-1):e}function o(e){0===e.indexOf("0x")&&(e=e.substr(2));var t=new Uint16Array(8);if(e.length%4!=0)throw new c.PlaylistParseError("Failed to parse IV (length is not multiple of 4).");for(var r=0;r<e.length;r+=4){var n=parseInt(e.substr(r,4),16);if(isNaN(n))throw new c.PlaylistParseError("Failed to parse hex number in IV string.");t[r/4]=n}return new Uint8Array(t)}function i(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t}function a(e){return!(e>=400&&e<500)}Object.defineProperty(t,"__esModule",{value:!0});var s,l=r(0),u=r(31),d=r(3),c=r(12),p=r(13),h=r(26),f=r(25),g=l.helpers.abortableJob.AbortableJob,m=l.helpers.deferred.buildDeferred,v=l.helpers.cache.buildCache,y=l.helpers.retry,A=y.retry,_=y.buildExponentialDelayCalculator,b=l.helpers.Promise,w=l.helpers.find,E=l.helpers.url,C=l.eventDispatcher.EventDispatcher,S=l.logger.prefixLogger,x=l.logger.noOpLogger,P=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT(INF): *(\d+(?:\.\d+)?)(?:,(.*))?)|(?:(?!#)()(\S.+))|(?:#EXT-X-(BYTERANGE): *(\d+(?:@\d+(?:\.\d+)?)?)|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\r?\n?/g,T=/(.+?)=(.+?)(?:,|$)/g,k=/^\d*(\.\d+)?$/;!function(e){e[e.NONE=0]="NONE",e[e.AES_128=1]="AES_128",e[e.SAMPLE_AES=2]="SAMPLE_AES"}(s||(s={}));var R;!function(e){e[e.VOD=0]="VOD",e[e.LIVE=1]="LIVE",e[e.EVENT=2]="EVENT"}(R=t.PlaylistType||(t.PlaylistType={}));var B=function(){function e(e){var t=e.url,r=e.playlistLoader,n=e.segmentLoader,o=e.keyLoader,i=void 0===o?null:o,s=e.segmentFormat,l=e.logger,u=void 0===l?x:l,c=e.delayCalculator,p=void 0===c?_():c,f=e.keyDelayCalculator,y=void 0===f?_():f,w=e.segmentDelayCalculator,E=e.isPlaylistResponseCodeAcceptable,P=void 0===E?function(e){return 200===e}:E,T=e.isPlaylistResponseCodeRetryable,k=void 0===T?a:T,R=e.isSegmentResponseCodeAcceptable,B=void 0===R?function(e){return 200===e}:R,M=e.isSegmentResponseCodeRetryable,D=void 0===M?a:M,I=e.isKeyResponseCodeAcceptable,O=void 0===I?function(e){return 200===e}:I,L=e.isKeyResponseCodeRetryable,z=void 0===L?a:L,N=this;this._keyRetrievalJobsCache=v(),this._data=null,this._playlistEventRepresentation=null,this._onPlaylistRequestQueued=new C,this._onPlaylistRequestStart=new C,this._onPlaylistRetrieved=new C,this._onPlaylistRequestFailed=new C,this._onPlaylistParseStart=new C,this._onPlaylistParseEnd=new C,this._onKeyRequestQueued=new C,this._onKeyRequestStart=new C,this._onKeyRetrieved=new C,this._onKeyRequestFailed=new C,this._logger=S(u,"Playlist"),this.onPlaylistRequestQueued=this._onPlaylistRequestQueued.getHandle(),this.onPlaylistRequestStart=this._onPlaylistRequestStart.getHandle(),this.onPlaylistRetrieved=this._onPlaylistRetrieved.getHandle(),this.onPlaylistRequestFailed=this._onPlaylistRequestFailed.getHandle(),this.onPlaylistParseStart=this._onPlaylistParseStart.getHandle(),this.onPlaylistParseEnd=this._onPlaylistParseEnd.getHandle(),this.onKeyRequestQueued=this._onKeyRequestQueued.getHandle(),this.onKeyRequestStart=this._onKeyRequestStart.getHandle(),this.onKeyRetrieved=this._onKeyRetrieved.getHandle(),this.onKeyRequestFailed=this._onKeyRequestFailed.getHandle(),this._url=t,this._playlistLoader=r,this._segmentLoader=n,this._keyLoader=i,this._segmentFormat=s,this._delayCalculator=p,this._keyDelayCalculator=y,this._isPlaylistResponseCodeAcceptable=P,this._isPlaylistResponseCodeRetryable=k,this._isSegmentResponseCodeAcceptable=B,this._isSegmentResponseCodeRetryable=D,this._isKeyResponseCodeAcceptable=O,this._isKeyResponseCodeRetryable=z,this._segmentDelayCalculator=w,this._downloadAbortableJob=new g(function(){var e=A(function(){return new g(function(){var e=new h.Playlist(t);N._onPlaylistRequestQueued.dispatch({playlist:e});var r=N._playlistLoader.request({url:t});return r.whenRequestStarted.then(function(){N._onPlaylistRequestStart.dispatch({playlist:e})}),N._logger.debug("Requesting playlist.",t),{result:r.getResponse().then(function(r){if(!r)return N._logger.warn("Playlist request timed out.",t),N._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:null}),{success:!1};var n=r.statusCode;if(N._isPlaylistResponseCodeAcceptable(n)){var o=r.data;return o?(N._logger.debug("Got playlist response.",t,n),N._onPlaylistRetrieved.dispatch({playlist:e,statusCode:n}),{success:!0,result:{playlistContent:o,eventRepresentation:e}}):(N._logger.warn("Playlist response contained no data.",t,n),N._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:n}),{success:!1})}return N._isPlaylistResponseCodeRetryable(n)?(N._logger.debug("Playlist response code was not acceptable. Will retry.",t,n),N._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:n}),{success:!1}):(N._logger.debug("Playlist response code was not acceptable.",t,n),N._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:n}),b.reject(new d.UnacceptableResponseStatusCodeError(n)))}),abort:function(){N._logger.debug("Aborting playlist request.",t),r.abort(),N._onPlaylistRequestFailed.dispatch({playlist:e,aborted:!0})}}})},p);return{result:e.whenComplete(),abort:function(){return e.abort()}}},{storeResult:!1}),this._retrieveJob=new g(function(){var e=N._downloadAbortableJob.run(),t=m();return e.onCompletion(function(e){var r=e.playlistContent,n=e.eventRepresentation;N._onPlaylistParseStart.dispatch({playlist:n});try{N._data=N._parsePlaylist(r)}catch(e){return N._logger.error("Error when parsing playlist.",e,r),void t.reject(e)}N._playlistEventRepresentation=n,N._onPlaylistParseEnd.dispatch({playlist:n}),t.resolve(void 0)}),e.onError(t.reject),{result:t.promise,abort:function(){return e.abort()}}},{storeResult:!1})}return e.prototype.retrieve=function(){return this._retrieveJob.run()},e.prototype.hasRetrieveCompleted=function(){return!!this._data},e.prototype.getStartingSequenceNumber=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.mediaSequence},e.prototype.getType=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.type},e.prototype.getTargetDuration=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.targetDuration},e.prototype.getTotalDuration=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.totalDuration},e.prototype.hasEnded=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.ended},e.prototype.getSegmentCount=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.segments.length},e.prototype.getSegment=function(e){return this.getSegments(e,e+1)[0]},e.prototype.getSegments=function(e,t){var r=this,n=this._data;if(!n)throw new Error("Not loaded yet.");var o=n.mediaSequence;void 0===e&&(e=o);var i=n.segments.length;if(void 0===t&&(t=o+i),e<o)throw new Error("Start index must be >= the first segment index.");if(t<o)throw new Error("End index must be >= the first segment index.");if(t>o+i)throw new Error("End index cannot be > than the index of the last segment.");if(t<e)throw new Error("End index must be >= start index.");return n.segments.slice(e-o,t-o).map(function(t,n){return new g(function(){var o=t.encryptionData,i=e+n,a=r._playlistEventRepresentation;if(!a)throw new Error("Playlist event representation should exist.");var s=r._buildEncryptionConfig(o,i);return{result:s.whenComplete().then(function(e){return new u.Segment({url:t.url,index:i,timeRange:t.timeRange,format:r._segmentFormat,loader:r._segmentLoader,playlistEventRepresentation:a,logger:r._logger,delayCalculator:r._segmentDelayCalculator,isResponseCodeAcceptable:r._isSegmentResponseCodeAcceptable,isResponseCodeRetryable:r._isSegmentResponseCodeRetryable,encryptionConfig:e})}),abort:function(){return s.abort()}}},{storeResult:!1}).run()})},e.prototype.getSegmentIndexContainingTime=function(e){var t=this._data;if(!t)throw new Error("Not loaded yet.");var r=w(t.segments,function(t){return t.timeRange.containsTime(e)});return r?t.mediaSequence+t.segments.indexOf(r):null},e.prototype._buildEncryptionConfig=function(e,t){var r=this;return new g(function(){if(e.method===s.NONE)return{result:b.resolve(void 0)};if(e.method!==s.AES_128)return r._logger.error("Unsupported encryption method.",e.method),{result:b.reject(new p.UnsupportedEncryptionError)};if(!r._keyLoader)return{result:b.reject(new Error("Encryption method not supported as no key loader provided."))};var n=r._retrieveKey(e.keyUrl);return{result:n.whenComplete().then(function(r){return{cipher:"AES-CBC",key:r,iv:e.iv||i(t)}}),abort:function(){return n.abort()}}}).run()},e.prototype._retrieveKey=function(e){var t=this,r=this._keyLoader;if(!r)throw new Error("No key loader.");var n=this._keyRetrievalJobsCache.get(e);if(n)this._logger.debug("Key retrieval already in progress.",e);else{var o=this._playlistEventRepresentation;if(!o)throw new Error("Playlist event representation should exist.");n=new g(function(){var n=A(function(){return new g(function(){var n=new f.Key(o,e);t._onKeyRequestQueued.dispatch({key:n});var i=r.request({url:e});return i.whenRequestStarted.then(function(){return t._onKeyRequestStart.dispatch({key:n})}),t._logger.debug("Retrieving key.",e),{result:i.getResponse().then(function(r){if(!r)return t._logger.warn("Key request timed out.",e),t._onKeyRequestFailed.dispatch({key:n,statusCode:null}),{success:!1};var o=r.statusCode;if(t._isKeyResponseCodeAcceptable(o)){var i=r.data;return i?(t._logger.debug("Got key response.",e,o),t._onKeyRetrieved.dispatch({key:n,statusCode:o}),{success:!0,result:new Uint8Array(i)}):(t._logger.warn("Key response contained no data.",e,o),t._onKeyRequestFailed.dispatch({key:n,statusCode:o}),{success:!1})}return t._isKeyResponseCodeRetryable(o)?(t._logger.warn("Key response code was not acceptable. Will retry.",e,o),t._onKeyRequestFailed.dispatch({key:n,statusCode:o}),{success:!1}):(t._logger.warn("Key response code was not acceptable.",e,o),t._onKeyRequestFailed.dispatch({key:n,statusCode:o}),b.reject(new d.UnacceptableResponseStatusCodeError(o)))}),abort:function(){t._logger.debug("Aborting key request.",e),i.abort(),t._onKeyRequestFailed.dispatch({key:n,aborted:!0})}}})},t._keyDelayCalculator);return{result:n.whenComplete(),abort:function(){return n.abort()}}},{storeResult:!1}),this._keyRetrievalJobsCache.set(e,n)}return n.run()},e.prototype._parsePlaylist=function(e){var t={version:null,type:R.LIVE,mediaSequence:null,targetDuration:null,totalDuration:0,ended:!1},r=[],i={method:s.NONE},a=null;P.lastIndex=0;for(var u,d=0,p=!1;null!==(u=P.exec(e));){var h=u.filter(function(e,t){return 0!==t&&void 0!==e}).map(function(e,t){return 0===t?e.toLowerCase():e}),f=h[0],g=h.slice(1);if(0===d){if("extm3u"!==f)throw new c.PlaylistParseError("First line did not contain EXTM3U tag.")}else{if(!p)switch(f){case"playlist-type":if(t.type!==R.LIVE)throw new c.PlaylistParseError("Already have playlist type.");switch(g[0].toLowerCase()){case"vod":t.type=R.VOD;break;case"event":t.type=R.EVENT;break;default:throw new c.PlaylistParseError("Invalid playlist type.")}break;case"media-sequence":if(null!==t.mediaSequence)throw new c.PlaylistParseError("Already have media sequence number.");var m=parseInt(g[0],10);if(m+""!==g[0])throw new c.PlaylistParseError("Invalid media sequence number.");t.mediaSequence=m;break;case"targetduration":if(null!==t.targetDuration)throw new c.PlaylistParseError("Already have target duration.");var v=parseInt(g[0],10);if(v+""!==g[0]||v<0)throw new c.PlaylistParseError("Invalid target duration.");t.targetDuration=1e3*v;break;case"version":if(null!==t.version)throw new c.PlaylistParseError("Already have version.");var y=parseInt(g[0],10);if(y+""!==g[0])throw new c.PlaylistParseError("Invalid version.");if(y<3)throw new c.PlaylistParseError("HLS version must be 3 or above.");t.version=y;break;default:p=!0}if(p)switch(f){case"key":T.lastIndex=0;for(var A=void 0,_=null,b=null,w=null;null!==(A=T.exec(g[0]));){if(3!==A.length)throw new c.PlaylistParseError("Error parsing key attributes.");var C=A[1].trim().toLowerCase(),S=n(A[2].trim());switch(C){case"method":_=S.toLowerCase();break;case"uri":b=E.buildAbsoluteUrl(this._url,S);break;case"iv":w=o(S);break;default:this._logger.warn("Unknown attribute when parsing KEY line.",C)}}if(!_)throw new c.PlaylistParseError("Missing encryption method.");if(!b&&"none"!==_)throw new c.PlaylistParseError("Missing key url.");switch(_){case"none":if(null!==b)throw new c.PlaylistParseError("Key url not allowed.");if(null!==w)throw new c.PlaylistParseError("IV not allowed.");i={method:s.NONE};break;case"aes-128":if(!b)throw new c.PlaylistParseError("Key url required.");i={method:s.AES_128,keyUrl:b,iv:w};break;case"sample-aes":if(!b)throw new c.PlaylistParseError("Key url required.");i={method:s.SAMPLE_AES,keyUrl:b,iv:w};break;default:throw new c.PlaylistParseError("Unknown encryption method.")}break;case"inf":if(!g[0].match(k))throw new c.PlaylistParseError("Invalid segment duration.");a=1e3*parseFloat(g[0]);break;case"":if(t.ended)throw new c.PlaylistParseError("Already received ENDLIST tag.");if(null===a)throw new c.PlaylistParseError("Not received segment duration.");var x=E.buildAbsoluteUrl(this._url,g[0]);r.push({url:x,timeRange:new l.TimeRange(t.totalDuration,a),encryptionData:i}),t.totalDuration+=a,a=null;break;case"endlist":if(t.ended)throw new c.PlaylistParseError("Already had ENDLIST tag.");t.ended=!0;break;default:this._logger.warn("Unable to parse playlist line.",f)}}d++}var B=t.version,M=t.type,D=t.mediaSequence,I=t.targetDuration,O=t.ended,L=t.totalDuration;if(null===B)throw new c.PlaylistParseError("Missing version.");if(null===I)throw new c.PlaylistParseError("Missing target duration.");if(O&&M===R.LIVE)throw new c.PlaylistParseError("Cannot be ended if type is LIVE.");if(!O&&M===R.VOD)throw new c.PlaylistParseError("Must be ended if type is VOD.");return null===D&&(D=0),{version:B,type:M,mediaSequence:D,targetDuration:I,totalDuration:L,ended:O,segments:r}},e}();t.Playlist=B},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(22),i=r(3),a=r(11),s=r(27),l=n.helpers.abortableJob.AbortableJob,u=n.helpers.retry,d=u.retry,c=u.buildExponentialDelayCalculator,p=n.helpers.Promise,h=n.eventDispatcher.EventDispatcher,f=n.logger.prefixLogger,g=n.logger.noOpLogger,m=function(){function e(e){var t=e.url,r=e.index,n=e.timeRange,o=e.encryptionConfig,a=e.format,u=e.loader,m=e.playlistEventRepresentation,v=e.logger,y=void 0===v?g:v,A=e.delayCalculator,_=void 0===A?c():A,b=e.isResponseCodeAcceptable,w=void 0===b?function(e){return 200===e}:b,E=e.isResponseCodeRetryable,C=void 0===E?function(e){return!(e>=400&&e<500)}:E,S=this;this._onSegmentRequestQueued=new h,this._onSegmentRequestStart=new h,this._onSegmentRetrieved=new h,this._onSegmentRequestFailed=new h,this._onSegmentDecryptionStart=new h,this._onSegmentDecryptionEnd=new h,this._logger=f(y,"Segment"),this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this.onSegmentDecryptionStart=this._onSegmentDecryptionStart.getHandle(),this.onSegmentDecryptionEnd=this._onSegmentDecryptionEnd.getHandle(),this._timeRange=n,this._encryptionConfig=o||null,this._format=a,this._loader=u,this._isResponseCodeAcceptable=w,this._isResponseCodeRetryable=C,this._downloadAbortableJob=new l(function(){var e=d(function(){return new l(function(){var e=new s.Segment(m,t,r);S._onSegmentRequestQueued.dispatch({segment:e});var n=S._loader.request({url:t});return n.whenRequestStarted.then(function(){return S._onSegmentRequestStart.dispatch({segment:e})}),S._logger.debug("Requesting segment.",t),{result:n.getResponse().then(function(r){if(!r)return S._logger.warn("Segment request timed out.",t),S._onSegmentRequestFailed.dispatch({segment:e,statusCode:null}),{success:!1};var n=r.statusCode;if(S._isResponseCodeAcceptable(n)){var o=r.data;return o?(S._logger.debug("Got segment response.",t,n),S._onSegmentRetrieved.dispatch({segment:e,statusCode:n}),{success:!0,result:{data:new Uint8Array(o),eventRepresentation:e}}):(S._logger.warn("Segment response contained no data.",t,n),S._onSegmentRequestFailed.dispatch({segment:e,statusCode:n}),{success:!1})}return S._isResponseCodeRetryable(n)?(S._logger.debug("Segment response code was not acceptable. Will retry.",t,n),S._onSegmentRequestFailed.dispatch({segment:e,statusCode:n}),{success:!1}):(S._logger.debug("Segment response code was not acceptable.",t,n),S._onSegmentRequestFailed.dispatch({segment:e,statusCode:n}),p.reject(new i.UnacceptableResponseStatusCodeError(n)))}),abort:function(){S._logger.debug("Aborting segment request.",t),n.abort(),S._onSegmentRequestFailed.dispatch({segment:e,aborted:!0})}}})},_);return{result:e.whenComplete(),abort:function(){return e.abort()}}},{storeResult:!1}),this._retrieveAbortableJob=new l(function(){var e=S._downloadAbortableJob.run();return{result:e.whenComplete().then(function(e){var t=e.data,r=e.eventRepresentation;return S.decrypt(t,r).then(function(e){return{data:e,eventRepresentation:r}})}),abort:function(){e.abort()}}},{storeResult:!1})}return e.prototype.getTimeRange=function(){return this._timeRange},e.prototype.retrieveData=function(){return this._retrieveAbortableJob.run()},e.prototype.decrypt=function(e,t){var r=this,n=this._encryptionConfig;if(!n)return p.resolve(e);this._logger.info("Finding a decryptor...");var i=o.DecryptorFactory.retrieveDecryptor(n);if(!i)return this._logger.error("Could not find a decryptor."),p.reject(new a.NoDecryptorError);this._logger.info("Decryptor found."),this._onSegmentDecryptionStart.dispatch({segment:t});var s=i.decrypt(e,n);return s.then(function(){r._logger.debug("Decrypted."),r._onSegmentDecryptionEnd.dispatch({segment:t})}),s},e}();t.Segment=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(4),i=n.helpers.Promise,a=n.eventDispatcher.EventDispatcher,s=n.logger.prefixLogger,l=n.logger.noOpLogger,u=o.helpers.timeRanges.getCoverage,d=function(){function e(e,t,r,n,o){void 0===o&&(o=l);var i=this;this._onAppendQueued=new a,this._onAppendEnd=new a,this._updateTimerId=null,this._waitingForData=!1,this._started=!1,this._resettingPromise=null,this._error=null,this._logger=s(o,"SimpleMSE"),this.onAppendQueued=this._onAppendQueued.getHandle(),this.onAppendEnd=this._onAppendEnd.getHandle(),this._mse=e,this._getNextSegmentData=t,this._getPosition=r,this._onError=n,e.whenInitialized().then(function(){!i._error&&i._started&&(i._logger.debug("MSE initialized. Preparing to update."),i._prepareUpdate())}).catch(function(e){i._error||(i._logger.error("Error when waiting for MSE to initialize.",e),i._handleError(e||new Error("Error waiting for MSE to initialize.")))})}return e.prototype.start=function(){if(this._checkNotErrored(),this._resettingPromise)throw new Error("start() is not allowed whilst a reset is in progress.");if(this._started)throw new Error("Already started. reset() first.");this._logger.debug("start() called."),this._started=!0,this._prepareUpdate()},e.prototype.kill=function(){this._error||(this._logger.debug("kill() called."),this._updateTimerId&&(this._logger.debug("Clearing update timer."),window.clearTimeout(this._updateTimerId),this._updateTimerId=null),this._error=new Error("Killed."),this._logger.debug("Killed."))},e.prototype.reset=function(){var e=this;if(this._checkNotErrored(),this._logger.debug("reset() called."),this._resettingPromise)return this._logger.debug("Reset already in progress."),this._resettingPromise;if(!this._started)return this._logger.debug("Nothing to do to, already reset."),i.resolve();var t=this._mse;return this._waitingForData=!1,this._started=!1,this._updateTimerId&&(this._logger.debug("Claring update timer."),window.clearTimeout(this._updateTimerId),this._updateTimerId=null),this._logger.debug("Waiting to clear MSE buffer..."),this._resettingPromise=t.whenIdle().then(function(){e._logger.debug("Clearing MSE buffer.");var r=t.getBuffered(),n=u(r);if(n.duration>0)return t.remove(n)}).then(function(){e._logger.debug("MSE buffer cleared."),e._resettingPromise=null}).catch(function(t){if(!e._error){e._logger.error("Error resetting MSE.",t);var r=t||new Error("Error resetting MSE.");throw e._handleError(r),r}})},e.prototype.waitingForSegmentData=function(){return this._checkNotErrored(),this._waitingForData},e.prototype.provideNextSegmentData=function(e){if(this._checkNotErrored(),!this._waitingForData)throw new Error("Not waiting for data.");this._logger.debug("Segment data provided."),this._waitingForData=!1,this._update(e)},e.prototype._prepareUpdate=function(){if(!this._updateTimerId){var e=this._mse;if(e.hasInitialized()){if(u(e.getBuffered()).end<=this._getPosition()+7e3){this._logger.debug("Requesting next segment data.");var t=this._getNextSegmentData();t?(this._logger.debug("Got segment data."),this._update(t)):(this._logger.debug("Did not get any data."),this._waitingForData=!0)}else this._scheduleUpdate()}}},e.prototype._update=function(e){var t=this;this._logger.debug("Updating...");var r=this._mse;this._onAppendQueued.dispatch({segment:e.eventRepresentation}),this._logger.debug("Appending..."),r.append(e.data).then(function(){t._logger.debug("Appended."),t._onAppendEnd.dispatch({segment:e.eventRepresentation}),t._resettingPromise||t._scheduleUpdate()}).catch(function(e){t._error||(t._logger.error("Error updating MSE.",e),t._handleError(e||new Error("Error updating MSE.")))})},e.prototype._scheduleUpdate=function(){var e=this;this._updateTimerId=window.setTimeout(function(){e._updateTimerId=null,e._prepareUpdate()},500)},e.prototype._checkNotErrored=function(){if(this._error)throw this._error},e.prototype._handleError=function(e){this._error||(this._error=e,this._onError(e))},e}();t.SimpleMSE=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34),o=r(14),i=[n.PassThrough,o.MP3ToMP4];t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.helpers.Promise;t.PassThrough={getInputFormat:function(){return{}},getOutputFormat:function(){return{}},transmux:function(e){return o.resolve({data:e})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(33);t.TransmuxerFactory={retrieveTransmuxers:function(e,t){return n.default.filter(function(r){var n=r.getInputFormat(),o=r.getOutputFormat();return!(e&&(n.mimeType&&e.mimeType&&e.mimeType!==n.mimeType||n.audioCodec&&e.audioCodec&&e.audioCodec.id!==n.audioCodec.id||n.videoCodec&&e.videoCodec&&e.videoCodec.id!==n.videoCodec.id)||t&&(o.mimeType&&t.mimeType&&t.mimeType!==o.mimeType||o.audioCodec&&t.audioCodec&&t.audioCodec.id!==o.audioCodec.id||o.videoCodec&&t.videoCodec&&t.videoCodec.id!==o.videoCodec.id))})},retrieveTransmuxer:function(e,r){return t.TransmuxerFactory.retrieveTransmuxers(e,r)[0]||null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="7.4.1",t.buildNumber=844;var n=r(16);t.HLSMSEPlayer=n.HLSMSEPlayer;var o=r(15);t.errors=o.errors;var i=r(17);t.retrievalErrors=i.retrievalErrors}])}(r(2),r(4))}()},function(e,t,r){!function(t,n){e.exports=function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(){return e.call(this,"An unrecoverable error occurred whilst decoding.")||this}return n(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.DECODE_ERROR"},t}(o.errors.PlayerFatalError);t.DecodeError=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(){return e.call(this,"An unrecoverable network error occurred.")||this}return n(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.NETWORK_ERROR"},t}(o.errors.PlayerFatalError);t.NetworkError=i},function(e,t,r){"use strict";function n(e){return e.slice(0).sort(function(e,t){return e.start-t.start}).reduce(function(e,t,r){var n=e.length-1;return r>0&&e[n].end>=t.start?e[n].end=t.end:e.push(t),e},[])}function o(e){for(var t=[],r=e.length,o=0;o<r;o++)t.push({end:1e3*e.end(o),start:1e3*e.start(o)});return n(t).map(function(e){return new l.TimeRange(e.start,e.end-e.start)})}function i(e,t){return t.some(function(t){return t.containsTime(e)})}function a(e){return n(e.map(function(e){return{start:e.start,end:e.end}})).map(function(e){return new l.TimeRange(e.start,e.end-e.start)})}function s(e){if(0===e.length)return new l.TimeRange(0,0);var t=1/0,r=0;return e.forEach(function(e){e.start<t&&(t=e.start),e.end>r&&(r=e.end)}),new l.TimeRange(t,r-t)}Object.defineProperty(t,"__esModule",{value:!0});var l=r(0);t.normalizeRawTimeRanges=n,t.buildTimeRanges=o,t.containsTime=i,t.normalizeTimeRanges=a,t.getCoverage=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(2);!function(e){e.DecodeError=n.DecodeError,e.NetworkError=o.NetworkError}(t.errors||(t.errors={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);!function(e){!function(e){e.buildTimeRanges=n.buildTimeRanges,e.containsTime=n.containsTime,e.getCoverage=n.getCoverage,e.normalizeTimeRanges=n.normalizeTimeRanges}(e.timeRanges||(e.timeRanges={}))}(t.helpers||(t.helpers={}))},function(e,t,r){"use strict";function n(e){e.load()}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),s=r(2),l=r(3),u=r(7),d=i.helpers.deferred.buildDeferred,c=i.helpers.url.getExtension,p=i.helpers.Promise,h=i.logger.prefixLogger,f=i.errors.NotSupportedError,g=i.errors.PlayerFatalError,m=new Error("Media element was revoked."),v=function(e){function t(t,r){var n=this.constructor,o=e.call(this,r)||this;o._duration=null,o._stallDetected=!1,o._initialized=!1,o._deferredProvideMediaElementCallback=null,o._playInProgress={inProgress:!1},o._lastStallCheckPos=null,o._stallCheckTimerId=null,o._endedOverride=!1,o._volume=1,o._muted=!1,o._positionWhenMediaElementRevoked=0,o._playingWhenMediaElementRevoked=!1,o._provideMediaElementDeferred=null,o._mediaElementAndState=null,o._listeners=[],o._currentSeekCallback=null,o._logger=h(o._logger,"HTML5Player"),o._descriptor=t,o._playerDependencies=r,o._mimeType=t.getFormat().mimeType||n.inferMimeType(t.getUrl());var a=void 0!==r.mediaElement?r.mediaElement:o._createDefaultMediaElement();return a&&o.provideMediaElement(a).catch(function(e){return e===m?void o._logger.debug("Initial provideMediaElement() call was aborted."):void o._triggerError(new u.InitializeError(e))}),o._logger.info("Checking if the player can play the provided descriptor."),o._canPlayTimer=window.setTimeout(function(){o._canPlay().then(function(e){if(!o.isDead())return e instanceof i.errors.NotSupportedError?(o._logger.info("Player not supported.",e),void o._triggerError(e)):e?(o._logger.info("Player supported."),void o._initialize()):(o._logger.info("Player not supported."),void o._triggerError(new f))}).catch(function(e){o._logger.error("Unexpected error during can play check.",e),o._triggerError(new g("An unexpected error occured during initialization.",e))})},0),o}return o(t,e),t.inferMimeType=function(e){switch(c(e)){case"mp3":return"audio/mpeg";case"mp4":return"video/mp4";case"m3u8":return"application/x-mpegURL";default:return null}},t.prototype.getMediaElement=function(){return this._mediaElementAndState&&this._mediaElementAndState.element},t.prototype.provideMediaElement=function(e){var t=this;if(this._ensureNotDead(),this._mediaElementAndState)throw new Error("Already have a media element.");this._logger.debug("provideMediaElement() called.",e),this._initMediaElementLocal(e,null);var r=this._provideMediaElementDeferred=d(),n=this._mediaElementAndState={element:e,state:"INITIALIZING"},o=function(){t._logger.debug("Initializing media element."),t._initMediaElement(e,t._descriptor.getUrl()),t._attachListeners();var o=t._listenToOnce("error",function(){t._provideMediaElementDeferred=null;var n=e.error.code+" = "+(e.error.message||"[unknown]");t._logger.error("Error whilst initializing media element.",n),t.revokeMediaElement(),r.reject(new Error("Error when initializing media element. Error: "+n))},{earlyAttach:!0});t._listenToOnce("loadeddata",function(){t._logger.debug("Got loadeddata event from media element."),i()},{earlyAttach:!0});var i=function(){t._logger.debug("Putting media element in the state that is expected..."),a()},a=function(){null===t._getQueuedSeekPosition()&&t._positionWhenMediaElementRevoked>0?(t._logger.debug("Seeking to expected position..."),t._performSeek(t._positionWhenMediaElementRevoked,function(e){return void 0!==e?(t._provideMediaElementDeferred=null,t._logger.error("An error occurred when trying to seek to the expected position."),t.revokeMediaElement(),void r.reject(new Error("An error occurred when trying to restore the position."))):(t._logger.debug("Seeked to expected position."),void s())})):s()},s=function(){t.isPlaying()===t.isActuallyPlaying()&&t._playingWhenMediaElementRevoked?(t._logger.debug("Calling play to match previous state..."),t._play().catch(function(){t._provideMediaElementDeferred=null,t._logger.error("An error occurred when trying to play."),n===t._mediaElementAndState&&t.revokeMediaElement(),r.reject(new Error("Browser refused play() request on media element."))}),t._listenToOnce("play",function(){t._logger.debug("Play succeeded."),l()},{earlyAttach:!0})):l()},l=function(){return t._mediaElementAndState!==n?void t._triggerError(new g("Media element switched unexpectedly.")):(t._provideMediaElementDeferred=null,o.remove(),r.resolve(void 0),t._mediaElementAndState.state="STABLE",t._logger.debug("Finished putting element in expected state."),void(null!==t._duration&&t._atomic(function(){t.isReady()||t._signalReady(),t._handleDefferredPauseAndSeek()})))}};return this._initialized?o():this._deferredProvideMediaElementCallback=o,this._provideMediaElementDeferred.promise},t.prototype.revokeMediaElement=function(){if(!this._mediaElementAndState)throw new Error("There is no media element to revoke.");this._deferredProvideMediaElementCallback=null,this._provideMediaElementDeferred&&(this._provideMediaElementDeferred.reject(m),this._provideMediaElementDeferred=null),this._logger.debug("revokeMediaElement() called."),this._detachListeners();var e=this._mediaElementAndState.element;this.isDead()||(this._positionWhenMediaElementRevoked=this.getPosition(),this._playingWhenMediaElementRevoked=this.isPlaying()),this._mediaElementAndState=null,this._initMediaElement(e,null),this.isDead()||this._handleStalled()},t.prototype.getVolume=function(){return this._volume},t.prototype.getMuted=function(){return this._muted},t.prototype.setMuted=function(e){this._muted=e,this._mediaElementAndState&&(this._mediaElementAndState.element.muted=e)},t.prototype.getBufferedTimeRanges=function(){return this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state?l.buildTimeRanges(this._mediaElementAndState.element.buffered):[]},t.prototype.getMaxBufferLength=function(){return null},t.prototype._setVolume=function(e){this._volume=e,this._mediaElementAndState&&(this._mediaElementAndState.element.volume=e)},t.prototype._getResolvedMimeType=function(){return this._mimeType},t.prototype._canPlay=function(){return this._mimeType&&this._canPlayProtocol(this._descriptor.getProtocol())&&this._canPlayType(this._mimeType)?p.resolve(!0):p.resolve(!1)},t.prototype._canPlayProtocol=function(e){return["http","hls"].indexOf(e.name)>=0},t.prototype._canPlayType=function(e){try{return!!document.createElement("audio").canPlayType(e)}catch(e){return!1}},t.prototype._initialize=function(){var e=this;this._initialized=!0,this._listenTo("error",function(){if("INITIALIZING"===e._mediaElementAndState.state)return void e._logger.debug("An error occurred, but the media element is initializing, so ignoring...");switch(e._mediaElementAndState.element.error.code){case 2:e._triggerError(new s.NetworkError);break;case 3:e._triggerError(new a.DecodeError);break;default:e._triggerError(new i.errors.PlayerFatalError("An unexpected error occurred."))}},{earlyAttach:!0}),this._listenTo("playing",function(){e._logger.debug("Media element playing event."),e._mediaElementAndState&&!e._mediaElementAndState.element.paused?e._handlePlayingEvent():e._logger.debug("Ignoring playing event because media element is reporting it is paused.")}),this._listenTo("pause",function(){e._logger.debug("Media element pause event."),e._mediaElementAndState&&e._mediaElementAndState.element.paused?e._handlePauseEvent():e._logger.debug("Ignoring pause event because media element is reporting it is not paused.")}),this._listenTo("ended",function(){e._logger.debug("Media element ended event."),e._mediaElementAndState&&!e._mediaElementAndState.element.ended?e._handleEndedEvent():e._logger.debug("Ignoring ended event because media element is reporting it is not ended.")}),this._listenTo("stalled",function(){e._logger.debug("Media element stalled event."),e._checkIfStalled()}),this._stallCheckTimerId=window.setInterval(function(){return e._checkIfStalled()},400),this._retrieveDuration().then(function(t){e._logger.debug("Duration retrieved.",t),e._duration=t,e._atomic(function(){e._provideDuration(t),e._mediaElementAndState&&"STABLE"===e._mediaElementAndState.state&&(e._signalReady(),e._handleDefferredPauseAndSeek())})}).catch(function(t){e._triggerError(new i.errors.PlayerFatalError("An unexpected error occurred when attempting to retrieve the duration.",t))}),this._deferredProvideMediaElementCallback&&this._deferredProvideMediaElementCallback()},t.prototype._createDefaultMediaElement=function(){return document.createElement(this._playerDependencies.mediaElementType||"audio")},t.prototype._handlePauseEvent=function(){var e=this;this._atomic(function(){e._shouldBeEnded()?e._signalEnded():(e._notifyNotStalled(),e._notifyPlaying(!1))})},t.prototype._handlePlayingEvent=function(){var e=this,t=this._duration;if(null===t)throw new Error("Expecting duration to exist.");var r=this._getTruePosition();return r>=t?void this._logger.warn("Got a media element playing event and the positon was >= the duration.",r,t):this.isEnded()||this._shouldBeEnded()?void this._logger.warn("Got a media element playing event when the player is/should be ended."):void this._atomic(function(){e._endedOverride=!1,e._notifyNotStalled(),e._signalNotEnded(),e._notifyPlaying(!0)})},t.prototype._handleEndedEvent=function(){var e=this;return null!==this._getQueuedSeekPosition()?void this._logger.warn("Got a media element ended event but ignoring because a seek is in progress."):void this._atomic(function(){e._endedOverride=!0,e._signalEnded()})},t.prototype._shouldBeEnded=function(){return this._endedOverride||this._mediaElementReportingEnded()},t.prototype._mediaElementReportingEnded=function(){return!(!this._mediaElementAndState||!this._mediaElementAndState.element.ended)},t.prototype._signalNotEnded=function(){if(this._shouldBeEnded())throw new Error("Attempt to signal not ended when it should be.");e.prototype._signalNotEnded.call(this)},t.prototype._retrieveDuration=function(){var e=this;return new p(function(t){e._listenToOnce("loadedmetadata",function(){var r=e._mediaElementAndState;r&&t(1e3*r.element.duration)},{reattach:!0,earlyAttach:!0})})},t.prototype._handlePlayPauseChange=function(e){var t=this;if(this.isEnded())return void this._notifyPlaying(e);if(this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state){var r=this._mediaElementAndState.element;if((this._playInProgress.inProgress||!r.paused)!==e)if(e){var n={inProgress:!0};this._playInProgress=n,this._play().then(function(){return n.inProgress=!1}).catch(function(e){n.inProgress=!1,t._notifyPlayRejection(e)})}else this._playInProgress={inProgress:!1},r.pause(),this._notifyPlaying(!1);else this._playInProgress.inProgress||this._notifyPlaying(e)}},t.prototype._handleSeekChange=function(e){var t=this,r=this._mediaElementAndState;r&&"USABLE"===r.state&&(this._endedOverride=!1,this._performSeek(e,function(r){return void 0!==r?void t._triggerError(new i.errors.PlayerFatalError("An error occurred when trying to seek.",r)):(e===t._duration&&(t._endedOverride=!0),void t._atomic(function(){t._signalSeekComplete(),t.isEnded()||t._handlePlayPauseChange(t.isPlaying())}))}))},t.prototype._performSeek=function(e,t){var r=this,n=this._mediaElementAndState;if(!n)throw new Error("Media element does not exist.");var o=this._currentSeekCallback;if(o&&(this._currentSeekCallback=null,o.listenerHandle.remove()),n.element.currentTime===e/1e3)return void t();n.element.currentTime=e/1e3;var i=this._listenToOnce("seeked",function(){r._currentSeekCallback=null,t()},{earlyAttach:!0});this._currentSeekCallback={listenerHandle:i,callback:t}},t.prototype._getPosition=function(){var e=null!==this._duration?this._duration:1/0;if(!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)return this._positionWhenMediaElementRevoked;var t=Math.min(this._getTruePosition(),e);return this._shouldBeEnded()?e:t},t.prototype._getTruePosition=function(){if(!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)throw new Error("Media element does not exist or is in invalid state.");return 1e3*this._mediaElementAndState.element.currentTime},t.prototype._kill=function(){window.clearTimeout(this._canPlayTimer),this._mediaElementAndState&&this.revokeMediaElement(),this._stallCheckTimerId&&window.clearInterval(this._stallCheckTimerId),this._listeners=[]},t.prototype._listenToOnce=function(e,t,r){void 0===r&&(r={});var n=r.reattach,o=r.earlyAttach;void 0===n&&(n=!1),void 0===o&&(o=!1);var i=function(e){a.remove(),t(e)},a=this._listenTo(e,i,{reattach:n,earlyAttach:o});return a},t.prototype._listenTo=function(e,t,r){var n=this;void 0===r&&(r={});var o=r.reattach,i=r.earlyAttach;void 0===o&&(o=!0),void 0===i&&(i=!1);var a=function(e){s.attached?t(e):n._logger.warn("Got media element event after handler was removed. Ignoring.",e)},s={attached:!1,handler:a,eventType:e,once:!1,reattach:o,earlyAttach:i};if(this._listeners.push(s),!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state&&!i)return{remove:function(){var e=n._listeners.indexOf(s);e>=0&&n._listeners.splice(e,1)}};var l=this._mediaElementAndState.element;return l.addEventListener(e,a,!1),s.attached=!0,{remove:function(){var t=n._listeners.indexOf(s);t>=0&&(n._listeners.splice(t,1),s.attached=!1,l.removeEventListener(e,a,!1))}}},t.prototype._notifyNotStalled=function(){this._stallDetected=!1,this._lastStallCheckPos=null,this._handleStalled()},t.prototype._initMediaElement=function(e,t){this._initMediaElementLocal(e,t)},t.prototype._initMediaElementLocal=function(e,t){e.setAttribute("msAudioCategory","BackgroundCapableMedia"),e.mozAudioChannelType="content",e.removeAttribute("src"),n(e),t&&(this._logger.debug("Setting media element src.",t),e.src=t),e.volume=this._volume,e.muted=this._muted,e.playbackRate=1,e.setAttribute("preload","metadata"),e.load()},t.prototype._checkIfStalled=function(){if(this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state){var e=this._mediaElementAndState.element;if(!e.paused&&this.isActuallyPlaying()){var t=e.currentTime;this._stallDetected=e.readyState<=2||this._lastStallCheckPos===t,this._lastStallCheckPos=t,this._handleStalled()}}},t.prototype._handleStalled=function(){this._shouldBeEnded()&&null===this._getQueuedSeekPosition()?this.isEnded()||(this._logger.debug("Signalling ended because stalled near end."),this._signalEnded()):this._notifyStalled(this._stallDetected||!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)},t.prototype._play=function(){var e=this;if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");if(this._mediaElementAndState.element.ended)return this._logger.debug("Not calling play() because we are at the end. It will be called after a seek."),p.resolve();var t=this._mediaElementAndState.element.play();return new p(function(r,n){t?t.then(function(){r()}).catch(function(t){"AbortError"===t.name?(e._logger.debug("Media element play() promise rejected with AbortError."),r()):n(t)}):r()})},t.prototype._handleDefferredPauseAndSeek=function(){var e=this;if(!this._mediaElementAndState||"STABLE"!==this._mediaElementAndState.state)throw new Error("Media element must be in the STABLE state.");this._logger.debug("Handling deferred pause and seek..."),this._mediaElementAndState.state="USABLE",this._attachListeners(),this._atomic(function(){e._handleStalled();var t=e._getQueuedSeekPosition();null!==t&&e._handleSeekChange(t),e.isPlaying()!==e.isActuallyPlaying()&&e._handlePlayPauseChange(e.isPlaying())})},t.prototype._detachListeners=function(){if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");var e=this._mediaElementAndState.element;this._listeners.forEach(function(t){t.attached&&(t.attached=!1,e.removeEventListener(t.eventType,t.handler,!1))}),this._listeners=this._listeners.filter(function(e){return e.reattach})},t.prototype._attachListeners=function(){if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");this._logger.debug("Attaching listeners...");var e=this._mediaElementAndState,t=e.element,r=e.state;this._listeners.forEach(function(e){e.attached||!e.reattach||"USABLE"!==r&&!e.earlyAttach||(t.addEventListener(e.eventType,e.handler,!1),e.attached=!0)}),this._logger.debug("Attached listeners.")},t}(i.BasePlayer);t.HTML5Player=v},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(t){return e.call(this,"An error occurred when initializing the media element.",t)||this}return n(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.INITIALIZE_ERROR"},t}(o.errors.PlayerFatalError);t.InitializeError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="7.4.1",t.buildNumber=844;var n=r(6);t.HTML5Player=n.HTML5Player;var o=r(4);t.errors=o.errors;var i=r(5);t.helpers=i.helpers}])}(r(2))}()},function(e,t,r){!function(t,n){e.exports=function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=function(e){function t(t,r,n){void 0===r&&(r={}),void 0===n&&(n=2e4);var o=e.call(this)||this;o.__aborted=!1;var i=new XMLHttpRequest;return o.xhr=i,i.addEventListener("load",function(){return o._onLoad()}),i.addEventListener("error",function(){return o._onError()}),i.addEventListener("timeout",function(){return o._onTimeout()}),i.open("GET",t,!0),i.timeout=n,i.responseType=o._getResponseType(),Object.keys(r).forEach(function(e){return i.setRequestHeader(e,r[e])}),o._signalRequestStart(),i.send(),o}return n(t,e),t.prototype._abort=function(){this.__aborted=!0,this.xhr.abort()},t.prototype._onTimeout=function(){this.__aborted||this._provideResponse(null)},t.prototype._onLoad=function(){if(!this.__aborted){var e=this.xhr;this._provideResponse({statusCode:e.status,data:this.xhr.response,headers:this._parseHeaders(e.getAllResponseHeaders()||"")})}},t.prototype._onError=function(){this.__aborted||(0===this.xhr.status?this._provideResponse({statusCode:0,data:null,headers:{}}):this._provideResponse(new Error("An error occurred.")))},t.prototype._parseHeaders=function(e){var t={};if(!e)return t;for(var r=e.split("\r\n"),n=0,o=r.length;n<o;n++){var i=r[n],a=i.indexOf(": ");if(a>0){var s=i.substring(0,a).trim(),l=i.substring(a+2);t[s]=l}}return t},t}(o.loader.LoaderRequest);t.LoaderRequest=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.arrayBufferLoader={request:function(e){var t=e.url,r=e.headers,o=e.timeout;return new n.ArrayBufferLoaderRequest(t,r,o)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.stringLoader={request:function(e){var t=e.url,r=e.headers,o=e.timeout;return new n.StringLoaderRequest(t,r,o)}}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype._getResponseType=function(){return"arraybuffer"},t}(o.LoaderRequest);t.ArrayBufferLoaderRequest=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype._getResponseType=function(){return"text"},t}(o.LoaderRequest);t.StringLoaderRequest=i},function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="7.4.1",t.buildNumber=844;var n=r(2);t.stringLoader=n.stringLoader;var o=r(1);t.arrayBufferLoader=o.arrayBufferLoader}])}(r(2))}()},function(e,t,r){!function(t,n){e.exports=function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(3),a=r(1),s=o.helpers.abortableJob.AbortableJob,l=o.helpers.find,u=o.helpers.time,d=new a.Limiter(300,3e5),c=[i.renditions.encryptedHlsMp3,i.renditions.hlsMp3,i.renditions.httpMp3],p=function(e){function t(t){var r=t.loader,n=t.clientId,o=t.trackId,i=t.secretToken,a=void 0===i?null:i,s=t.requestAuthorization,l=void 0===s?null:s,u=t.excludedRenditions,d=void 0===u?[]:u,c=t.maxBitrate,p=void 0===c?1/0:c,h=t.endpointBaseUrl,f=void 0===h?"https://api.soundcloud.com/":h,g=t.encryptedStreamsEnabled,m=void 0!==g&&g,v=e.call(this)||this;if(v._getUrlsJob=null,v._clearResponseTimer=null,!r)throw new Error("loader required.");if("string"!=typeof n)throw new Error("clientId invalid.");if("number"!=typeof o)throw new Error("trackId invalid.");if(null!==a&&"string"!=typeof a)throw new Error("secretToken invalid.");if(null!==l&&"string"!=typeof l)throw new Error("requestAuthorizaton invalid.");if("number"!=typeof p||p<=0)throw new Error("maxBitrate must be > 0.");if("string"!=typeof f)throw new Error("endpointBaseUrl must be > 0.");if("boolean"!=typeof m)throw new Error("encryptedStreamsEnabled invalid.");return v._loader=r,v._clientId=n,v._requestAuthorization=l,v._trackId=o,v._secretToken=a,v._endpointBaseUrl=f,v._encryptedStreamsEnabled=m,v._excludedRenditions=d,v._excludedRenditionsOnLastURLRequest=d.slice(),v._maxBitrate=p,v}return n(t,e),t.prototype.getTrackId=function(){return this._trackId},t.prototype.excludeRendition=function(e){this._excludedRenditions.indexOf(e)<0&&this._excludedRenditions.push(e)},t.prototype.updateRequestAuthorization=function(e){if(null!==e&&"string"!=typeof e)throw new Error("requestAuthorizaton invalid.");this._requestAuthorization=e},t.prototype.clearCache=function(){this._clearResponseTimer&&(window.clearTimeout(this._clearResponseTimer),this._clearResponseTimer=null),this._getUrlsJob=null},t.prototype.getMaxBitrate=function(){return this._maxBitrate},t.prototype.setMaxBitrate=function(e){if("number"!=typeof e||e<=0)throw new Error("maxBitrate must be > 0.");this._maxBitrate=e},t.prototype.getUrl=function(){var e=this,t=this._maxBitrate,r=this._excludedRenditions;return new s(function(){e._excludedRenditionsOnLastURLRequest.length===e._excludedRenditions.length?e.clearCache():e._excludedRenditionsOnLastURLRequest=e._excludedRenditions.slice();var n=e._getUrls();return{result:n.whenComplete().then(function(e){var n=e.urls,o=e.timeRetrieved,i=null;return c.filter(function(e){return r.indexOf(e)<0}).some(function(e){var r=n.filter(function(t){return t.rendition===e}).map(function(e){return{url:e.url,bitrate:e.bitrate}}),a=l(r.sort(function(e,t){return t.bitrate-e.bitrate}),function(e){return e.bitrate<=t});return!!a&&(i={url:a.url,rendition:e,bitrate:a.bitrate,timeRetrieved:o},!0)}),i}),abort:function(){return n.abort()}}}).run()},t.prototype._getUrls=function(){var e=this;return this._getUrlsJob||(this._getUrlsJob=new s(function(){var t=o.helpers.deferred.buildDeferred(),r=null,n=d.execute(function(){var n=e._requestAuthorization?{Authorization:e._requestAuthorization}:{},o=e._endpointBaseUrl+"i1/tracks/"+encodeURI(e._trackId+"")+"/streams?client_id="+encodeURIComponent(e._clientId);e._encryptedStreamsEnabled&&(o+="&with_encrypted_streams=true"),e._secretToken&&(o+="&secret_token="+encodeURI(e._secretToken)),r=e._loader.request({url:o,headers:n}),r.getResponse().then(function(e){if(!e)throw new i.RequestError(null);if(200!==e.statusCode)throw new i.RequestError(e.statusCode);if(!e.data)throw new Error("Response contained no data.");var t=u.now(),r=JSON.parse(e.data),n=[];return Object.keys(r).map(function(e){var t=e.split("_"),o=t[0],i=t[1],a=t[2],s=parseInt(a,10);if(o&&i&&!isNaN(s)){var u=l(c,function(e){return e.scProtocol===o&&e.scFormat===i});u&&n.push({rendition:u,bitrate:s,url:r[e]})}}),{urls:n,timeRetrieved:t}}).then(t.resolve,t.reject)});return{result:t.promise,abort:function(){n.abort(),r&&r.abort()}}}),this._clearResponseTimer=window.setTimeout(function(){e._clearResponseTimer=null,e._getUrlsJob=null},5e3)),this._getUrlsJob.run()},t}(i.BaseStreamUrlRetriever);t.StreamUrlRetriever=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){if(void 0===t&&(t=6e4),this._limit=e,this._period=t,this._jobs=[],this._jobsRunInPeriod=0,e<=0)throw new Error("limit must be > 0.");if(t<=0)throw new Error("period must be > 0.")}return e.prototype.execute=function(e){var t=this,r={job:e};return this._jobs.push(r),this._executeNextJob(),{abort:function(){var e=t._jobs.indexOf(r);e>=0&&t._jobs.splice(e,1)}}},e.prototype._executeNextJob=function(){var e=this;if(this._jobsRunInPeriod<this._limit){var t=this._jobs.shift();t&&(this._jobsRunInPeriod++,window.setTimeout(function(){e._jobsRunInPeriod--,e._executeNextJob()},this._period),t.job())}},e}();t.Limiter=n},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.3.1",t.buildNumber=315;var n=r(0);t.StreamUrlRetriever=n.StreamUrlRetriever}])}(r(2),r(1))}()}])},function(e,t,r){var n;(function(e,o,i,a){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   2.3.0
	 */
(function(){"use strict";function s(e){return"function"==typeof e||"object"==typeof e&&null!==e}function l(e){return"function"==typeof e}function u(e){return"object"==typeof e&&null!==e}function d(e){G=e}function c(e){X=e}function p(){return function(){H(f)}}function h(){return function(){setTimeout(f,1)}}function f(){for(var e=0;e<W;e+=2){(0,ee[e])(ee[e+1]),ee[e]=void 0,ee[e+1]=void 0}W=0}function g(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function y(e){try{return e.then}catch(e){return oe.error=e,oe}}function A(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function _(e,t,r){X(function(e){var n=!1,o=A(r,t,function(r){n||(n=!0,t!==r?E(e,r):S(e,r))},function(t){n||(n=!0,x(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,x(e,o))},e)}function b(e,t){t._state===re?S(e,t._result):t._state===ne?x(e,t._result):P(t,void 0,function(t){E(e,t)},function(t){x(e,t)})}function w(e,t){if(t.constructor===e.constructor)b(e,t);else{var r=y(t);r===oe?x(e,oe.error):void 0===r?S(e,t):l(r)?_(e,t,r):S(e,t)}}function E(e,t){e===t?x(e,m()):s(t)?w(e,t):S(e,t)}function C(e){e._onerror&&e._onerror(e._result),T(e)}function S(e,t){e._state===te&&(e._result=t,e._state=re,0!==e._subscribers.length&&X(T,e))}function x(e,t){e._state===te&&(e._state=ne,e._result=t,X(C,e))}function P(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+re]=r,o[i+ne]=n,0===i&&e._state&&X(T,e)}function T(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n,o,i=e._result,a=0;a<t.length;a+=3)n=t[a],o=t[a+r],n?B(r,n,o,i):o(i);e._subscribers.length=0}}function k(){this.error=null}function R(e,t){try{return e(t)}catch(e){return ie.error=e,ie}}function B(e,t,r,n){var o,i,a,s,u=l(r);if(u){if(o=R(r,n),o===ie?(s=!0,i=o.error,o=null):a=!0,t===o)return void x(t,v())}else o=n,a=!0;t._state!==te||(u&&a?E(t,o):s?x(t,i):e===re?S(t,o):e===ne&&x(t,o))}function M(e,t){try{t(function(t){E(e,t)},function(t){x(e,t)})}catch(t){x(e,t)}}function D(e,t){var r=this;r._instanceConstructor=e,r.promise=new e(g),r._validateInput(t)?(r._input=t,r.length=t.length,r._remaining=t.length,r._init(),0===r.length?S(r.promise,r._result):(r.length=r.length||0,r._enumerate(),0===r._remaining&&S(r.promise,r._result))):x(r.promise,r._validationError())}function I(e){return new ae(this,e).promise}function O(e){function t(e){E(o,e)}function r(e){x(o,e)}var n=this,o=new n(g);if(!V(e))return x(o,new TypeError("You must pass an array to race.")),o;for(var i=e.length,a=0;o._state===te&&a<i;a++)P(n.resolve(e[a]),void 0,t,r);return o}function L(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(g);return E(r,e),r}function z(e){var t=this,r=new t(g);return x(r,e),r}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(e){this._id=ce++,this._state=void 0,this._result=void 0,this._subscribers=[],g!==e&&(l(e)||N(),this instanceof j||U(),M(this,e))}function F(){var e;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=pe)}var q;q=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H,G,Y,V=q,W=0,X=function(e,t){ee[W]=e,ee[W+1]=t,2===(W+=2)&&(G?G(f):Y())},K="undefined"!=typeof window?window:void 0,J=K||{},Z=J.MutationObserver||J.WebKitMutationObserver,Q=void 0!==e&&"[object process]"==={}.toString.call(e),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ee=new Array(1e3);Y=Q?function(){var t=e.nextTick,r=e.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(r)&&"0"===r[1]&&"10"===r[2]&&(t=o),function(){t(f)}}():Z?function(){var e=0,t=new Z(f),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}():$?function(){var e=new MessageChannel;return e.port1.onmessage=f,function(){e.port2.postMessage(0)}}():void 0===K?function(){try{var e=r(29);return H=e.runOnLoop||e.runOnContext,p()}catch(e){return h()}}():h();var te=void 0,re=1,ne=2,oe=new k,ie=new k;D.prototype._validateInput=function(e){return V(e)},D.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},D.prototype._init=function(){this._result=new Array(this.length)};var ae=D;D.prototype._enumerate=function(){for(var e=this,t=e.length,r=e.promise,n=e._input,o=0;r._state===te&&o<t;o++)e._eachEntry(n[o],o)},D.prototype._eachEntry=function(e,t){var r=this,n=r._instanceConstructor;u(e)?e.constructor===n&&e._state!==te?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(n.resolve(e),t):(r._remaining--,r._result[t]=e)},D.prototype._settledAt=function(e,t,r){var n=this,o=n.promise;o._state===te&&(n._remaining--,e===ne?x(o,r):n._result[t]=r),0===n._remaining&&S(o,n._result)},D.prototype._willSettleAt=function(e,t){var r=this;P(e,void 0,function(e){r._settledAt(re,t,e)},function(e){r._settledAt(ne,t,e)})};var se=I,le=O,ue=L,de=z,ce=0,pe=j;j.all=se,j.race=le,j.resolve=ue,j.reject=de,j._setScheduler=d,j._setAsap=c,j._asap=X,j.prototype={constructor:j,then:function(e,t){var r=this,n=r._state;if(n===re&&!e||n===ne&&!t)return this;var o=new this.constructor(g),i=r._result;if(n){var a=arguments[n-1];X(function(){B(n,o,a,i)})}else P(r,o,e,t);return o},catch:function(e){return this.then(null,e)}};var he=F,fe={Promise:pe,polyfill:he};r(23).amd?void 0!==(n=function(){return fe}.call(t,r,t,a))&&(a.exports=n):void 0!==a&&a.exports?a.exports=fe:void 0!==this&&(this.ES6Promise=fe),he()}).call(this)}).call(t,r(6),r(25).setImmediate,function(){return this}(),r(24)(e))},function(e,t){"use strict";var r={oauth_token:void 0,baseURL:"https://api.soundcloud.com",connectURL:"//connect.soundcloud.com",client_id:void 0,redirect_uri:void 0};e.exports={get:function(e){return r[e]},set:function(e,t){t&&(r[e]=t)}}},function(e,t,r){(function(t){"use strict";var n=r(3),o=r(20),i=r(2).Promise,a=function(e,r,n,o){var a=void 0,s=new i(function(i){var s=t.FormData&&n instanceof FormData;a=new XMLHttpRequest,a.upload&&a.upload.addEventListener("progress",o),a.open(e,r,!0),s||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){4===a.readyState&&i({responseText:a.responseText,request:a})},a.send(n)});return s.request=a,s},s=function(e){var t=e.responseText,r=e.request,n=void 0,o=void 0;try{o=JSON.parse(t)}catch(e){}return o?o.errors&&(n={message:""},o.errors[0]&&o.errors[0].error_message&&(n={message:o.errors[0].error_message})):n=r?{message:"HTTP Error: "+r.status}:{message:"Unknown error"},n&&(n.status=r.status),{json:o,error:n}},l=function e(t,r,n,o){var i=a(t,r,n,o),l=i.then(function(t){var r=t.responseText,n=t.request,o=s({responseText:r,request:n});if(o.json&&"302 - Found"===o.json.status)return e("GET",o.json.location,null);if(200!==n.status&&o.error)throw o.error;return o.json});return l.request=i.request,l},u=function(e,t,r){Object.keys(t).forEach(function(n){r?e.append(n,t[n]):e[n]=t[n]})};e.exports={request:function(e,r){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],a=arguments.length<=3||void 0===arguments[3]?function(){}:arguments[3],s=n.get("oauth_token"),d=n.get("client_id"),c={},p=t.FormData&&i instanceof FormData,h=void 0,f=void 0;return c.format="json",s?c.oauth_token=s:c.client_id=d,u(i,c,p),"GET"!==e&&(h=p?i:o.encode(i),i={oauth_token:s}),r="/"!==r[0]?"/"+r:r,f=""+n.get("baseURL")+r+"?"+o.encode(i),l(e,f,h,a)},oEmbed:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.element;delete t.element,t.url=e;var n="https://soundcloud.com/oembed.json?"+o.encode(t);return l("GET",n,null).then(function(e){return r&&e.html&&(r.innerHTML=e.html),e})},upload:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.asset_data||e.file;if(!(n.get("oauth_token")&&e.title&&t))return new i(function(e,t){t({status:0,error_message:"oauth_token needs to be present and title and asset_data / file passed as parameters"})});var r=Object.keys(e),o=new FormData;return r.forEach(function(t){var r=e[t];"file"===t&&(t="asset_data",r=e.file),o.append("track["+t+"]",r)}),this.request("POST","/tracks",o,e.progress)},resolve:function(e){return this.request("GET","/resolve",{url:e,_status_code_map:{302:200}})}}}).call(t,function(){return this}())},function(e,t){"use strict";var r={};e.exports={get:function(e){return r[e]},set:function(e,t){r[e]=t}}},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function a(){g&&h&&(g=!1,h.length?f=h.concat(f):m=-1,f.length&&s())}function s(){if(!g){var e=o(a);g=!0;for(var t=f.length;t;){for(h=f,f=[];++m<t;)h&&h[m].run();m=-1,t=f.length}h=null,g=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var d,c,p=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var h,f=[],g=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new l(e,t)),1!==f.length||g||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(22);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""),e?e.split("&").reduce(function(e,t){var r=t.replace(/\+/g," ").split("="),n=r.shift(),o=r.length>0?r.join("="):void 0;return n=decodeURIComponent(n),o=void 0===o?null:decodeURIComponent(o),e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]:e[n]=o,e},{}):{})},t.stringify=function(e){return e?Object.keys(e).sort().map(function(t){var r=e[t];return Array.isArray(r)?r.sort().map(function(e){return n(t)+"="+n(e)}).join("&"):n(t)+"="+n(r)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,r){"use strict";var n=r(7),o=r(5);e.exports={notifyDialog:function(e){var t=n.parse(e.search),r=n.parse(e.hash),i={oauth_token:t.access_token||r.access_token,dialog_id:t.state||r.state,error:t.error||r.error,error_description:t.error_description||r.error_description},a=o.get(i.dialog_id);a&&a.handleConnectResponse(i)}}},function(e,t,r){"use strict";var n=r(3),o=r(11),i=r(2).Promise,a=function(e){return n.set("oauth_token",e.oauth_token),e};e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=n.get("oauth_token");if(t)return new i(function(e){e({oauth_token:t})});var r={client_id:e.client_id||n.get("client_id"),redirect_uri:e.redirect_uri||n.get("redirect_uri"),response_type:"code_and_token",scope:e.scope||"non-expiring",display:"popup"};if(!r.client_id||!r.redirect_uri)throw new Error("Options client_id and redirect_uri must be passed");return new o(r).open().then(a)}},function(e,t,r){"use strict";var n=r(2).Promise;e.exports=function(){var e={};return e.promise=new n(function(t,r){e.resolve=t,e.reject=r}),e}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(10),a=r(5),s=r(12),l=r(7),u=function(){return["SoundCloud_Dialog",Math.ceil(1e6*Math.random()).toString(16)].join("_")},d=function(e){return"https://soundcloud.com/connect?"+l.stringify(e)},c=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n(this,e),this.id=u(),this.options=t,this.options.state=this.id,this.width=420,this.height=670,this.deferred=i()}return o(e,[{key:"open",value:function(){var e=d(this.options);return this.popup=s.open(e,this.width,this.height),a.set(this.id,this),this.deferred.promise}},{key:"handleConnectResponse",value:function(e){e.error?this.deferred.reject(e):this.deferred.resolve(e),this.popup.close()}}]),e}();e.exports=c},function(e,t){"use strict";e.exports={open:function(e,t,r){var n={},o=void 0;return n.location=1,n.width=t,n.height=r,n.left=window.screenX+(window.outerWidth-t)/2,n.top=window.screenY+(window.outerHeight-r)/2,n.toolbar="no",n.scrollbars="yes",o=Object.keys(n).map(function(e){return e+"="+n[e]}).join(", "),window.open(e,n.name,o)}}},function(e,t,r){"use strict";var n=r(19),o=r(1).MaestroCore,i=o.errors.PlayerFatalError,a=o.State,s=r(1).SCAudio.errors,l=s.GeoBlockedError,u=s.NoStreamsError,d=s.TimedOutError,c=s.NotSupportedError,p=1e3/60;e.exports=function(e){function t(){switch(e.getState()){case a.PLAYING:return"playing";case a.PAUSED:return e.isEnded()?"ended":"paused";case a.DEAD:return e.getFatalError()?"error":"dead";case a.LOADING:default:return"loading"}}var r=!1;e.onStateChange.subscribe(function(){return o.trigger("state-change",t())}),e.onPlay.subscribe(function(){o.trigger(r?"play-resume":"play-start"),r=!0}),e.onPlayIntent.subscribe(function(){return o.trigger("play")}),e.onPlayRejection.subscribe(function(e){return o.trigger("play-rejection",e)}),e.onPauseIntent.subscribe(function(){return o.trigger("pause")}),e.onSeek.subscribe(function(){return o.trigger("seeked")}),e.onSeekRejection.subscribe(function(e){return o.trigger("seek-rejection",e)}),e.onLoadStart.subscribe(function(){return o.trigger("buffering_start")}),e.onLoadEnd.subscribe(function(){return o.trigger("buffering_end")}),e.onEnded.subscribe(function(){return o.trigger("finish")}),e.onError.subscribe(function(e){e instanceof l?o.trigger("geo_blocked"):e instanceof u?o.trigger("no_streams"):e instanceof d?o.trigger("no_connection"):e instanceof c?o.trigger("no_protocol"):e instanceof i&&o.trigger("audio_error")});var o={play:e.play.bind(e),pause:e.pause.bind(e),seek:e.seek.bind(e),getVolume:e.getVolume.bind(e),setVolume:e.setVolume.bind(e),currentTime:e.getPosition.bind(e),getDuration:e.getDuration.bind(e),isBuffering:e.isLoading.bind(e),isPlaying:e.isPlaying.bind(e),isActuallyPlaying:e.isActuallyPlaying.bind(e),isEnded:e.isEnded.bind(e),isDead:e.isDead.bind(e),kill:e.kill.bind(e),hasErrored:function(){return!!e.getFatalError()},getState:t};return n.mixin(o),function(){function t(){window.clearTimeout(r),e.isPlaying()&&!e.isEnded()&&(r=window.setTimeout(t,p));var i=e.getPosition();i!==n&&(n=i,o.trigger("time",i))}var r=0,n=null;e.onChange.subscribe(function(e){var n=e.playing,o=e.seeking;e.dead?window.clearTimeout(r):void 0===n&&void 0===o||t()})}(),o}},function(e,t){(function(t){"use strict";var r=t.AudioContext||t.webkitAudioContext,n=null;e.exports=function(){return n||(n=new r)}}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";var r=t.navigator.getUserMedia||t.navigator.webkitGetUserMedia||t.navigator.mozGetUserMedia;e.exports=function(e,n,o){r.call(t.navigator,e,n,o)}}).call(t,function(){return this}())},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(14),a=r(15),s=r(2).Promise,l=r(28),u=function(){var e=this,t=this.context;return new s(function(r,n){e.source?e.source instanceof AudioNode?r(e.source):n(new Error("source needs to be an instance of AudioNode")):a({audio:!0},function(n){e.stream=n,e.source=t.createMediaStreamSource(n),r(e.source)}.bind(e),n)})},d=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n(this,e),this.context=t.context||i(),this._recorder=null,this.source=t.source,this.stream=null}return o(e,[{key:"start",value:function(){var e=this;return u.call(this).then(function(t){return e._recorder=new l(t),e._recorder.record(),t})}},{key:"stop",value:function(){if(this._recorder&&this._recorder.stop(),this.stream)if(this.stream.stop)this.stream.stop();else if(this.stream.getTracks){var e=this.stream.getTracks()[0];e&&e.stop()}}},{key:"getBuffer",value:function(){var e=this;return new s(function(t,r){e._recorder?e._recorder.getBuffer(function(r){var n=e.context.sampleRate,o=e.context.createBuffer(2,r[0].length,n);o.getChannelData(0).set(r[0]),o.getChannelData(1).set(r[1]),t(o)}.bind(e)):r(new Error("Nothing has been recorded yet."))})}},{key:"getWAV",value:function(){var e=this;return new s(function(t,r){e._recorder?e._recorder.exportWAV(function(e){t(e)}):r(new Error("Nothing has been recorded yet."))})}},{key:"play",value:function(){var e=this;return this.getBuffer().then(function(t){var r=e.context.createBufferSource();return r.buffer=t,r.connect(e.context.destination),r.start(0),r})}},{key:"saveAs",value:function(e){return this.getWAV().then(function(t){l.forceDownload(t,e)})}},{key:"delete",value:function(){this._recorder&&(this._recorder.stop(),this._recorder.clear(),this._recorder=null),this.stream&&this.stream.stop()}}]),e}();e.exports=d},function(e,t,r){"use strict";var n=r(4),o=r(3),i=r(13),a=r(1).SCAudio,s=r(1).SCAudioPublicApiStreamURLRetriever.StreamUrlRetriever,l=r(1).MaestroHTML5Player.HTML5Player,u=r(1).MaestroHLSMSEPlayer.HLSMSEPlayer,d=r(1).MaestroLoaders.stringLoader;e.exports=function(e,t){var r=t?{secret_token:t}:{};return n.request("GET",e,r).then(function(e){function r(){var r=n+"/tracks/"+encodeURIComponent(e.id)+"/plays?client_id="+encodeURIComponent(c);t&&(r+="&secret_token="+encodeURIComponent(t));var o=new XMLHttpRequest;o.open("POST",r,!0),o.send()}var n=o.get("baseURL"),c=o.get("client_id"),p=o.get("oauth_token"),h=!1,f=new s({clientId:c,secretToken:t,trackId:e.id,requestAuthorization:p?"OAuth "+p:null,loader:d}),g=a.buildPlayer({playerClasses:[l,u],streamUrlRetriever:f,fadeOutDuration:"SNIP"===e.policy?3e3:0});return g.onPlay.subscribe(function(){h||(h=!0,r())}),g.onEnded.subscribe(function(){g.pause()}),g.onPlayIntent.subscribe(function(){g.isEnded()&&g.seek(0)}),i(g)})}},function(e,t,r){!function(){var r,n=Array.prototype.forEach,o=Object.prototype.hasOwnProperty,i=Array.prototype.slice,a=0,s=function(){return{keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,r=[];for(t in e)e.hasOwnProperty(t)&&(r[r.length]=t);return r},uniqueId:function(e){var t=++a+"";return e?e+t:t},has:function(e,t){return o.call(e,t)},each:function(e,t,r){if(null!=e)if(n&&e.forEach===n)e.forEach(t,r);else if(e.length===+e.length)for(var o=0,i=e.length;o<i;o++)t.call(r,e[o],o,e);else for(var a in e)this.has(e,a)&&t.call(r,e[a],a,e)},once:function(e){var t,r=!1;return function(){return r?t:(r=!0,t=e.apply(this,arguments),e=null,t)}}}}();r={on:function(e,t,r){return u(this,"on",e,[t,r])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:r,ctx:r||this}),this):this},once:function(e,t,r){if(!u(this,"once",e,[t,r])||!t)return this;var n=this,o=s.once(function(){n.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,r)},off:function(e,t,r){var n,o,i,a,l,d,c,p;if(!this._events||!u(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events={},this;for(a=e?[e]:s.keys(this._events),l=0,d=a.length;l<d;l++)if(e=a[l],i=this._events[e]){if(this._events[e]=n=[],t||r)for(c=0,p=i.length;c<p;c++)o=i[c],(t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context)&&n.push(o);n.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!u(this,"trigger",e,t))return this;var r=this._events[e],n=this._events.all;return r&&d(r,t),n&&d(n,arguments),this},stopListening:function(e,t,r){var n=this._listeners;if(!n)return this;var o=!t&&!r;"object"==typeof t&&(r=this),e&&((n={})[e._listenerId]=e);for(var i in n)n[i].off(t,r,this),o&&delete this._listeners[i];return this}};var l=/\s+/,u=function(e,t,r,n){if(!r)return!0;if("object"==typeof r){for(var o in r)e[t].apply(e,[o,r[o]].concat(n));return!1}if(l.test(r)){for(var i=r.split(l),a=0,s=i.length;a<s;a++)e[t].apply(e,[i[a]].concat(n));return!1}return!0},d=function(e,t){var r,n=-1,o=e.length,i=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++n<o;)(r=e[n]).callback.call(r.ctx);return;case 1:for(;++n<o;)(r=e[n]).callback.call(r.ctx,i);return;case 2:for(;++n<o;)(r=e[n]).callback.call(r.ctx,i,a);return;case 3:for(;++n<o;)(r=e[n]).callback.call(r.ctx,i,a,s);return;default:for(;++n<o;)(r=e[n]).callback.apply(r.ctx,t)}},c={listenTo:"on",listenToOnce:"once"};s.each(c,function(e,t){r[t]=function(t,r,n){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=s.uniqueId("l"))]=t,"object"==typeof r&&(n=this),t[e](r,n,this),this}}),r.bind=r.on,r.unbind=r.off,r.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return s.each(t,function(t){e[t]=this[t]},this),e},void 0!==e&&e.exports&&(t=e.exports=r),t.BackboneEvents=r}()},function(e,t,r){e.exports=r(18)},function(e,t){e.exports={encode:function(e,t){function r(e){return e.filter(function(e){return"string"==typeof e&&e.length}).join("&")}function n(e){var t=Object.keys(e);return c?t.sort():t}function o(e,t){return r(n(t).map(function(r){return a(":name[:prop]".replace(/:name/,e).replace(/:prop/,r),t[r])}))}function i(e,t){return r(t.map(function(t){return a(":name[]".replace(/:name/,e),t)}))}function a(e,t){var r=/%20/g,n=encodeURIComponent,a=typeof t,s=null;return Array.isArray(t)?s=i(e,t):"string"===a?s=n(e)+"="+l(t):"number"===a?s=n(e)+"="+n(t).replace(r,"+"):"boolean"===a?s=n(e)+"="+t:"object"===a&&(null!==t?s=o(e,t):d||(s=n(e)+"=null")),s}function s(e){return"%"+("0"+e.charCodeAt(0).toString(16)).slice(-2).toUpperCase()}function l(e){return e.replace(/[^ !'()~\*]*/g,encodeURIComponent).replace(/ /g,"+").replace(/[!'()~\*]/g,s)}var u="object"==typeof t?t:{},d=u.ignorenull||!1,c=u.sorted||!1;return r(n(e).map(function(t){return a(t,e[t])}))}}},function(e,t,r){(function(e,t){!function(e,r){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return u[l]=n,s(l),l++}function o(e){delete u[e]}function i(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}function a(e){if(d)setTimeout(a,0,e);else{var t=u[e];if(t){d=!0;try{i(t)}finally{o(e),d=!1}}}}if(!e.setImmediate){var s,l=1,u={},d=!1,c=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&a(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),s=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var e=c.documentElement;s=function(t){var r=c.createElement("script");r.onreadystatechange=function(){a(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():function(){s=function(e){setTimeout(a,0,e)}}(),p.setImmediate=n,p.clearImmediate=o}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,function(){return this}(),r(6))},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,n,o){function i(e,t){this._id=e,this._clearFn=t}var a=Function.prototype.apply;n.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(21),n.setImmediate=t,n.clearImmediate=r},function(e,t){var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{var o=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;n=new o,n.append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){return new Worker(t)}}},function(e,t,r){e.exports=function(){return r(26)('!function(t){function n(r){if(e[r])return e[r].exports;var a=e[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n){(function(t){function n(t){h=t.sampleRate,v=t.numChannels,s()}function e(t){for(var n=0;n<v;n++)p[n].push(t[n]);g+=t[0].length}function r(t){for(var n=[],e=0;e<v;e++)n.push(i(p[e],g));if(2===v)var r=f(n[0],n[1]);else var r=n[0];var a=l(r),o=new Blob([a],{type:t});this.postMessage(o)}function a(){for(var t=[],n=0;n<v;n++)t.push(i(p[n],g));this.postMessage(t)}function o(){g=0,p=[],s()}function s(){for(var t=0;t<v;t++)p[t]=[]}function i(t,n){for(var e=new Float32Array(n),r=0,a=0;a<t.length;a++)e.set(t[a],r),r+=t[a].length;return e}function f(t,n){for(var e=t.length+n.length,r=new Float32Array(e),a=0,o=0;a<e;)r[a++]=t[o],r[a++]=n[o],o++;return r}function c(t,n,e){for(var r=0;r<e.length;r++,n+=2){var a=Math.max(-1,Math.min(1,e[r]));t.setInt16(n,a<0?32768*a:32767*a,!0)}}function u(t,n,e){for(var r=0;r<e.length;r++)t.setUint8(n+r,e.charCodeAt(r))}function l(t){var n=new ArrayBuffer(44+2*t.length),e=new DataView(n);return u(e,0,"RIFF"),e.setUint32(4,36+2*t.length,!0),u(e,8,"WAVE"),u(e,12,"fmt "),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,v,!0),e.setUint32(24,h,!0),e.setUint32(28,4*h,!0),e.setUint16(32,2*v,!0),e.setUint16(34,16,!0),u(e,36,"data"),e.setUint32(40,2*t.length,!0),c(e,44,t),e}var h,v,g=0,p=[];t.onmessage=function(t){switch(t.data.command){case"init":n(t.data.config);break;case"record":e(t.data.buffer);break;case"exportWAV":r(t.data.type);break;case"getBuffer":a();break;case"clear":o()}}}).call(n,function(){return this}())}]);\n//# sourceMappingURL=9f9aac32c9a7432b5555.worker.js.map',r.p+"9f9aac32c9a7432b5555.worker.js")}},function(e,t,r){var n=r(27),o=function(e,t){var r=t||{},o=r.bufferLen||4096,i=r.numChannels||2;this.context=e.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,o,i,i);var a=new n;a.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:i}});var s,l=!1;this.node.onaudioprocess=function(e){if(l){for(var t=[],r=0;r<i;r++)t.push(e.inputBuffer.getChannelData(r));a.postMessage({command:"record",buffer:t})}},this.configure=function(e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])},this.record=function(){l=!0},this.stop=function(){l=!1},this.clear=function(){a.postMessage({command:"clear"})},this.getBuffer=function(e){s=e||r.callback,a.postMessage({command:"getBuffer"})},this.exportWAV=function(e,t){if(s=e||r.callback,t=t||r.type||"audio/wav",!s)throw new Error("Callback not set");a.postMessage({command:"exportWAV",type:t})},a.onmessage=function(e){var t=e.data;s(t)},e.connect(this.node),this.node.connect(this.context.destination)};o.forceDownload=function(e,t){var r=(window.URL||window.webkitURL).createObjectURL(e),n=window.document.createElement("a");n.href=r,n.download=t||"output.wav";var o=document.createEvent("Event");o.initEvent("click",!0,!0),n.dispatchEvent(o)},e.exports=o},function(e,t){}])})}).call(t,r(526).setImmediate,r(526).clearImmediate)},587:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAAAQCAYAAAD6bToNAAAEJGlDQ1BJQ0MgUHJvZmlsZQAAOBGFVd9v21QUPolvUqQWPyBYR4eKxa9VU1u5GxqtxgZJk6XtShal6dgqJOQ6N4mpGwfb6baqT3uBNwb8AUDZAw9IPCENBmJ72fbAtElThyqqSUh76MQPISbtBVXhu3ZiJ1PEXPX6yznfOec7517bRD1fabWaGVWIlquunc8klZOnFpSeTYrSs9RLA9Sr6U4tkcvNEi7BFffO6+EdigjL7ZHu/k72I796i9zRiSJPwG4VHX0Z+AxRzNRrtksUvwf7+Gm3BtzzHPDTNgQCqwKXfZwSeNHHJz1OIT8JjtAq6xWtCLwGPLzYZi+3YV8DGMiT4VVuG7oiZpGzrZJhcs/hL49xtzH/Dy6bdfTsXYNY+5yluWO4D4neK/ZUvok/17X0HPBLsF+vuUlhfwX4j/rSfAJ4H1H0qZJ9dN7nR19frRTeBt4Fe9FwpwtN+2p1MXscGLHR9SXrmMgjONd1ZxKzpBeA71b4tNhj6JGoyFNp4GHgwUp9qplfmnFW5oTdy7NamcwCI49kv6fN5IAHgD+0rbyoBc3SOjczohbyS1drbq6pQdqumllRC/0ymTtej8gpbbuVwpQfyw66dqEZyxZKxtHpJn+tZnpnEdrYBbueF9qQn93S7HQGGHnYP7w6L+YGHNtd1FJitqPAR+hERCNOFi1i1alKO6RQnjKUxL1GNjwlMsiEhcPLYTEiT9ISbN15OY/jx4SMshe9LaJRpTvHr3C/ybFYP1PZAfwfYrPsMBtnE6SwN9ib7AhLwTrBDgUKcm06FSrTfSj187xPdVQWOk5Q8vxAfSiIUc7Z7xr6zY/+hpqwSyv0I0/QMTRb7RMgBxNodTfSPqdraz/sDjzKBrv4zu2+a2t0/HHzjd2Lbcc2sG7GtsL42K+xLfxtUgI7YHqKlqHK8HbCCXgjHT1cAdMlDetv4FnQ2lLasaOl6vmB0CMmwT/IPszSueHQqv6i/qluqF+oF9TfO2qEGTumJH0qfSv9KH0nfS/9TIp0Wboi/SRdlb6RLgU5u++9nyXYe69fYRPdil1o1WufNSdTTsp75BfllPy8/LI8G7AUuV8ek6fkvfDsCfbNDP0dvRh0CrNqTbV7LfEEGDQPJQadBtfGVMWEq3QWWdufk6ZSNsjG2PQjp3ZcnOWWing6noonSInvi0/Ex+IzAreevPhe+CawpgP1/pMTMDo64G0sTCXIM+KdOnFWRfQKdJvQzV1+Bt8OokmrdtY2yhVX2a+qrykJfMq4Ml3VR4cVzTQVz+UoNne4vcKLoyS+gyKO6EHe+75Fdt0Mbe5bRIf/wjvrVmhbqBN97RD1vxrahvBOfOYzoosH9bq94uejSOQGkVM6sN/7HelL4t10t9F4gPdVzydEOx83Gv+uNxo7XyL/FtFl8z9ZAHF4bBsrEwAAAAlwSFlzAAALEwAACxMBAJqcGAAABN9pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuMS4yIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4xPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8dGlmZjpDb21wcmVzc2lvbj41PC90aWZmOkNvbXByZXNzaW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzI8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMDQ8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE2PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+CiAgICAgICAgIDxkYzpzdWJqZWN0PgogICAgICAgICAgICA8cmRmOkJhZy8+CiAgICAgICAgIDwvZGM6c3ViamVjdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDEyLTExLTA4VDE0OjExOjM5PC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5QaXhlbG1hdG9yIDIuMS4yPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoF/L0kAAAEXUlEQVRYCe2XX2jOYRTH987YpvwNSf5diNhEsQsiSSh/S8IFao0oy8XczJ+MN5kbV0pCydZYKy2SEtZMRgxrV5q/27hBbBgyM5/vb88zD/u9v/fdbNnFe+r7nvOcc57znN95zvP8fm+ora0tIU59twKJfTe1eGaqQHyD+ngfJHU1v1AoNIs5gugeV2R1uxj/7Y0KhGJ5B7EpU1h8OHgKnoAhwNI5hC3E+WoVQZxYQ7E34d/p5YetH7YUTM1BMXrLxvrJxO7P+p+7skav5q06RQJJTgIF4DioA0WgEai4LoojxbB6/BeDBjNPMRRTmwFLSAEngTamFVSBqcamDZXTbifWZqNLh+ualv02sA23zOjmmhgVZqzY9eA0GO3EG8H4EvgOFKscjDFzw0aXbP0tRx8xbzO3Gp+rjv94Eyvb2APzkk8iEzoRHaHTIloLZnpS8M965kwLdvE2WuvlgxqwEagBRHvBVqCNOQumg0vE9M0Pmx/NRbndz2B0b+ElYBDIAjr5ls4grAQXDRbAD4Bo1BN5B+VFuzgniGxGgnKgIirZXKBiRjtB6roCcBDMcWOaTklFL5/zQNdYCEyyfshvQCVINP47keWvUxfrCfqJbxMYA/xO0B0TW11fBBQ/A6hJJB9z8lnEWFcdLCEMJPidoIh5m7mxnCDfvGwuHR1Kt+rFrxOjAorsKWofRf/dhMt+UEmsVa47i+n9VAY2AD1UMRgLEvAdBVNjXMZPRRapOURp7SymX52IAeAY8CrrN4s1vqEvNDad1BlGLjFcTXsDtNixH+/BvL3wPnl5+o4NYpTjl0g3ddk+85ajk/4BWA3KeMilcBVV5BbEyrLpvSFKbmfer53zw9E9Q84Da4CuqyBqMEY1o06USO+frpDNweaquVa2NuUeLW93TTcvT+9ukOv4r/J7nwDD0B2nU5bAJxv7CvhroI+DeUYnZuVa/D8xVrz5Mhiysn0gqXVtHgX3wTYQROuM8RH8sZF1nXpE48wG0WoTmLcJ9RKeQSy7SX55G1ePuXl5iiTX2oNyoRuLBCcy1smpRr4CTwcqaB0b0IbuBPIu+Fn4C6B3UB2Qr6gUZGLX1agN01V5janN6DoKybiVcSa2h8B2MaJH47AdRtKVpndUKf5VsqC/C8uD61rXqdoBjoB9wNIh7PbEfmRuPuNY8taJLsf3JjwLvAO3gKWIeXkOLNTxoYBiFdDkfMNz4TVA9/pzUAAage54P6h4B92YVkafA+rNPD2oim0/s/URcQp8AXoPqXBpzlwVTpukebJXgAmyQ9ogCWHHf4/R/f2ZrSuoFuSBgY7/WMbXgeLrP9AF4NnhYfD3s74ya0fLO8RcNYWeSzFUw4XOunoO6X3zkp/934DPb2K31X3qJN2hlkune7qVidJ3i4itYqsDVYw/CJtOdCo2bXQnwp6CMgm7itjjRPyBBG0hvn2XxLRGDHmrhoOJ+yGmgI6T7wY59rj4nyug6yFOfbgCvwAKKIGcqIer7gAAAABJRU5ErkJggg=="},596:function(e,t,r){r(561);var n=r(8)(r(532),r(606),"data-v-7ad02d0d",null);e.exports=n.exports},605:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:{hide:!this.currentSection,pinned:!e.composerHidden},attrs:{id:"action-panel"}},[r("ul",{attrs:{id:"experience-controls"}},[r("li",{staticClass:"experience-control",on:{click:e.toggleVideoPlaying}},[e.videoPlaying?r("icon",{attrs:{name:"pause"}}):r("icon",{attrs:{name:"play"}})],1),r("li",{staticClass:"experience-control"},[r("icon",{attrs:{name:"step-forward"}})],1),r("li",{staticClass:"experience-control",attrs:{id:"progress-bar"}},[r("div",{attrs:{id:"progress-bar--start"}},[e._v(e._s(e.start))]),r("div",{attrs:{id:"progress-bar--end"}},[e._v(e._s(e.end))]),r("div",{attrs:{id:"progress-bar--track"}}),r("div",{style:{left:100/e.content.duration*e.currentTime+"%"},attrs:{id:"progress-bar--thumb"}})]),r("li",{staticClass:"experience-control pull-right",on:{click:e.toggleComposer}},[r("icon",{attrs:{name:e.composerHidden?"chevron-up":"chevron-down"}})],1),r("li",{staticClass:"experience-control pull-right",attrs:{id:"twitter-control"}},[r("a",{attrs:{href:e.twitterLink,target:"_blank"}},[r("icon",{attrs:{name:"twitter"}})],1)]),r("div",{staticClass:"clearfix"})]),r("media-container",{attrs:{"player-type":e.availablePlayerTypes[e.playerTypeIndex],"class-section":e.content,"video-is-active":e.videoIsActive}})],1)},staticRenderFns:[]}},606:function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"soundcloud-mode":e.src&&"soundcloud"===e.playerType,"youtube-mode":e.src&&"youtube"===e.playerType},attrs:{id:"media-wrapper"}},[n("div",{attrs:{id:"video-wrapper"}},[e.src&&"youtube"===this.playerType?n("youtube",{style:{height:this.pHeight+"px",width:this.pWidth+"px"},attrs:{id:"video-container","video-id":e.src,"player-vars":{autoplay:1,controls:0,playsinline:1,rel:0,showinfo:0,modestbranding:1},"player-width":e.pWidth,"player-height":e.pHeight},on:{ready:e.youtubeReady,playing:e.youtubePlaying,paused:e.youtubePaused,ended:e.youtubeEnded}}):e._e(),e.src&&"soundcloud"===this.playerType?n("div",{attrs:{id:"soundcloud-container"}},[n("img",{attrs:{src:r(587)}})]):e._e()],1),n("div",{attrs:{id:"images-wrapper"}},[e.videoIsActive&&e.media?n("div",{style:{"background-image":"url(https://"+e.course.slug+".connectedacademy.io/course/content/media/small/"+e.media[e.currentSegmentIndex].text+")"},attrs:{id:"mobile-image-view"},on:{click:function(t){e.setLightboxMedia(e.media[e.currentSegmentIndex].text)}}}):e._e(),e.videoIsActive&&e.media&&e.swiperVisible?n("swiper",{ref:"mySwiper",attrs:{id:"image-swiper",options:e.swiperOption}},e._l(e.media,function(t,r){return n("swiper-slide",{key:r},[n("img",{staticClass:"swiper-lazy",attrs:{src:"https://"+e.course.slug+".connectedacademy.io/course/content/media/small/"+t.text},on:{click:function(r){e.setLightboxMedia(t.text)}}}),n("div",{staticClass:"swiper-lazy-preloader swiper-lazy-preloader-white"})])})):e._e()],1)])},staticRenderFns:[]}},609:function(e,t,r){/*!
  * Vue YouTube Embed version 2.1.2
  * under MIT License copyright 2017 kaorun343
  */
!function(e,r){r(t)}(0,function(e){"use strict";function t(e){var t=e.replace(o,"$1");if(t.includes(";")){var r=t.split(";");if(r[1].includes("%")){t=("http://youtube.com"+decodeURIComponent(r[1])).replace(o,"$1")}else t=r[0]}else t.includes("#")&&(t=t.split("#")[0]);return t}function r(e){void 0===e&&(e="");var t=e.match(i);if(!t)return 0;var r=t[0],n=t[1],o=t[2];return void 0!==o?(o=parseInt(o,10),n=parseInt(n,10)):r.includes("m")?(n=parseInt(n,10),o=0):(o=parseInt(n,10),n=0),o+60*n}function n(e,n){void 0===n&&(n={global:!0}),a.Vue=e,l.ready=l.mounted,n.global&&e.component("youtube",l),e.prototype.$youtube={getIdFromURL:t,getTimeFromURL:r};var o=document.createElement("script");o.src="https://www.youtube.com/player_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(o,i),window.onYouTubeIframeAPIReady=function(){a.YT=YT;var t=YT.PlayerState;a.events[t.ENDED]="ended",a.events[t.PLAYING]="playing",a.events[t.PAUSED]="paused",a.events[t.BUFFERING]="buffering",a.events[t.CUED]="cued",e.nextTick(function(){a.run()})}}String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)});var o=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\S*[^\w\s-])([\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,i=/t=(\d+)[ms]?(\d+)?s?/,a={scripts:[],events:{},run:function(){var e=this;this.scripts.forEach(function(t){t(e.YT)}),this.scripts=[]},register:function(e){var t=this;this.YT?this.Vue.nextTick(function(){e(t.YT)}):this.scripts.push(e)}},s=0,l={props:{playerHeight:{type:[String,Number],default:"390"},playerWidth:{type:[String,Number],default:"640"},playerVars:{type:Object,default:function(){return{autoplay:0,time:0}}},videoId:{type:String},mute:{type:Boolean,default:!1}},render:function(e){return e("div",[e("div",{attrs:{id:this.elementId}})])},template:'<div><div :id="elementId"></div></div>',watch:{playerWidth:"setSize",playerHeight:"setSize",videoId:"update",mute:"setMute"},data:function(){return s+=1,{elementId:"youtube-player-"+s,player:{}}},methods:{setSize:function(){this.player.setSize(this.playerWidth,this.playerHeight)},setMute:function(e){e?this.player.mute():this.player.unMute()},update:function(e){var t=(this.playerVars.autoplay?"load":"cue")+"VideoById";this.player.hasOwnProperty(t)?this.player[t](e):setTimeout(function(){this.update(e)}.bind(this),100)}},mounted:function(){var e=this;a.register(function(t){var r=e,n=r.playerHeight,o=r.playerWidth,i=r.playerVars,s=r.videoId;e.player=new t.Player(e.elementId,{height:n,width:o,playerVars:i,videoId:s,events:{onReady:function(t){e.setMute(e.mute),e.$emit("ready",t.target)},onStateChange:function(t){-1!==t.data&&e.$emit(a.events[t.data],t.target)},onError:function(t){e.$emit("error",t.target)}}})})},beforeDestroy:function(){null!==this.player&&this.player.destroy&&this.player.destroy(),delete this.player}};e.YouTubePlayer=l,e.getIdFromURL=t,e.getTimeFromURL=r,e.default=n,Object.defineProperty(e,"__esModule",{value:!0})})}});
//# sourceMappingURL=8.25f197d589cab26d088a.js.map